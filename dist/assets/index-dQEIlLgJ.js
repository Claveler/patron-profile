(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function i(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(s){if(s.ep)return;s.ep=!0;const l=i(s);fetch(s.href,l)}})();function km(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Dc={exports:{}},Yn={},Pc={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mi=Symbol.for("react.element"),Cm=Symbol.for("react.portal"),Sm=Symbol.for("react.fragment"),Im=Symbol.for("react.strict_mode"),Em=Symbol.for("react.profiler"),Dm=Symbol.for("react.provider"),Pm=Symbol.for("react.context"),Am=Symbol.for("react.forward_ref"),Tm=Symbol.for("react.suspense"),Mm=Symbol.for("react.memo"),Fm=Symbol.for("react.lazy"),Vr=Symbol.iterator;function Rm(e){return e===null||typeof e!="object"?null:(e=Vr&&e[Vr]||e["@@iterator"],typeof e=="function"?e:null)}var Ac={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tc=Object.assign,Mc={};function Ha(e,t,i){this.props=e,this.context=t,this.refs=Mc,this.updater=i||Ac}Ha.prototype.isReactComponent={};Ha.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ha.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Fc(){}Fc.prototype=Ha.prototype;function Gl(e,t,i){this.props=e,this.context=t,this.refs=Mc,this.updater=i||Ac}var Hl=Gl.prototype=new Fc;Hl.constructor=Gl;Tc(Hl,Ha.prototype);Hl.isPureReactComponent=!0;var Gr=Array.isArray,Rc=Object.prototype.hasOwnProperty,Wl={current:null},Lc={key:!0,ref:!0,__self:!0,__source:!0};function $c(e,t,i){var n,s={},l=null,r=null;if(t!=null)for(n in t.ref!==void 0&&(r=t.ref),t.key!==void 0&&(l=""+t.key),t)Rc.call(t,n)&&!Lc.hasOwnProperty(n)&&(s[n]=t[n]);var c=arguments.length-2;if(c===1)s.children=i;else if(1<c){for(var o=Array(c),d=0;d<c;d++)o[d]=arguments[d+2];s.children=o}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)s[n]===void 0&&(s[n]=c[n]);return{$$typeof:Mi,type:e,key:l,ref:r,props:s,_owner:Wl.current}}function Lm(e,t){return{$$typeof:Mi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ql(e){return typeof e=="object"&&e!==null&&e.$$typeof===Mi}function $m(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return t[i]})}var Hr=/\/+/g;function _s(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$m(""+e.key):t.toString(36)}function on(e,t,i,n,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var r=!1;if(e===null)r=!0;else switch(l){case"string":case"number":r=!0;break;case"object":switch(e.$$typeof){case Mi:case Cm:r=!0}}if(r)return r=e,s=s(r),e=n===""?"."+_s(r,0):n,Gr(s)?(i="",e!=null&&(i=e.replace(Hr,"$&/")+"/"),on(s,t,i,"",function(d){return d})):s!=null&&(Ql(s)&&(s=Lm(s,i+(!s.key||r&&r.key===s.key?"":(""+s.key).replace(Hr,"$&/")+"/")+e)),t.push(s)),1;if(r=0,n=n===""?".":n+":",Gr(e))for(var c=0;c<e.length;c++){l=e[c];var o=n+_s(l,c);r+=on(l,t,i,o,s)}else if(o=Rm(e),typeof o=="function")for(e=o.call(e),c=0;!(l=e.next()).done;)l=l.value,o=n+_s(l,c++),r+=on(l,t,i,o,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return r}function Bi(e,t,i){if(e==null)return e;var n=[],s=0;return on(e,n,"","",function(l){return t.call(i,l,s++)}),n}function Om(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pe={current:null},cn={transition:null},zm={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:cn,ReactCurrentOwner:Wl};function Oc(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:Bi,forEach:function(e,t,i){Bi(e,function(){t.apply(this,arguments)},i)},count:function(e){var t=0;return Bi(e,function(){t++}),t},toArray:function(e){return Bi(e,function(t){return t})||[]},only:function(e){if(!Ql(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=Ha;W.Fragment=Sm;W.Profiler=Em;W.PureComponent=Gl;W.StrictMode=Im;W.Suspense=Tm;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zm;W.act=Oc;W.cloneElement=function(e,t,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Tc({},e.props),s=e.key,l=e.ref,r=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,r=Wl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(o in t)Rc.call(t,o)&&!Lc.hasOwnProperty(o)&&(n[o]=t[o]===void 0&&c!==void 0?c[o]:t[o])}var o=arguments.length-2;if(o===1)n.children=i;else if(1<o){c=Array(o);for(var d=0;d<o;d++)c[d]=arguments[d+2];n.children=c}return{$$typeof:Mi,type:e.type,key:s,ref:l,props:n,_owner:r}};W.createContext=function(e){return e={$$typeof:Pm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Dm,_context:e},e.Consumer=e};W.createElement=$c;W.createFactory=function(e){var t=$c.bind(null,e);return t.type=e,t};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:Am,render:e}};W.isValidElement=Ql;W.lazy=function(e){return{$$typeof:Fm,_payload:{_status:-1,_result:e},_init:Om}};W.memo=function(e,t){return{$$typeof:Mm,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=cn.transition;cn.transition={};try{e()}finally{cn.transition=t}};W.unstable_act=Oc;W.useCallback=function(e,t){return Pe.current.useCallback(e,t)};W.useContext=function(e){return Pe.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return Pe.current.useDeferredValue(e)};W.useEffect=function(e,t){return Pe.current.useEffect(e,t)};W.useId=function(){return Pe.current.useId()};W.useImperativeHandle=function(e,t,i){return Pe.current.useImperativeHandle(e,t,i)};W.useInsertionEffect=function(e,t){return Pe.current.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return Pe.current.useLayoutEffect(e,t)};W.useMemo=function(e,t){return Pe.current.useMemo(e,t)};W.useReducer=function(e,t,i){return Pe.current.useReducer(e,t,i)};W.useRef=function(e){return Pe.current.useRef(e)};W.useState=function(e){return Pe.current.useState(e)};W.useSyncExternalStore=function(e,t,i){return Pe.current.useSyncExternalStore(e,t,i)};W.useTransition=function(){return Pe.current.useTransition()};W.version="18.3.1";Pc.exports=W;var j=Pc.exports;const ue=km(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um=j,Bm=Symbol.for("react.element"),Vm=Symbol.for("react.fragment"),Gm=Object.prototype.hasOwnProperty,Hm=Um.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wm={key:!0,ref:!0,__self:!0,__source:!0};function zc(e,t,i){var n,s={},l=null,r=null;i!==void 0&&(l=""+i),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(r=t.ref);for(n in t)Gm.call(t,n)&&!Wm.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Bm,type:e,key:l,ref:r,props:s,_owner:Hm.current}}Yn.Fragment=Vm;Yn.jsx=zc;Yn.jsxs=zc;Dc.exports=Yn;var a=Dc.exports,Ys={},Uc={exports:{}},Ge={},Bc={exports:{}},Vc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,D){var R=C.length;C.push(D);e:for(;0<R;){var G=R-1>>>1,Y=C[G];if(0<s(Y,D))C[G]=D,C[R]=Y,R=G;else break e}}function i(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var D=C[0],R=C.pop();if(R!==D){C[0]=R;e:for(var G=0,Y=C.length,Q=Y>>>1;G<Q;){var Se=2*(G+1)-1,bt=C[Se],pt=Se+1,fa=C[pt];if(0>s(bt,R))pt<Y&&0>s(fa,bt)?(C[G]=fa,C[pt]=R,G=pt):(C[G]=bt,C[Se]=R,G=Se);else if(pt<Y&&0>s(fa,R))C[G]=fa,C[pt]=R,G=pt;else break e}}return D}function s(C,D){var R=C.sortIndex-D.sortIndex;return R!==0?R:C.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var r=Date,c=r.now();e.unstable_now=function(){return r.now()-c}}var o=[],d=[],u=1,v=null,m=3,f=!1,g=!1,y=!1,N=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(C){for(var D=i(d);D!==null;){if(D.callback===null)n(d);else if(D.startTime<=C)n(d),D.sortIndex=D.expirationTime,t(o,D);else break;D=i(d)}}function x(C){if(y=!1,h(C),!g)if(i(o)!==null)g=!0,U(w);else{var D=i(d);D!==null&&O(x,D.startTime-C)}}function w(C,D){g=!1,y&&(y=!1,_(k),k=-1),f=!0;var R=m;try{for(h(D),v=i(o);v!==null&&(!(v.expirationTime>D)||C&&!I());){var G=v.callback;if(typeof G=="function"){v.callback=null,m=v.priorityLevel;var Y=G(v.expirationTime<=D);D=e.unstable_now(),typeof Y=="function"?v.callback=Y:v===i(o)&&n(o),h(D)}else n(o);v=i(o)}if(v!==null)var Q=!0;else{var Se=i(d);Se!==null&&O(x,Se.startTime-D),Q=!1}return Q}finally{v=null,m=R,f=!1}}var b=!1,P=null,k=-1,M=5,F=-1;function I(){return!(e.unstable_now()-F<M)}function A(){if(P!==null){var C=e.unstable_now();F=C;var D=!0;try{D=P(!0,C)}finally{D?$():(b=!1,P=null)}}else b=!1}var $;if(typeof p=="function")$=function(){p(A)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,S=V.port2;V.port1.onmessage=A,$=function(){S.postMessage(null)}}else $=function(){N(A,0)};function U(C){P=C,b||(b=!0,$())}function O(C,D){k=N(function(){C(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){g||f||(g=!0,U(w))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return i(o)},e.unstable_next=function(C){switch(m){case 1:case 2:case 3:var D=3;break;default:D=m}var R=m;m=D;try{return C()}finally{m=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,D){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var R=m;m=C;try{return D()}finally{m=R}},e.unstable_scheduleCallback=function(C,D,R){var G=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?G+R:G):R=G,C){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=R+Y,C={id:u++,callback:D,priorityLevel:C,startTime:R,expirationTime:Y,sortIndex:-1},R>G?(C.sortIndex=R,t(d,C),i(o)===null&&C===i(d)&&(y?(_(k),k=-1):y=!0,O(x,R-G))):(C.sortIndex=Y,t(o,C),g||f||(g=!0,U(w))),C},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(C){var D=m;return function(){var R=m;m=D;try{return C.apply(this,arguments)}finally{m=R}}}})(Vc);Bc.exports=Vc;var Qm=Bc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ym=j,Ve=Qm;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gc=new Set,gi={};function ma(e,t){La(e,t),La(e+"Capture",t)}function La(e,t){for(gi[e]=t,e=0;e<t.length;e++)Gc.add(t[e])}var yt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ks=Object.prototype.hasOwnProperty,Km=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wr={},Qr={};function qm(e){return Ks.call(Qr,e)?!0:Ks.call(Wr,e)?!1:Km.test(e)?Qr[e]=!0:(Wr[e]=!0,!1)}function Xm(e,t,i,n){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Jm(e,t,i,n){if(t===null||typeof t>"u"||Xm(e,t,i,n))return!0;if(n)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ae(e,t,i,n,s,l,r){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=r}var xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xe[e]=new Ae(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xe[t]=new Ae(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xe[e]=new Ae(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xe[e]=new Ae(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xe[e]=new Ae(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xe[e]=new Ae(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xe[e]=new Ae(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xe[e]=new Ae(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xe[e]=new Ae(e,5,!1,e.toLowerCase(),null,!1,!1)});var Yl=/[\-:]([a-z])/g;function Kl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Yl,Kl);xe[t]=new Ae(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Yl,Kl);xe[t]=new Ae(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Yl,Kl);xe[t]=new Ae(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xe[e]=new Ae(e,1,!1,e.toLowerCase(),null,!1,!1)});xe.xlinkHref=new Ae("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xe[e]=new Ae(e,1,!1,e.toLowerCase(),null,!0,!0)});function ql(e,t,i,n){var s=xe.hasOwnProperty(t)?xe[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Jm(t,i,s,n)&&(i=null),n||s===null?qm(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):s.mustUseProperty?e[s.propertyName]=i===null?s.type===3?!1:"":i:(t=s.attributeName,n=s.attributeNamespace,i===null?e.removeAttribute(t):(s=s.type,i=s===3||s===4&&i===!0?"":""+i,n?e.setAttributeNS(n,t,i):e.setAttribute(t,i))))}var wt=Ym.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vi=Symbol.for("react.element"),_a=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),Xl=Symbol.for("react.strict_mode"),qs=Symbol.for("react.profiler"),Hc=Symbol.for("react.provider"),Wc=Symbol.for("react.context"),Jl=Symbol.for("react.forward_ref"),Xs=Symbol.for("react.suspense"),Js=Symbol.for("react.suspense_list"),Zl=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),Qc=Symbol.for("react.offscreen"),Yr=Symbol.iterator;function Ya(e){return e===null||typeof e!="object"?null:(e=Yr&&e[Yr]||e["@@iterator"],typeof e=="function"?e:null)}var se=Object.assign,ys;function ni(e){if(ys===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);ys=t&&t[1]||""}return`
`+ys+e}var xs=!1;function Ns(e,t){if(!e||xs)return"";xs=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),l=n.stack.split(`
`),r=s.length-1,c=l.length-1;1<=r&&0<=c&&s[r]!==l[c];)c--;for(;1<=r&&0<=c;r--,c--)if(s[r]!==l[c]){if(r!==1||c!==1)do if(r--,c--,0>c||s[r]!==l[c]){var o=`
`+s[r].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=r&&0<=c);break}}}finally{xs=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?ni(e):""}function Zm(e){switch(e.tag){case 5:return ni(e.type);case 16:return ni("Lazy");case 13:return ni("Suspense");case 19:return ni("SuspenseList");case 0:case 2:case 15:return e=Ns(e.type,!1),e;case 11:return e=Ns(e.type.render,!1),e;case 1:return e=Ns(e.type,!0),e;default:return""}}function Zs(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ya:return"Fragment";case _a:return"Portal";case qs:return"Profiler";case Xl:return"StrictMode";case Xs:return"Suspense";case Js:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Wc:return(e.displayName||"Context")+".Consumer";case Hc:return(e._context.displayName||"Context")+".Provider";case Jl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Zl:return t=e.displayName||null,t!==null?t:Zs(e.type)||"Memo";case Dt:t=e._payload,e=e._init;try{return Zs(e(t))}catch{}}return null}function ep(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zs(t);case 8:return t===Xl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Gt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tp(e){var t=Yc(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,l=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(r){n=""+r,l.call(this,r)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(r){n=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gi(e){e._valueTracker||(e._valueTracker=tp(e))}function Kc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),n="";return e&&(n=Yc(e)?e.checked?"true":"false":e.value),e=n,e!==i?(t.setValue(e),!0):!1}function Nn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function el(e,t){var i=t.checked;return se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Kr(e,t){var i=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;i=Gt(t.value!=null?t.value:i),e._wrapperState={initialChecked:n,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qc(e,t){t=t.checked,t!=null&&ql(e,"checked",t,!1)}function tl(e,t){qc(e,t);var i=Gt(t.value),n=t.type;if(i!=null)n==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?al(e,t.type,i):t.hasOwnProperty("defaultValue")&&al(e,t.type,Gt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function qr(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function al(e,t,i){(t!=="number"||Nn(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var si=Array.isArray;function Pa(e,t,i,n){if(e=e.options,t){t={};for(var s=0;s<i.length;s++)t["$"+i[s]]=!0;for(i=0;i<e.length;i++)s=t.hasOwnProperty("$"+e[i].value),e[i].selected!==s&&(e[i].selected=s),s&&n&&(e[i].defaultSelected=!0)}else{for(i=""+Gt(i),t=null,s=0;s<e.length;s++){if(e[s].value===i){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function il(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xr(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(T(92));if(si(i)){if(1<i.length)throw Error(T(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:Gt(i)}}function Xc(e,t){var i=Gt(t.value),n=Gt(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),n!=null&&(e.defaultValue=""+n)}function Jr(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Jc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Jc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Hi,Zc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,i,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Hi=Hi||document.createElement("div"),Hi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Hi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _i(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var oi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ap=["Webkit","ms","Moz","O"];Object.keys(oi).forEach(function(e){ap.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),oi[t]=oi[e]})});function ed(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||oi.hasOwnProperty(e)&&oi[e]?(""+t).trim():t+"px"}function td(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var n=i.indexOf("--")===0,s=ed(i,t[i],n);i==="float"&&(i="cssFloat"),n?e.setProperty(i,s):e[i]=s}}var ip=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sl(e,t){if(t){if(ip[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function ll(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rl=null;function er(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ol=null,Aa=null,Ta=null;function Zr(e){if(e=Li(e)){if(typeof ol!="function")throw Error(T(280));var t=e.stateNode;t&&(t=Zn(t),ol(e.stateNode,e.type,t))}}function ad(e){Aa?Ta?Ta.push(e):Ta=[e]:Aa=e}function id(){if(Aa){var e=Aa,t=Ta;if(Ta=Aa=null,Zr(e),t)for(e=0;e<t.length;e++)Zr(t[e])}}function nd(e,t){return e(t)}function sd(){}var js=!1;function ld(e,t,i){if(js)return e(t,i);js=!0;try{return nd(e,t,i)}finally{js=!1,(Aa!==null||Ta!==null)&&(sd(),id())}}function yi(e,t){var i=e.stateNode;if(i===null)return null;var n=Zn(i);if(n===null)return null;i=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(T(231,t,typeof i));return i}var cl=!1;if(yt)try{var Ka={};Object.defineProperty(Ka,"passive",{get:function(){cl=!0}}),window.addEventListener("test",Ka,Ka),window.removeEventListener("test",Ka,Ka)}catch{cl=!1}function np(e,t,i,n,s,l,r,c,o){var d=Array.prototype.slice.call(arguments,3);try{t.apply(i,d)}catch(u){this.onError(u)}}var ci=!1,jn=null,wn=!1,dl=null,sp={onError:function(e){ci=!0,jn=e}};function lp(e,t,i,n,s,l,r,c,o){ci=!1,jn=null,np.apply(sp,arguments)}function rp(e,t,i,n,s,l,r,c,o){if(lp.apply(this,arguments),ci){if(ci){var d=jn;ci=!1,jn=null}else throw Error(T(198));wn||(wn=!0,dl=d)}}function pa(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function rd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function eo(e){if(pa(e)!==e)throw Error(T(188))}function op(e){var t=e.alternate;if(!t){if(t=pa(e),t===null)throw Error(T(188));return t!==e?null:e}for(var i=e,n=t;;){var s=i.return;if(s===null)break;var l=s.alternate;if(l===null){if(n=s.return,n!==null){i=n;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===i)return eo(s),e;if(l===n)return eo(s),t;l=l.sibling}throw Error(T(188))}if(i.return!==n.return)i=s,n=l;else{for(var r=!1,c=s.child;c;){if(c===i){r=!0,i=s,n=l;break}if(c===n){r=!0,n=s,i=l;break}c=c.sibling}if(!r){for(c=l.child;c;){if(c===i){r=!0,i=l,n=s;break}if(c===n){r=!0,n=l,i=s;break}c=c.sibling}if(!r)throw Error(T(189))}}if(i.alternate!==n)throw Error(T(190))}if(i.tag!==3)throw Error(T(188));return i.stateNode.current===i?e:t}function od(e){return e=op(e),e!==null?cd(e):null}function cd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cd(e);if(t!==null)return t;e=e.sibling}return null}var dd=Ve.unstable_scheduleCallback,to=Ve.unstable_cancelCallback,cp=Ve.unstable_shouldYield,dp=Ve.unstable_requestPaint,ce=Ve.unstable_now,up=Ve.unstable_getCurrentPriorityLevel,tr=Ve.unstable_ImmediatePriority,ud=Ve.unstable_UserBlockingPriority,bn=Ve.unstable_NormalPriority,mp=Ve.unstable_LowPriority,md=Ve.unstable_IdlePriority,Kn=null,ut=null;function pp(e){if(ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(Kn,e,void 0,(e.current.flags&128)===128)}catch{}}var st=Math.clz32?Math.clz32:vp,hp=Math.log,fp=Math.LN2;function vp(e){return e>>>=0,e===0?32:31-(hp(e)/fp|0)|0}var Wi=64,Qi=4194304;function li(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function kn(e,t){var i=e.pendingLanes;if(i===0)return 0;var n=0,s=e.suspendedLanes,l=e.pingedLanes,r=i&268435455;if(r!==0){var c=r&~s;c!==0?n=li(c):(l&=r,l!==0&&(n=li(l)))}else r=i&~s,r!==0?n=li(r):l!==0&&(n=li(l));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if(n&4&&(n|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)i=31-st(t),s=1<<i,n|=e[i],t&=~s;return n}function gp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _p(e,t){for(var i=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var r=31-st(l),c=1<<r,o=s[r];o===-1?(!(c&i)||c&n)&&(s[r]=gp(c,t)):o<=t&&(e.expiredLanes|=c),l&=~c}}function ul(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pd(){var e=Wi;return Wi<<=1,!(Wi&4194240)&&(Wi=64),e}function ws(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Fi(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-st(t),e[t]=i}function yp(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<i;){var s=31-st(i),l=1<<s;t[s]=0,n[s]=-1,e[s]=-1,i&=~l}}function ar(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var n=31-st(i),s=1<<n;s&t|e[n]&t&&(e[n]|=t),i&=~s}}var q=0;function hd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fd,ir,vd,gd,_d,ml=!1,Yi=[],Rt=null,Lt=null,$t=null,xi=new Map,Ni=new Map,At=[],xp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ao(e,t){switch(e){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":Lt=null;break;case"mouseover":case"mouseout":$t=null;break;case"pointerover":case"pointerout":xi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ni.delete(t.pointerId)}}function qa(e,t,i,n,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:i,eventSystemFlags:n,nativeEvent:l,targetContainers:[s]},t!==null&&(t=Li(t),t!==null&&ir(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Np(e,t,i,n,s){switch(t){case"focusin":return Rt=qa(Rt,e,t,i,n,s),!0;case"dragenter":return Lt=qa(Lt,e,t,i,n,s),!0;case"mouseover":return $t=qa($t,e,t,i,n,s),!0;case"pointerover":var l=s.pointerId;return xi.set(l,qa(xi.get(l)||null,e,t,i,n,s)),!0;case"gotpointercapture":return l=s.pointerId,Ni.set(l,qa(Ni.get(l)||null,e,t,i,n,s)),!0}return!1}function yd(e){var t=Zt(e.target);if(t!==null){var i=pa(t);if(i!==null){if(t=i.tag,t===13){if(t=rd(i),t!==null){e.blockedOn=t,_d(e.priority,function(){vd(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dn(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=pl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var n=new i.constructor(i.type,i);rl=n,i.target.dispatchEvent(n),rl=null}else return t=Li(i),t!==null&&ir(t),e.blockedOn=i,!1;t.shift()}return!0}function io(e,t,i){dn(e)&&i.delete(t)}function jp(){ml=!1,Rt!==null&&dn(Rt)&&(Rt=null),Lt!==null&&dn(Lt)&&(Lt=null),$t!==null&&dn($t)&&($t=null),xi.forEach(io),Ni.forEach(io)}function Xa(e,t){e.blockedOn===t&&(e.blockedOn=null,ml||(ml=!0,Ve.unstable_scheduleCallback(Ve.unstable_NormalPriority,jp)))}function ji(e){function t(s){return Xa(s,e)}if(0<Yi.length){Xa(Yi[0],e);for(var i=1;i<Yi.length;i++){var n=Yi[i];n.blockedOn===e&&(n.blockedOn=null)}}for(Rt!==null&&Xa(Rt,e),Lt!==null&&Xa(Lt,e),$t!==null&&Xa($t,e),xi.forEach(t),Ni.forEach(t),i=0;i<At.length;i++)n=At[i],n.blockedOn===e&&(n.blockedOn=null);for(;0<At.length&&(i=At[0],i.blockedOn===null);)yd(i),i.blockedOn===null&&At.shift()}var Ma=wt.ReactCurrentBatchConfig,Cn=!0;function wp(e,t,i,n){var s=q,l=Ma.transition;Ma.transition=null;try{q=1,nr(e,t,i,n)}finally{q=s,Ma.transition=l}}function bp(e,t,i,n){var s=q,l=Ma.transition;Ma.transition=null;try{q=4,nr(e,t,i,n)}finally{q=s,Ma.transition=l}}function nr(e,t,i,n){if(Cn){var s=pl(e,t,i,n);if(s===null)Ts(e,t,n,Sn,i),ao(e,n);else if(Np(s,e,t,i,n))n.stopPropagation();else if(ao(e,n),t&4&&-1<xp.indexOf(e)){for(;s!==null;){var l=Li(s);if(l!==null&&fd(l),l=pl(e,t,i,n),l===null&&Ts(e,t,n,Sn,i),l===s)break;s=l}s!==null&&n.stopPropagation()}else Ts(e,t,n,null,i)}}var Sn=null;function pl(e,t,i,n){if(Sn=null,e=er(n),e=Zt(e),e!==null)if(t=pa(e),t===null)e=null;else if(i=t.tag,i===13){if(e=rd(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Sn=e,null}function xd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(up()){case tr:return 1;case ud:return 4;case bn:case mp:return 16;case md:return 536870912;default:return 16}default:return 16}}var Mt=null,sr=null,un=null;function Nd(){if(un)return un;var e,t=sr,i=t.length,n,s="value"in Mt?Mt.value:Mt.textContent,l=s.length;for(e=0;e<i&&t[e]===s[e];e++);var r=i-e;for(n=1;n<=r&&t[i-n]===s[l-n];n++);return un=s.slice(e,1<n?1-n:void 0)}function mn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ki(){return!0}function no(){return!1}function He(e){function t(i,n,s,l,r){this._reactName=i,this._targetInst=s,this.type=n,this.nativeEvent=l,this.target=r,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(i=e[c],this[c]=i?i(l):l[c]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Ki:no,this.isPropagationStopped=no,this}return se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ki)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ki)},persist:function(){},isPersistent:Ki}),t}var Wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lr=He(Wa),Ri=se({},Wa,{view:0,detail:0}),kp=He(Ri),bs,ks,Ja,qn=se({},Ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ja&&(Ja&&e.type==="mousemove"?(bs=e.screenX-Ja.screenX,ks=e.screenY-Ja.screenY):ks=bs=0,Ja=e),bs)},movementY:function(e){return"movementY"in e?e.movementY:ks}}),so=He(qn),Cp=se({},qn,{dataTransfer:0}),Sp=He(Cp),Ip=se({},Ri,{relatedTarget:0}),Cs=He(Ip),Ep=se({},Wa,{animationName:0,elapsedTime:0,pseudoElement:0}),Dp=He(Ep),Pp=se({},Wa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ap=He(Pp),Tp=se({},Wa,{data:0}),lo=He(Tp),Mp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Rp[e])?!!t[e]:!1}function rr(){return Lp}var $p=se({},Ri,{key:function(e){if(e.key){var t=Mp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Fp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rr,charCode:function(e){return e.type==="keypress"?mn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Op=He($p),zp=se({},qn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ro=He(zp),Up=se({},Ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rr}),Bp=He(Up),Vp=se({},Wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gp=He(Vp),Hp=se({},qn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wp=He(Hp),Qp=[9,13,27,32],or=yt&&"CompositionEvent"in window,di=null;yt&&"documentMode"in document&&(di=document.documentMode);var Yp=yt&&"TextEvent"in window&&!di,jd=yt&&(!or||di&&8<di&&11>=di),oo=" ",co=!1;function wd(e,t){switch(e){case"keyup":return Qp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xa=!1;function Kp(e,t){switch(e){case"compositionend":return bd(t);case"keypress":return t.which!==32?null:(co=!0,oo);case"textInput":return e=t.data,e===oo&&co?null:e;default:return null}}function qp(e,t){if(xa)return e==="compositionend"||!or&&wd(e,t)?(e=Nd(),un=sr=Mt=null,xa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jd&&t.locale!=="ko"?null:t.data;default:return null}}var Xp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Xp[e.type]:t==="textarea"}function kd(e,t,i,n){ad(n),t=In(t,"onChange"),0<t.length&&(i=new lr("onChange","change",null,i,n),e.push({event:i,listeners:t}))}var ui=null,wi=null;function Jp(e){Rd(e,0)}function Xn(e){var t=wa(e);if(Kc(t))return e}function Zp(e,t){if(e==="change")return t}var Cd=!1;if(yt){var Ss;if(yt){var Is="oninput"in document;if(!Is){var mo=document.createElement("div");mo.setAttribute("oninput","return;"),Is=typeof mo.oninput=="function"}Ss=Is}else Ss=!1;Cd=Ss&&(!document.documentMode||9<document.documentMode)}function po(){ui&&(ui.detachEvent("onpropertychange",Sd),wi=ui=null)}function Sd(e){if(e.propertyName==="value"&&Xn(wi)){var t=[];kd(t,wi,e,er(e)),ld(Jp,t)}}function eh(e,t,i){e==="focusin"?(po(),ui=t,wi=i,ui.attachEvent("onpropertychange",Sd)):e==="focusout"&&po()}function th(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xn(wi)}function ah(e,t){if(e==="click")return Xn(t)}function ih(e,t){if(e==="input"||e==="change")return Xn(t)}function nh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rt=typeof Object.is=="function"?Object.is:nh;function bi(e,t){if(rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++){var s=i[n];if(!Ks.call(t,s)||!rt(e[s],t[s]))return!1}return!0}function ho(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fo(e,t){var i=ho(e);e=0;for(var n;i;){if(i.nodeType===3){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ho(i)}}function Id(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Id(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ed(){for(var e=window,t=Nn();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Nn(e.document)}return t}function cr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function sh(e){var t=Ed(),i=e.focusedElem,n=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&Id(i.ownerDocument.documentElement,i)){if(n!==null&&cr(i)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=i.textContent.length,l=Math.min(n.start,s);n=n.end===void 0?l:Math.min(n.end,s),!e.extend&&l>n&&(s=n,n=l,l=s),s=fo(i,l);var r=fo(i,n);s&&r&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==r.node||e.focusOffset!==r.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>n?(e.addRange(t),e.extend(r.node,r.offset)):(t.setEnd(r.node,r.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lh=yt&&"documentMode"in document&&11>=document.documentMode,Na=null,hl=null,mi=null,fl=!1;function vo(e,t,i){var n=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;fl||Na==null||Na!==Nn(n)||(n=Na,"selectionStart"in n&&cr(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),mi&&bi(mi,n)||(mi=n,n=In(hl,"onSelect"),0<n.length&&(t=new lr("onSelect","select",null,t,i),e.push({event:t,listeners:n}),t.target=Na)))}function qi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var ja={animationend:qi("Animation","AnimationEnd"),animationiteration:qi("Animation","AnimationIteration"),animationstart:qi("Animation","AnimationStart"),transitionend:qi("Transition","TransitionEnd")},Es={},Dd={};yt&&(Dd=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function Jn(e){if(Es[e])return Es[e];if(!ja[e])return e;var t=ja[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Dd)return Es[e]=t[i];return e}var Pd=Jn("animationend"),Ad=Jn("animationiteration"),Td=Jn("animationstart"),Md=Jn("transitionend"),Fd=new Map,go="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qt(e,t){Fd.set(e,t),ma(t,[e])}for(var Ds=0;Ds<go.length;Ds++){var Ps=go[Ds],rh=Ps.toLowerCase(),oh=Ps[0].toUpperCase()+Ps.slice(1);Qt(rh,"on"+oh)}Qt(Pd,"onAnimationEnd");Qt(Ad,"onAnimationIteration");Qt(Td,"onAnimationStart");Qt("dblclick","onDoubleClick");Qt("focusin","onFocus");Qt("focusout","onBlur");Qt(Md,"onTransitionEnd");La("onMouseEnter",["mouseout","mouseover"]);La("onMouseLeave",["mouseout","mouseover"]);La("onPointerEnter",["pointerout","pointerover"]);La("onPointerLeave",["pointerout","pointerover"]);ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ma("onBeforeInput",["compositionend","keypress","textInput","paste"]);ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ch=new Set("cancel close invalid load scroll toggle".split(" ").concat(ri));function _o(e,t,i){var n=e.type||"unknown-event";e.currentTarget=i,rp(n,t,void 0,e),e.currentTarget=null}function Rd(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var n=e[i],s=n.event;n=n.listeners;e:{var l=void 0;if(t)for(var r=n.length-1;0<=r;r--){var c=n[r],o=c.instance,d=c.currentTarget;if(c=c.listener,o!==l&&s.isPropagationStopped())break e;_o(s,c,d),l=o}else for(r=0;r<n.length;r++){if(c=n[r],o=c.instance,d=c.currentTarget,c=c.listener,o!==l&&s.isPropagationStopped())break e;_o(s,c,d),l=o}}}if(wn)throw e=dl,wn=!1,dl=null,e}function ee(e,t){var i=t[xl];i===void 0&&(i=t[xl]=new Set);var n=e+"__bubble";i.has(n)||(Ld(t,e,2,!1),i.add(n))}function As(e,t,i){var n=0;t&&(n|=4),Ld(i,e,n,t)}var Xi="_reactListening"+Math.random().toString(36).slice(2);function ki(e){if(!e[Xi]){e[Xi]=!0,Gc.forEach(function(i){i!=="selectionchange"&&(ch.has(i)||As(i,!1,e),As(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xi]||(t[Xi]=!0,As("selectionchange",!1,t))}}function Ld(e,t,i,n){switch(xd(t)){case 1:var s=wp;break;case 4:s=bp;break;default:s=nr}i=s.bind(null,t,i,e),s=void 0,!cl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,i,{capture:!0,passive:s}):e.addEventListener(t,i,!0):s!==void 0?e.addEventListener(t,i,{passive:s}):e.addEventListener(t,i,!1)}function Ts(e,t,i,n,s){var l=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var r=n.tag;if(r===3||r===4){var c=n.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(r===4)for(r=n.return;r!==null;){var o=r.tag;if((o===3||o===4)&&(o=r.stateNode.containerInfo,o===s||o.nodeType===8&&o.parentNode===s))return;r=r.return}for(;c!==null;){if(r=Zt(c),r===null)return;if(o=r.tag,o===5||o===6){n=l=r;continue e}c=c.parentNode}}n=n.return}ld(function(){var d=l,u=er(i),v=[];e:{var m=Fd.get(e);if(m!==void 0){var f=lr,g=e;switch(e){case"keypress":if(mn(i)===0)break e;case"keydown":case"keyup":f=Op;break;case"focusin":g="focus",f=Cs;break;case"focusout":g="blur",f=Cs;break;case"beforeblur":case"afterblur":f=Cs;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=so;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Sp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Bp;break;case Pd:case Ad:case Td:f=Dp;break;case Md:f=Gp;break;case"scroll":f=kp;break;case"wheel":f=Wp;break;case"copy":case"cut":case"paste":f=Ap;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=ro}var y=(t&4)!==0,N=!y&&e==="scroll",_=y?m!==null?m+"Capture":null:m;y=[];for(var p=d,h;p!==null;){h=p;var x=h.stateNode;if(h.tag===5&&x!==null&&(h=x,_!==null&&(x=yi(p,_),x!=null&&y.push(Ci(p,x,h)))),N)break;p=p.return}0<y.length&&(m=new f(m,g,null,i,u),v.push({event:m,listeners:y}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",m&&i!==rl&&(g=i.relatedTarget||i.fromElement)&&(Zt(g)||g[xt]))break e;if((f||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,f?(g=i.relatedTarget||i.toElement,f=d,g=g?Zt(g):null,g!==null&&(N=pa(g),g!==N||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=d),f!==g)){if(y=so,x="onMouseLeave",_="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(y=ro,x="onPointerLeave",_="onPointerEnter",p="pointer"),N=f==null?m:wa(f),h=g==null?m:wa(g),m=new y(x,p+"leave",f,i,u),m.target=N,m.relatedTarget=h,x=null,Zt(u)===d&&(y=new y(_,p+"enter",g,i,u),y.target=h,y.relatedTarget=N,x=y),N=x,f&&g)t:{for(y=f,_=g,p=0,h=y;h;h=va(h))p++;for(h=0,x=_;x;x=va(x))h++;for(;0<p-h;)y=va(y),p--;for(;0<h-p;)_=va(_),h--;for(;p--;){if(y===_||_!==null&&y===_.alternate)break t;y=va(y),_=va(_)}y=null}else y=null;f!==null&&yo(v,m,f,y,!1),g!==null&&N!==null&&yo(v,N,g,y,!0)}}e:{if(m=d?wa(d):window,f=m.nodeName&&m.nodeName.toLowerCase(),f==="select"||f==="input"&&m.type==="file")var w=Zp;else if(uo(m))if(Cd)w=ih;else{w=th;var b=eh}else(f=m.nodeName)&&f.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(w=ah);if(w&&(w=w(e,d))){kd(v,w,i,u);break e}b&&b(e,m,d),e==="focusout"&&(b=m._wrapperState)&&b.controlled&&m.type==="number"&&al(m,"number",m.value)}switch(b=d?wa(d):window,e){case"focusin":(uo(b)||b.contentEditable==="true")&&(Na=b,hl=d,mi=null);break;case"focusout":mi=hl=Na=null;break;case"mousedown":fl=!0;break;case"contextmenu":case"mouseup":case"dragend":fl=!1,vo(v,i,u);break;case"selectionchange":if(lh)break;case"keydown":case"keyup":vo(v,i,u)}var P;if(or)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else xa?wd(e,i)&&(k="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(k="onCompositionStart");k&&(jd&&i.locale!=="ko"&&(xa||k!=="onCompositionStart"?k==="onCompositionEnd"&&xa&&(P=Nd()):(Mt=u,sr="value"in Mt?Mt.value:Mt.textContent,xa=!0)),b=In(d,k),0<b.length&&(k=new lo(k,e,null,i,u),v.push({event:k,listeners:b}),P?k.data=P:(P=bd(i),P!==null&&(k.data=P)))),(P=Yp?Kp(e,i):qp(e,i))&&(d=In(d,"onBeforeInput"),0<d.length&&(u=new lo("onBeforeInput","beforeinput",null,i,u),v.push({event:u,listeners:d}),u.data=P))}Rd(v,t)})}function Ci(e,t,i){return{instance:e,listener:t,currentTarget:i}}function In(e,t){for(var i=t+"Capture",n=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=yi(e,i),l!=null&&n.unshift(Ci(e,l,s)),l=yi(e,t),l!=null&&n.push(Ci(e,l,s))),e=e.return}return n}function va(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function yo(e,t,i,n,s){for(var l=t._reactName,r=[];i!==null&&i!==n;){var c=i,o=c.alternate,d=c.stateNode;if(o!==null&&o===n)break;c.tag===5&&d!==null&&(c=d,s?(o=yi(i,l),o!=null&&r.unshift(Ci(i,o,c))):s||(o=yi(i,l),o!=null&&r.push(Ci(i,o,c)))),i=i.return}r.length!==0&&e.push({event:t,listeners:r})}var dh=/\r\n?/g,uh=/\u0000|\uFFFD/g;function xo(e){return(typeof e=="string"?e:""+e).replace(dh,`
`).replace(uh,"")}function Ji(e,t,i){if(t=xo(t),xo(e)!==t&&i)throw Error(T(425))}function En(){}var vl=null,gl=null;function _l(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var yl=typeof setTimeout=="function"?setTimeout:void 0,mh=typeof clearTimeout=="function"?clearTimeout:void 0,No=typeof Promise=="function"?Promise:void 0,ph=typeof queueMicrotask=="function"?queueMicrotask:typeof No<"u"?function(e){return No.resolve(null).then(e).catch(hh)}:yl;function hh(e){setTimeout(function(){throw e})}function Ms(e,t){var i=t,n=0;do{var s=i.nextSibling;if(e.removeChild(i),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(n===0){e.removeChild(s),ji(t);return}n--}else i!=="$"&&i!=="$?"&&i!=="$!"||n++;i=s}while(i);ji(t)}function Ot(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function jo(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var Qa=Math.random().toString(36).slice(2),dt="__reactFiber$"+Qa,Si="__reactProps$"+Qa,xt="__reactContainer$"+Qa,xl="__reactEvents$"+Qa,fh="__reactListeners$"+Qa,vh="__reactHandles$"+Qa;function Zt(e){var t=e[dt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[xt]||i[dt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=jo(e);e!==null;){if(i=e[dt])return i;e=jo(e)}return t}e=i,i=e.parentNode}return null}function Li(e){return e=e[dt]||e[xt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function wa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function Zn(e){return e[Si]||null}var Nl=[],ba=-1;function Yt(e){return{current:e}}function te(e){0>ba||(e.current=Nl[ba],Nl[ba]=null,ba--)}function Z(e,t){ba++,Nl[ba]=e.current,e.current=t}var Ht={},Ce=Yt(Ht),Fe=Yt(!1),sa=Ht;function $a(e,t){var i=e.type.contextTypes;if(!i)return Ht;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in i)s[l]=t[l];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Re(e){return e=e.childContextTypes,e!=null}function Dn(){te(Fe),te(Ce)}function wo(e,t,i){if(Ce.current!==Ht)throw Error(T(168));Z(Ce,t),Z(Fe,i)}function $d(e,t,i){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return i;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(T(108,ep(e)||"Unknown",s));return se({},i,n)}function Pn(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ht,sa=Ce.current,Z(Ce,e),Z(Fe,Fe.current),!0}function bo(e,t,i){var n=e.stateNode;if(!n)throw Error(T(169));i?(e=$d(e,t,sa),n.__reactInternalMemoizedMergedChildContext=e,te(Fe),te(Ce),Z(Ce,e)):te(Fe),Z(Fe,i)}var ft=null,es=!1,Fs=!1;function Od(e){ft===null?ft=[e]:ft.push(e)}function gh(e){es=!0,Od(e)}function Kt(){if(!Fs&&ft!==null){Fs=!0;var e=0,t=q;try{var i=ft;for(q=1;e<i.length;e++){var n=i[e];do n=n(!0);while(n!==null)}ft=null,es=!1}catch(s){throw ft!==null&&(ft=ft.slice(e+1)),dd(tr,Kt),s}finally{q=t,Fs=!1}}return null}var ka=[],Ca=0,An=null,Tn=0,We=[],Qe=0,la=null,vt=1,gt="";function qt(e,t){ka[Ca++]=Tn,ka[Ca++]=An,An=e,Tn=t}function zd(e,t,i){We[Qe++]=vt,We[Qe++]=gt,We[Qe++]=la,la=e;var n=vt;e=gt;var s=32-st(n)-1;n&=~(1<<s),i+=1;var l=32-st(t)+s;if(30<l){var r=s-s%5;l=(n&(1<<r)-1).toString(32),n>>=r,s-=r,vt=1<<32-st(t)+s|i<<s|n,gt=l+e}else vt=1<<l|i<<s|n,gt=e}function dr(e){e.return!==null&&(qt(e,1),zd(e,1,0))}function ur(e){for(;e===An;)An=ka[--Ca],ka[Ca]=null,Tn=ka[--Ca],ka[Ca]=null;for(;e===la;)la=We[--Qe],We[Qe]=null,gt=We[--Qe],We[Qe]=null,vt=We[--Qe],We[Qe]=null}var Be=null,Ue=null,ae=!1,nt=null;function Ud(e,t){var i=Ke(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function ko(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Be=e,Ue=Ot(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Be=e,Ue=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=la!==null?{id:vt,overflow:gt}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Ke(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,Be=e,Ue=null,!0):!1;default:return!1}}function jl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wl(e){if(ae){var t=Ue;if(t){var i=t;if(!ko(e,t)){if(jl(e))throw Error(T(418));t=Ot(i.nextSibling);var n=Be;t&&ko(e,t)?Ud(n,i):(e.flags=e.flags&-4097|2,ae=!1,Be=e)}}else{if(jl(e))throw Error(T(418));e.flags=e.flags&-4097|2,ae=!1,Be=e}}}function Co(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Be=e}function Zi(e){if(e!==Be)return!1;if(!ae)return Co(e),ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_l(e.type,e.memoizedProps)),t&&(t=Ue)){if(jl(e))throw Bd(),Error(T(418));for(;t;)Ud(e,t),t=Ot(t.nextSibling)}if(Co(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){Ue=Ot(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}Ue=null}}else Ue=Be?Ot(e.stateNode.nextSibling):null;return!0}function Bd(){for(var e=Ue;e;)e=Ot(e.nextSibling)}function Oa(){Ue=Be=null,ae=!1}function mr(e){nt===null?nt=[e]:nt.push(e)}var _h=wt.ReactCurrentBatchConfig;function Za(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(T(309));var n=i.stateNode}if(!n)throw Error(T(147,e));var s=n,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(r){var c=s.refs;r===null?delete c[l]:c[l]=r},t._stringRef=l,t)}if(typeof e!="string")throw Error(T(284));if(!i._owner)throw Error(T(290,e))}return e}function en(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function So(e){var t=e._init;return t(e._payload)}function Vd(e){function t(_,p){if(e){var h=_.deletions;h===null?(_.deletions=[p],_.flags|=16):h.push(p)}}function i(_,p){if(!e)return null;for(;p!==null;)t(_,p),p=p.sibling;return null}function n(_,p){for(_=new Map;p!==null;)p.key!==null?_.set(p.key,p):_.set(p.index,p),p=p.sibling;return _}function s(_,p){return _=Vt(_,p),_.index=0,_.sibling=null,_}function l(_,p,h){return _.index=h,e?(h=_.alternate,h!==null?(h=h.index,h<p?(_.flags|=2,p):h):(_.flags|=2,p)):(_.flags|=1048576,p)}function r(_){return e&&_.alternate===null&&(_.flags|=2),_}function c(_,p,h,x){return p===null||p.tag!==6?(p=Bs(h,_.mode,x),p.return=_,p):(p=s(p,h),p.return=_,p)}function o(_,p,h,x){var w=h.type;return w===ya?u(_,p,h.props.children,x,h.key):p!==null&&(p.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Dt&&So(w)===p.type)?(x=s(p,h.props),x.ref=Za(_,p,h),x.return=_,x):(x=yn(h.type,h.key,h.props,null,_.mode,x),x.ref=Za(_,p,h),x.return=_,x)}function d(_,p,h,x){return p===null||p.tag!==4||p.stateNode.containerInfo!==h.containerInfo||p.stateNode.implementation!==h.implementation?(p=Vs(h,_.mode,x),p.return=_,p):(p=s(p,h.children||[]),p.return=_,p)}function u(_,p,h,x,w){return p===null||p.tag!==7?(p=ia(h,_.mode,x,w),p.return=_,p):(p=s(p,h),p.return=_,p)}function v(_,p,h){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Bs(""+p,_.mode,h),p.return=_,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Vi:return h=yn(p.type,p.key,p.props,null,_.mode,h),h.ref=Za(_,null,p),h.return=_,h;case _a:return p=Vs(p,_.mode,h),p.return=_,p;case Dt:var x=p._init;return v(_,x(p._payload),h)}if(si(p)||Ya(p))return p=ia(p,_.mode,h,null),p.return=_,p;en(_,p)}return null}function m(_,p,h,x){var w=p!==null?p.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return w!==null?null:c(_,p,""+h,x);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Vi:return h.key===w?o(_,p,h,x):null;case _a:return h.key===w?d(_,p,h,x):null;case Dt:return w=h._init,m(_,p,w(h._payload),x)}if(si(h)||Ya(h))return w!==null?null:u(_,p,h,x,null);en(_,h)}return null}function f(_,p,h,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return _=_.get(h)||null,c(p,_,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Vi:return _=_.get(x.key===null?h:x.key)||null,o(p,_,x,w);case _a:return _=_.get(x.key===null?h:x.key)||null,d(p,_,x,w);case Dt:var b=x._init;return f(_,p,h,b(x._payload),w)}if(si(x)||Ya(x))return _=_.get(h)||null,u(p,_,x,w,null);en(p,x)}return null}function g(_,p,h,x){for(var w=null,b=null,P=p,k=p=0,M=null;P!==null&&k<h.length;k++){P.index>k?(M=P,P=null):M=P.sibling;var F=m(_,P,h[k],x);if(F===null){P===null&&(P=M);break}e&&P&&F.alternate===null&&t(_,P),p=l(F,p,k),b===null?w=F:b.sibling=F,b=F,P=M}if(k===h.length)return i(_,P),ae&&qt(_,k),w;if(P===null){for(;k<h.length;k++)P=v(_,h[k],x),P!==null&&(p=l(P,p,k),b===null?w=P:b.sibling=P,b=P);return ae&&qt(_,k),w}for(P=n(_,P);k<h.length;k++)M=f(P,_,k,h[k],x),M!==null&&(e&&M.alternate!==null&&P.delete(M.key===null?k:M.key),p=l(M,p,k),b===null?w=M:b.sibling=M,b=M);return e&&P.forEach(function(I){return t(_,I)}),ae&&qt(_,k),w}function y(_,p,h,x){var w=Ya(h);if(typeof w!="function")throw Error(T(150));if(h=w.call(h),h==null)throw Error(T(151));for(var b=w=null,P=p,k=p=0,M=null,F=h.next();P!==null&&!F.done;k++,F=h.next()){P.index>k?(M=P,P=null):M=P.sibling;var I=m(_,P,F.value,x);if(I===null){P===null&&(P=M);break}e&&P&&I.alternate===null&&t(_,P),p=l(I,p,k),b===null?w=I:b.sibling=I,b=I,P=M}if(F.done)return i(_,P),ae&&qt(_,k),w;if(P===null){for(;!F.done;k++,F=h.next())F=v(_,F.value,x),F!==null&&(p=l(F,p,k),b===null?w=F:b.sibling=F,b=F);return ae&&qt(_,k),w}for(P=n(_,P);!F.done;k++,F=h.next())F=f(P,_,k,F.value,x),F!==null&&(e&&F.alternate!==null&&P.delete(F.key===null?k:F.key),p=l(F,p,k),b===null?w=F:b.sibling=F,b=F);return e&&P.forEach(function(A){return t(_,A)}),ae&&qt(_,k),w}function N(_,p,h,x){if(typeof h=="object"&&h!==null&&h.type===ya&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Vi:e:{for(var w=h.key,b=p;b!==null;){if(b.key===w){if(w=h.type,w===ya){if(b.tag===7){i(_,b.sibling),p=s(b,h.props.children),p.return=_,_=p;break e}}else if(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Dt&&So(w)===b.type){i(_,b.sibling),p=s(b,h.props),p.ref=Za(_,b,h),p.return=_,_=p;break e}i(_,b);break}else t(_,b);b=b.sibling}h.type===ya?(p=ia(h.props.children,_.mode,x,h.key),p.return=_,_=p):(x=yn(h.type,h.key,h.props,null,_.mode,x),x.ref=Za(_,p,h),x.return=_,_=x)}return r(_);case _a:e:{for(b=h.key;p!==null;){if(p.key===b)if(p.tag===4&&p.stateNode.containerInfo===h.containerInfo&&p.stateNode.implementation===h.implementation){i(_,p.sibling),p=s(p,h.children||[]),p.return=_,_=p;break e}else{i(_,p);break}else t(_,p);p=p.sibling}p=Vs(h,_.mode,x),p.return=_,_=p}return r(_);case Dt:return b=h._init,N(_,p,b(h._payload),x)}if(si(h))return g(_,p,h,x);if(Ya(h))return y(_,p,h,x);en(_,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,p!==null&&p.tag===6?(i(_,p.sibling),p=s(p,h),p.return=_,_=p):(i(_,p),p=Bs(h,_.mode,x),p.return=_,_=p),r(_)):i(_,p)}return N}var za=Vd(!0),Gd=Vd(!1),Mn=Yt(null),Fn=null,Sa=null,pr=null;function hr(){pr=Sa=Fn=null}function fr(e){var t=Mn.current;te(Mn),e._currentValue=t}function bl(e,t,i){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===i)break;e=e.return}}function Fa(e,t){Fn=e,pr=Sa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Me=!0),e.firstContext=null)}function Je(e){var t=e._currentValue;if(pr!==e)if(e={context:e,memoizedValue:t,next:null},Sa===null){if(Fn===null)throw Error(T(308));Sa=e,Fn.dependencies={lanes:0,firstContext:e}}else Sa=Sa.next=e;return t}var ea=null;function vr(e){ea===null?ea=[e]:ea.push(e)}function Hd(e,t,i,n){var s=t.interleaved;return s===null?(i.next=i,vr(t)):(i.next=s.next,s.next=i),t.interleaved=i,Nt(e,n)}function Nt(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Pt=!1;function gr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zt(e,t,i){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,K&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Nt(e,i)}return s=n.interleaved,s===null?(t.next=t,vr(n)):(t.next=s.next,s.next=t),n.interleaved=t,Nt(e,i)}function pn(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,i|=n,t.lanes=i,ar(e,i)}}function Io(e,t){var i=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,i===n)){var s=null,l=null;if(i=i.firstBaseUpdate,i!==null){do{var r={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};l===null?s=l=r:l=l.next=r,i=i.next}while(i!==null);l===null?s=l=t:l=l.next=t}else s=l=t;i={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:n.shared,effects:n.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function Rn(e,t,i,n){var s=e.updateQueue;Pt=!1;var l=s.firstBaseUpdate,r=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var o=c,d=o.next;o.next=null,r===null?l=d:r.next=d,r=o;var u=e.alternate;u!==null&&(u=u.updateQueue,c=u.lastBaseUpdate,c!==r&&(c===null?u.firstBaseUpdate=d:c.next=d,u.lastBaseUpdate=o))}if(l!==null){var v=s.baseState;r=0,u=d=o=null,c=l;do{var m=c.lane,f=c.eventTime;if((n&m)===m){u!==null&&(u=u.next={eventTime:f,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var g=e,y=c;switch(m=t,f=i,y.tag){case 1:if(g=y.payload,typeof g=="function"){v=g.call(f,v,m);break e}v=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,m=typeof g=="function"?g.call(f,v,m):g,m==null)break e;v=se({},v,m);break e;case 2:Pt=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[c]:m.push(c))}else f={eventTime:f,lane:m,tag:c.tag,payload:c.payload,callback:c.callback,next:null},u===null?(d=u=f,o=v):u=u.next=f,r|=m;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;m=c,c=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(u===null&&(o=v),s.baseState=o,s.firstBaseUpdate=d,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do r|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);oa|=r,e.lanes=r,e.memoizedState=v}}function Eo(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=i,typeof s!="function")throw Error(T(191,s));s.call(n)}}}var $i={},mt=Yt($i),Ii=Yt($i),Ei=Yt($i);function ta(e){if(e===$i)throw Error(T(174));return e}function _r(e,t){switch(Z(Ei,t),Z(Ii,e),Z(mt,$i),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:nl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=nl(t,e)}te(mt),Z(mt,t)}function Ua(){te(mt),te(Ii),te(Ei)}function Qd(e){ta(Ei.current);var t=ta(mt.current),i=nl(t,e.type);t!==i&&(Z(Ii,e),Z(mt,i))}function yr(e){Ii.current===e&&(te(mt),te(Ii))}var ie=Yt(0);function Ln(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Rs=[];function xr(){for(var e=0;e<Rs.length;e++)Rs[e]._workInProgressVersionPrimary=null;Rs.length=0}var hn=wt.ReactCurrentDispatcher,Ls=wt.ReactCurrentBatchConfig,ra=0,ne=null,pe=null,ve=null,$n=!1,pi=!1,Di=0,yh=0;function je(){throw Error(T(321))}function Nr(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!rt(e[i],t[i]))return!1;return!0}function jr(e,t,i,n,s,l){if(ra=l,ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hn.current=e===null||e.memoizedState===null?wh:bh,e=i(n,s),pi){l=0;do{if(pi=!1,Di=0,25<=l)throw Error(T(301));l+=1,ve=pe=null,t.updateQueue=null,hn.current=kh,e=i(n,s)}while(pi)}if(hn.current=On,t=pe!==null&&pe.next!==null,ra=0,ve=pe=ne=null,$n=!1,t)throw Error(T(300));return e}function wr(){var e=Di!==0;return Di=0,e}function ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?ne.memoizedState=ve=e:ve=ve.next=e,ve}function Ze(){if(pe===null){var e=ne.alternate;e=e!==null?e.memoizedState:null}else e=pe.next;var t=ve===null?ne.memoizedState:ve.next;if(t!==null)ve=t,pe=e;else{if(e===null)throw Error(T(310));pe=e,e={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},ve===null?ne.memoizedState=ve=e:ve=ve.next=e}return ve}function Pi(e,t){return typeof t=="function"?t(e):t}function $s(e){var t=Ze(),i=t.queue;if(i===null)throw Error(T(311));i.lastRenderedReducer=e;var n=pe,s=n.baseQueue,l=i.pending;if(l!==null){if(s!==null){var r=s.next;s.next=l.next,l.next=r}n.baseQueue=s=l,i.pending=null}if(s!==null){l=s.next,n=n.baseState;var c=r=null,o=null,d=l;do{var u=d.lane;if((ra&u)===u)o!==null&&(o=o.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var v={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};o===null?(c=o=v,r=n):o=o.next=v,ne.lanes|=u,oa|=u}d=d.next}while(d!==null&&d!==l);o===null?r=n:o.next=c,rt(n,t.memoizedState)||(Me=!0),t.memoizedState=n,t.baseState=r,t.baseQueue=o,i.lastRenderedState=n}if(e=i.interleaved,e!==null){s=e;do l=s.lane,ne.lanes|=l,oa|=l,s=s.next;while(s!==e)}else s===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Os(e){var t=Ze(),i=t.queue;if(i===null)throw Error(T(311));i.lastRenderedReducer=e;var n=i.dispatch,s=i.pending,l=t.memoizedState;if(s!==null){i.pending=null;var r=s=s.next;do l=e(l,r.action),r=r.next;while(r!==s);rt(l,t.memoizedState)||(Me=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),i.lastRenderedState=l}return[l,n]}function Yd(){}function Kd(e,t){var i=ne,n=Ze(),s=t(),l=!rt(n.memoizedState,s);if(l&&(n.memoizedState=s,Me=!0),n=n.queue,br(Jd.bind(null,i,n,e),[e]),n.getSnapshot!==t||l||ve!==null&&ve.memoizedState.tag&1){if(i.flags|=2048,Ai(9,Xd.bind(null,i,n,s,t),void 0,null),ge===null)throw Error(T(349));ra&30||qd(i,t,s)}return s}function qd(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=ne.updateQueue,t===null?(t={lastEffect:null,stores:null},ne.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Xd(e,t,i,n){t.value=i,t.getSnapshot=n,Zd(t)&&eu(e)}function Jd(e,t,i){return i(function(){Zd(t)&&eu(e)})}function Zd(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!rt(e,i)}catch{return!0}}function eu(e){var t=Nt(e,1);t!==null&&lt(t,e,1,-1)}function Do(e){var t=ct();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:e},t.queue=e,e=e.dispatch=jh.bind(null,ne,e),[t.memoizedState,e]}function Ai(e,t,i,n){return e={tag:e,create:t,destroy:i,deps:n,next:null},t=ne.updateQueue,t===null?(t={lastEffect:null,stores:null},ne.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(n=i.next,i.next=e,e.next=n,t.lastEffect=e)),e}function tu(){return Ze().memoizedState}function fn(e,t,i,n){var s=ct();ne.flags|=e,s.memoizedState=Ai(1|t,i,void 0,n===void 0?null:n)}function ts(e,t,i,n){var s=Ze();n=n===void 0?null:n;var l=void 0;if(pe!==null){var r=pe.memoizedState;if(l=r.destroy,n!==null&&Nr(n,r.deps)){s.memoizedState=Ai(t,i,l,n);return}}ne.flags|=e,s.memoizedState=Ai(1|t,i,l,n)}function Po(e,t){return fn(8390656,8,e,t)}function br(e,t){return ts(2048,8,e,t)}function au(e,t){return ts(4,2,e,t)}function iu(e,t){return ts(4,4,e,t)}function nu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function su(e,t,i){return i=i!=null?i.concat([e]):null,ts(4,4,nu.bind(null,t,e),i)}function kr(){}function lu(e,t){var i=Ze();t=t===void 0?null:t;var n=i.memoizedState;return n!==null&&t!==null&&Nr(t,n[1])?n[0]:(i.memoizedState=[e,t],e)}function ru(e,t){var i=Ze();t=t===void 0?null:t;var n=i.memoizedState;return n!==null&&t!==null&&Nr(t,n[1])?n[0]:(e=e(),i.memoizedState=[e,t],e)}function ou(e,t,i){return ra&21?(rt(i,t)||(i=pd(),ne.lanes|=i,oa|=i,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Me=!0),e.memoizedState=i)}function xh(e,t){var i=q;q=i!==0&&4>i?i:4,e(!0);var n=Ls.transition;Ls.transition={};try{e(!1),t()}finally{q=i,Ls.transition=n}}function cu(){return Ze().memoizedState}function Nh(e,t,i){var n=Bt(e);if(i={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null},du(e))uu(t,i);else if(i=Hd(e,t,i,n),i!==null){var s=De();lt(i,e,n,s),mu(i,t,n)}}function jh(e,t,i){var n=Bt(e),s={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null};if(du(e))uu(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var r=t.lastRenderedState,c=l(r,i);if(s.hasEagerState=!0,s.eagerState=c,rt(c,r)){var o=t.interleaved;o===null?(s.next=s,vr(t)):(s.next=o.next,o.next=s),t.interleaved=s;return}}catch{}finally{}i=Hd(e,t,s,n),i!==null&&(s=De(),lt(i,e,n,s),mu(i,t,n))}}function du(e){var t=e.alternate;return e===ne||t!==null&&t===ne}function uu(e,t){pi=$n=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function mu(e,t,i){if(i&4194240){var n=t.lanes;n&=e.pendingLanes,i|=n,t.lanes=i,ar(e,i)}}var On={readContext:Je,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useInsertionEffect:je,useLayoutEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useMutableSource:je,useSyncExternalStore:je,useId:je,unstable_isNewReconciler:!1},wh={readContext:Je,useCallback:function(e,t){return ct().memoizedState=[e,t===void 0?null:t],e},useContext:Je,useEffect:Po,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,fn(4194308,4,nu.bind(null,t,e),i)},useLayoutEffect:function(e,t){return fn(4194308,4,e,t)},useInsertionEffect:function(e,t){return fn(4,2,e,t)},useMemo:function(e,t){var i=ct();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var n=ct();return t=i!==void 0?i(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Nh.bind(null,ne,e),[n.memoizedState,e]},useRef:function(e){var t=ct();return e={current:e},t.memoizedState=e},useState:Do,useDebugValue:kr,useDeferredValue:function(e){return ct().memoizedState=e},useTransition:function(){var e=Do(!1),t=e[0];return e=xh.bind(null,e[1]),ct().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var n=ne,s=ct();if(ae){if(i===void 0)throw Error(T(407));i=i()}else{if(i=t(),ge===null)throw Error(T(349));ra&30||qd(n,t,i)}s.memoizedState=i;var l={value:i,getSnapshot:t};return s.queue=l,Po(Jd.bind(null,n,l,e),[e]),n.flags|=2048,Ai(9,Xd.bind(null,n,l,i,t),void 0,null),i},useId:function(){var e=ct(),t=ge.identifierPrefix;if(ae){var i=gt,n=vt;i=(n&~(1<<32-st(n)-1)).toString(32)+i,t=":"+t+"R"+i,i=Di++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=yh++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},bh={readContext:Je,useCallback:lu,useContext:Je,useEffect:br,useImperativeHandle:su,useInsertionEffect:au,useLayoutEffect:iu,useMemo:ru,useReducer:$s,useRef:tu,useState:function(){return $s(Pi)},useDebugValue:kr,useDeferredValue:function(e){var t=Ze();return ou(t,pe.memoizedState,e)},useTransition:function(){var e=$s(Pi)[0],t=Ze().memoizedState;return[e,t]},useMutableSource:Yd,useSyncExternalStore:Kd,useId:cu,unstable_isNewReconciler:!1},kh={readContext:Je,useCallback:lu,useContext:Je,useEffect:br,useImperativeHandle:su,useInsertionEffect:au,useLayoutEffect:iu,useMemo:ru,useReducer:Os,useRef:tu,useState:function(){return Os(Pi)},useDebugValue:kr,useDeferredValue:function(e){var t=Ze();return pe===null?t.memoizedState=e:ou(t,pe.memoizedState,e)},useTransition:function(){var e=Os(Pi)[0],t=Ze().memoizedState;return[e,t]},useMutableSource:Yd,useSyncExternalStore:Kd,useId:cu,unstable_isNewReconciler:!1};function at(e,t){if(e&&e.defaultProps){t=se({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function kl(e,t,i,n){t=e.memoizedState,i=i(n,t),i=i==null?t:se({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var as={isMounted:function(e){return(e=e._reactInternals)?pa(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var n=De(),s=Bt(e),l=_t(n,s);l.payload=t,i!=null&&(l.callback=i),t=zt(e,l,s),t!==null&&(lt(t,e,s,n),pn(t,e,s))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var n=De(),s=Bt(e),l=_t(n,s);l.tag=1,l.payload=t,i!=null&&(l.callback=i),t=zt(e,l,s),t!==null&&(lt(t,e,s,n),pn(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=De(),n=Bt(e),s=_t(i,n);s.tag=2,t!=null&&(s.callback=t),t=zt(e,s,n),t!==null&&(lt(t,e,n,i),pn(t,e,n))}};function Ao(e,t,i,n,s,l,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,l,r):t.prototype&&t.prototype.isPureReactComponent?!bi(i,n)||!bi(s,l):!0}function pu(e,t,i){var n=!1,s=Ht,l=t.contextType;return typeof l=="object"&&l!==null?l=Je(l):(s=Re(t)?sa:Ce.current,n=t.contextTypes,l=(n=n!=null)?$a(e,s):Ht),t=new t(i,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=as,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function To(e,t,i,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,n),t.state!==e&&as.enqueueReplaceState(t,t.state,null)}function Cl(e,t,i,n){var s=e.stateNode;s.props=i,s.state=e.memoizedState,s.refs={},gr(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=Je(l):(l=Re(t)?sa:Ce.current,s.context=$a(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(kl(e,t,l,i),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&as.enqueueReplaceState(s,s.state,null),Rn(e,i,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ba(e,t){try{var i="",n=t;do i+=Zm(n),n=n.return;while(n);var s=i}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function zs(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function Sl(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var Ch=typeof WeakMap=="function"?WeakMap:Map;function hu(e,t,i){i=_t(-1,i),i.tag=3,i.payload={element:null};var n=t.value;return i.callback=function(){Un||(Un=!0,Ll=n),Sl(e,t)},i}function fu(e,t,i){i=_t(-1,i),i.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;i.payload=function(){return n(s)},i.callback=function(){Sl(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(i.callback=function(){Sl(e,t),typeof n!="function"&&(Ut===null?Ut=new Set([this]):Ut.add(this));var r=t.stack;this.componentDidCatch(t.value,{componentStack:r!==null?r:""})}),i}function Mo(e,t,i){var n=e.pingCache;if(n===null){n=e.pingCache=new Ch;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(i)||(s.add(i),e=zh.bind(null,e,t,i),t.then(e,e))}function Fo(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ro(e,t,i,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=_t(-1,1),t.tag=2,zt(i,t,1))),i.lanes|=1),e)}var Sh=wt.ReactCurrentOwner,Me=!1;function Ie(e,t,i,n){t.child=e===null?Gd(t,null,i,n):za(t,e.child,i,n)}function Lo(e,t,i,n,s){i=i.render;var l=t.ref;return Fa(t,s),n=jr(e,t,i,n,l,s),i=wr(),e!==null&&!Me?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,jt(e,t,s)):(ae&&i&&dr(t),t.flags|=1,Ie(e,t,n,s),t.child)}function $o(e,t,i,n,s){if(e===null){var l=i.type;return typeof l=="function"&&!Tr(l)&&l.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=l,vu(e,t,l,n,s)):(e=yn(i.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&s)){var r=l.memoizedProps;if(i=i.compare,i=i!==null?i:bi,i(r,n)&&e.ref===t.ref)return jt(e,t,s)}return t.flags|=1,e=Vt(l,n),e.ref=t.ref,e.return=t,t.child=e}function vu(e,t,i,n,s){if(e!==null){var l=e.memoizedProps;if(bi(l,n)&&e.ref===t.ref)if(Me=!1,t.pendingProps=n=l,(e.lanes&s)!==0)e.flags&131072&&(Me=!0);else return t.lanes=e.lanes,jt(e,t,s)}return Il(e,t,i,n,s)}function gu(e,t,i){var n=t.pendingProps,s=n.children,l=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(Ea,ze),ze|=i;else{if(!(i&1073741824))return e=l!==null?l.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Z(Ea,ze),ze|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=l!==null?l.baseLanes:i,Z(Ea,ze),ze|=n}else l!==null?(n=l.baseLanes|i,t.memoizedState=null):n=i,Z(Ea,ze),ze|=n;return Ie(e,t,s,i),t.child}function _u(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Il(e,t,i,n,s){var l=Re(i)?sa:Ce.current;return l=$a(t,l),Fa(t,s),i=jr(e,t,i,n,l,s),n=wr(),e!==null&&!Me?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,jt(e,t,s)):(ae&&n&&dr(t),t.flags|=1,Ie(e,t,i,s),t.child)}function Oo(e,t,i,n,s){if(Re(i)){var l=!0;Pn(t)}else l=!1;if(Fa(t,s),t.stateNode===null)vn(e,t),pu(t,i,n),Cl(t,i,n,s),n=!0;else if(e===null){var r=t.stateNode,c=t.memoizedProps;r.props=c;var o=r.context,d=i.contextType;typeof d=="object"&&d!==null?d=Je(d):(d=Re(i)?sa:Ce.current,d=$a(t,d));var u=i.getDerivedStateFromProps,v=typeof u=="function"||typeof r.getSnapshotBeforeUpdate=="function";v||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(c!==n||o!==d)&&To(t,r,n,d),Pt=!1;var m=t.memoizedState;r.state=m,Rn(t,n,r,s),o=t.memoizedState,c!==n||m!==o||Fe.current||Pt?(typeof u=="function"&&(kl(t,i,u,n),o=t.memoizedState),(c=Pt||Ao(t,i,c,n,m,o,d))?(v||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=o),r.props=n,r.state=o,r.context=d,n=c):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{r=t.stateNode,Wd(e,t),c=t.memoizedProps,d=t.type===t.elementType?c:at(t.type,c),r.props=d,v=t.pendingProps,m=r.context,o=i.contextType,typeof o=="object"&&o!==null?o=Je(o):(o=Re(i)?sa:Ce.current,o=$a(t,o));var f=i.getDerivedStateFromProps;(u=typeof f=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(c!==v||m!==o)&&To(t,r,n,o),Pt=!1,m=t.memoizedState,r.state=m,Rn(t,n,r,s);var g=t.memoizedState;c!==v||m!==g||Fe.current||Pt?(typeof f=="function"&&(kl(t,i,f,n),g=t.memoizedState),(d=Pt||Ao(t,i,d,n,m,g,o)||!1)?(u||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(n,g,o),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(n,g,o)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),r.props=n,r.state=g,r.context=o,n=d):(typeof r.componentDidUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return El(e,t,i,n,l,s)}function El(e,t,i,n,s,l){_u(e,t);var r=(t.flags&128)!==0;if(!n&&!r)return s&&bo(t,i,!1),jt(e,t,l);n=t.stateNode,Sh.current=t;var c=r&&typeof i.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&r?(t.child=za(t,e.child,null,l),t.child=za(t,null,c,l)):Ie(e,t,c,l),t.memoizedState=n.state,s&&bo(t,i,!0),t.child}function yu(e){var t=e.stateNode;t.pendingContext?wo(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wo(e,t.context,!1),_r(e,t.containerInfo)}function zo(e,t,i,n,s){return Oa(),mr(s),t.flags|=256,Ie(e,t,i,n),t.child}var Dl={dehydrated:null,treeContext:null,retryLane:0};function Pl(e){return{baseLanes:e,cachePool:null,transitions:null}}function xu(e,t,i){var n=t.pendingProps,s=ie.current,l=!1,r=(t.flags&128)!==0,c;if((c=r)||(c=e!==null&&e.memoizedState===null?!1:(s&2)!==0),c?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Z(ie,s&1),e===null)return wl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(r=n.children,e=n.fallback,l?(n=t.mode,l=t.child,r={mode:"hidden",children:r},!(n&1)&&l!==null?(l.childLanes=0,l.pendingProps=r):l=ss(r,n,0,null),e=ia(e,n,i,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Pl(i),t.memoizedState=Dl,e):Cr(t,r));if(s=e.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return Ih(e,t,r,n,c,s,i);if(l){l=n.fallback,r=t.mode,s=e.child,c=s.sibling;var o={mode:"hidden",children:n.children};return!(r&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=o,t.deletions=null):(n=Vt(s,o),n.subtreeFlags=s.subtreeFlags&14680064),c!==null?l=Vt(c,l):(l=ia(l,r,i,null),l.flags|=2),l.return=t,n.return=t,n.sibling=l,t.child=n,n=l,l=t.child,r=e.child.memoizedState,r=r===null?Pl(i):{baseLanes:r.baseLanes|i,cachePool:null,transitions:r.transitions},l.memoizedState=r,l.childLanes=e.childLanes&~i,t.memoizedState=Dl,n}return l=e.child,e=l.sibling,n=Vt(l,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=i),n.return=t,n.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n}function Cr(e,t){return t=ss({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function tn(e,t,i,n){return n!==null&&mr(n),za(t,e.child,null,i),e=Cr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ih(e,t,i,n,s,l,r){if(i)return t.flags&256?(t.flags&=-257,n=zs(Error(T(422))),tn(e,t,r,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=n.fallback,s=t.mode,n=ss({mode:"visible",children:n.children},s,0,null),l=ia(l,s,r,null),l.flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,t.mode&1&&za(t,e.child,null,r),t.child.memoizedState=Pl(r),t.memoizedState=Dl,l);if(!(t.mode&1))return tn(e,t,r,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var c=n.dgst;return n=c,l=Error(T(419)),n=zs(l,n,void 0),tn(e,t,r,n)}if(c=(r&e.childLanes)!==0,Me||c){if(n=ge,n!==null){switch(r&-r){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|r)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,Nt(e,s),lt(n,e,s,-1))}return Ar(),n=zs(Error(T(421))),tn(e,t,r,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Uh.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,Ue=Ot(s.nextSibling),Be=t,ae=!0,nt=null,e!==null&&(We[Qe++]=vt,We[Qe++]=gt,We[Qe++]=la,vt=e.id,gt=e.overflow,la=t),t=Cr(t,n.children),t.flags|=4096,t)}function Uo(e,t,i){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),bl(e.return,t,i)}function Us(e,t,i,n,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:i,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=i,l.tailMode=s)}function Nu(e,t,i){var n=t.pendingProps,s=n.revealOrder,l=n.tail;if(Ie(e,t,n.children,i),n=ie.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Uo(e,i,t);else if(e.tag===19)Uo(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Z(ie,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(i=t.child,s=null;i!==null;)e=i.alternate,e!==null&&Ln(e)===null&&(s=i),i=i.sibling;i=s,i===null?(s=t.child,t.child=null):(s=i.sibling,i.sibling=null),Us(t,!1,s,i,l);break;case"backwards":for(i=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ln(e)===null){t.child=s;break}e=s.sibling,s.sibling=i,i=s,s=e}Us(t,!0,i,null,l);break;case"together":Us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vn(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function jt(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),oa|=t.lanes,!(i&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,i=Vt(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Vt(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Eh(e,t,i){switch(t.tag){case 3:yu(t),Oa();break;case 5:Qd(t);break;case 1:Re(t.type)&&Pn(t);break;case 4:_r(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Z(Mn,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Z(ie,ie.current&1),t.flags|=128,null):i&t.child.childLanes?xu(e,t,i):(Z(ie,ie.current&1),e=jt(e,t,i),e!==null?e.sibling:null);Z(ie,ie.current&1);break;case 19:if(n=(i&t.childLanes)!==0,e.flags&128){if(n)return Nu(e,t,i);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Z(ie,ie.current),n)break;return null;case 22:case 23:return t.lanes=0,gu(e,t,i)}return jt(e,t,i)}var ju,Al,wu,bu;ju=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Al=function(){};wu=function(e,t,i,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,ta(mt.current);var l=null;switch(i){case"input":s=el(e,s),n=el(e,n),l=[];break;case"select":s=se({},s,{value:void 0}),n=se({},n,{value:void 0}),l=[];break;case"textarea":s=il(e,s),n=il(e,n),l=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=En)}sl(i,n);var r;i=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var c=s[d];for(r in c)c.hasOwnProperty(r)&&(i||(i={}),i[r]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(gi.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in n){var o=n[d];if(c=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&o!==c&&(o!=null||c!=null))if(d==="style")if(c){for(r in c)!c.hasOwnProperty(r)||o&&o.hasOwnProperty(r)||(i||(i={}),i[r]="");for(r in o)o.hasOwnProperty(r)&&c[r]!==o[r]&&(i||(i={}),i[r]=o[r])}else i||(l||(l=[]),l.push(d,i)),i=o;else d==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,c=c?c.__html:void 0,o!=null&&c!==o&&(l=l||[]).push(d,o)):d==="children"?typeof o!="string"&&typeof o!="number"||(l=l||[]).push(d,""+o):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(gi.hasOwnProperty(d)?(o!=null&&d==="onScroll"&&ee("scroll",e),l||c===o||(l=[])):(l=l||[]).push(d,o))}i&&(l=l||[]).push("style",i);var d=l;(t.updateQueue=d)&&(t.flags|=4)}};bu=function(e,t,i,n){i!==n&&(t.flags|=4)};function ei(e,t){if(!ae)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var n=null;i!==null;)i.alternate!==null&&(n=i),i=i.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function we(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,n=0;if(t)for(var s=e.child;s!==null;)i|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)i|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=i,t}function Dh(e,t,i){var n=t.pendingProps;switch(ur(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(t),null;case 1:return Re(t.type)&&Dn(),we(t),null;case 3:return n=t.stateNode,Ua(),te(Fe),te(Ce),xr(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Zi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,nt!==null&&(zl(nt),nt=null))),Al(e,t),we(t),null;case 5:yr(t);var s=ta(Ei.current);if(i=t.type,e!==null&&t.stateNode!=null)wu(e,t,i,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(T(166));return we(t),null}if(e=ta(mt.current),Zi(t)){n=t.stateNode,i=t.type;var l=t.memoizedProps;switch(n[dt]=t,n[Si]=l,e=(t.mode&1)!==0,i){case"dialog":ee("cancel",n),ee("close",n);break;case"iframe":case"object":case"embed":ee("load",n);break;case"video":case"audio":for(s=0;s<ri.length;s++)ee(ri[s],n);break;case"source":ee("error",n);break;case"img":case"image":case"link":ee("error",n),ee("load",n);break;case"details":ee("toggle",n);break;case"input":Kr(n,l),ee("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},ee("invalid",n);break;case"textarea":Xr(n,l),ee("invalid",n)}sl(i,l),s=null;for(var r in l)if(l.hasOwnProperty(r)){var c=l[r];r==="children"?typeof c=="string"?n.textContent!==c&&(l.suppressHydrationWarning!==!0&&Ji(n.textContent,c,e),s=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(l.suppressHydrationWarning!==!0&&Ji(n.textContent,c,e),s=["children",""+c]):gi.hasOwnProperty(r)&&c!=null&&r==="onScroll"&&ee("scroll",n)}switch(i){case"input":Gi(n),qr(n,l,!0);break;case"textarea":Gi(n),Jr(n);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(n.onclick=En)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{r=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jc(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=r.createElement(i,{is:n.is}):(e=r.createElement(i),i==="select"&&(r=e,n.multiple?r.multiple=!0:n.size&&(r.size=n.size))):e=r.createElementNS(e,i),e[dt]=t,e[Si]=n,ju(e,t,!1,!1),t.stateNode=e;e:{switch(r=ll(i,n),i){case"dialog":ee("cancel",e),ee("close",e),s=n;break;case"iframe":case"object":case"embed":ee("load",e),s=n;break;case"video":case"audio":for(s=0;s<ri.length;s++)ee(ri[s],e);s=n;break;case"source":ee("error",e),s=n;break;case"img":case"image":case"link":ee("error",e),ee("load",e),s=n;break;case"details":ee("toggle",e),s=n;break;case"input":Kr(e,n),s=el(e,n),ee("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=se({},n,{value:void 0}),ee("invalid",e);break;case"textarea":Xr(e,n),s=il(e,n),ee("invalid",e);break;default:s=n}sl(i,s),c=s;for(l in c)if(c.hasOwnProperty(l)){var o=c[l];l==="style"?td(e,o):l==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&Zc(e,o)):l==="children"?typeof o=="string"?(i!=="textarea"||o!=="")&&_i(e,o):typeof o=="number"&&_i(e,""+o):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(gi.hasOwnProperty(l)?o!=null&&l==="onScroll"&&ee("scroll",e):o!=null&&ql(e,l,o,r))}switch(i){case"input":Gi(e),qr(e,n,!1);break;case"textarea":Gi(e),Jr(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Gt(n.value));break;case"select":e.multiple=!!n.multiple,l=n.value,l!=null?Pa(e,!!n.multiple,l,!1):n.defaultValue!=null&&Pa(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=En)}switch(i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return we(t),null;case 6:if(e&&t.stateNode!=null)bu(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(T(166));if(i=ta(Ei.current),ta(mt.current),Zi(t)){if(n=t.stateNode,i=t.memoizedProps,n[dt]=t,(l=n.nodeValue!==i)&&(e=Be,e!==null))switch(e.tag){case 3:Ji(n.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ji(n.nodeValue,i,(e.mode&1)!==0)}l&&(t.flags|=4)}else n=(i.nodeType===9?i:i.ownerDocument).createTextNode(n),n[dt]=t,t.stateNode=n}return we(t),null;case 13:if(te(ie),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ae&&Ue!==null&&t.mode&1&&!(t.flags&128))Bd(),Oa(),t.flags|=98560,l=!1;else if(l=Zi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(T(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(T(317));l[dt]=t}else Oa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;we(t),l=!1}else nt!==null&&(zl(nt),nt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=i,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ie.current&1?he===0&&(he=3):Ar())),t.updateQueue!==null&&(t.flags|=4),we(t),null);case 4:return Ua(),Al(e,t),e===null&&ki(t.stateNode.containerInfo),we(t),null;case 10:return fr(t.type._context),we(t),null;case 17:return Re(t.type)&&Dn(),we(t),null;case 19:if(te(ie),l=t.memoizedState,l===null)return we(t),null;if(n=(t.flags&128)!==0,r=l.rendering,r===null)if(n)ei(l,!1);else{if(he!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(r=Ln(e),r!==null){for(t.flags|=128,ei(l,!1),n=r.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=i,i=t.child;i!==null;)l=i,e=n,l.flags&=14680066,r=l.alternate,r===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,l.type=r.type,e=r.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Z(ie,ie.current&1|2),t.child}e=e.sibling}l.tail!==null&&ce()>Va&&(t.flags|=128,n=!0,ei(l,!1),t.lanes=4194304)}else{if(!n)if(e=Ln(r),e!==null){if(t.flags|=128,n=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),ei(l,!0),l.tail===null&&l.tailMode==="hidden"&&!r.alternate&&!ae)return we(t),null}else 2*ce()-l.renderingStartTime>Va&&i!==1073741824&&(t.flags|=128,n=!0,ei(l,!1),t.lanes=4194304);l.isBackwards?(r.sibling=t.child,t.child=r):(i=l.last,i!==null?i.sibling=r:t.child=r,l.last=r)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ce(),t.sibling=null,i=ie.current,Z(ie,n?i&1|2:i&1),t):(we(t),null);case 22:case 23:return Pr(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ze&1073741824&&(we(t),t.subtreeFlags&6&&(t.flags|=8192)):we(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function Ph(e,t){switch(ur(t),t.tag){case 1:return Re(t.type)&&Dn(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ua(),te(Fe),te(Ce),xr(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return yr(t),null;case 13:if(te(ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));Oa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return te(ie),null;case 4:return Ua(),null;case 10:return fr(t.type._context),null;case 22:case 23:return Pr(),null;case 24:return null;default:return null}}var an=!1,be=!1,Ah=typeof WeakSet=="function"?WeakSet:Set,L=null;function Ia(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(n){re(e,t,n)}else i.current=null}function Tl(e,t,i){try{i()}catch(n){re(e,t,n)}}var Bo=!1;function Th(e,t){if(vl=Cn,e=Ed(),cr(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var n=i.getSelection&&i.getSelection();if(n&&n.rangeCount!==0){i=n.anchorNode;var s=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{i.nodeType,l.nodeType}catch{i=null;break e}var r=0,c=-1,o=-1,d=0,u=0,v=e,m=null;t:for(;;){for(var f;v!==i||s!==0&&v.nodeType!==3||(c=r+s),v!==l||n!==0&&v.nodeType!==3||(o=r+n),v.nodeType===3&&(r+=v.nodeValue.length),(f=v.firstChild)!==null;)m=v,v=f;for(;;){if(v===e)break t;if(m===i&&++d===s&&(c=r),m===l&&++u===n&&(o=r),(f=v.nextSibling)!==null)break;v=m,m=v.parentNode}v=f}i=c===-1||o===-1?null:{start:c,end:o}}else i=null}i=i||{start:0,end:0}}else i=null;for(gl={focusedElem:e,selectionRange:i},Cn=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,N=g.memoizedState,_=t.stateNode,p=_.getSnapshotBeforeUpdate(t.elementType===t.type?y:at(t.type,y),N);_.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(x){re(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return g=Bo,Bo=!1,g}function hi(e,t,i){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&Tl(t,i,l)}s=s.next}while(s!==n)}}function is(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var n=i.create;i.destroy=n()}i=i.next}while(i!==t)}}function Ml(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function ku(e){var t=e.alternate;t!==null&&(e.alternate=null,ku(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[dt],delete t[Si],delete t[xl],delete t[fh],delete t[vh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Cu(e){return e.tag===5||e.tag===3||e.tag===4}function Vo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fl(e,t,i){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=En));else if(n!==4&&(e=e.child,e!==null))for(Fl(e,t,i),e=e.sibling;e!==null;)Fl(e,t,i),e=e.sibling}function Rl(e,t,i){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Rl(e,t,i),e=e.sibling;e!==null;)Rl(e,t,i),e=e.sibling}var _e=null,it=!1;function Et(e,t,i){for(i=i.child;i!==null;)Su(e,t,i),i=i.sibling}function Su(e,t,i){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(Kn,i)}catch{}switch(i.tag){case 5:be||Ia(i,t);case 6:var n=_e,s=it;_e=null,Et(e,t,i),_e=n,it=s,_e!==null&&(it?(e=_e,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):_e.removeChild(i.stateNode));break;case 18:_e!==null&&(it?(e=_e,i=i.stateNode,e.nodeType===8?Ms(e.parentNode,i):e.nodeType===1&&Ms(e,i),ji(e)):Ms(_e,i.stateNode));break;case 4:n=_e,s=it,_e=i.stateNode.containerInfo,it=!0,Et(e,t,i),_e=n,it=s;break;case 0:case 11:case 14:case 15:if(!be&&(n=i.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var l=s,r=l.destroy;l=l.tag,r!==void 0&&(l&2||l&4)&&Tl(i,t,r),s=s.next}while(s!==n)}Et(e,t,i);break;case 1:if(!be&&(Ia(i,t),n=i.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=i.memoizedProps,n.state=i.memoizedState,n.componentWillUnmount()}catch(c){re(i,t,c)}Et(e,t,i);break;case 21:Et(e,t,i);break;case 22:i.mode&1?(be=(n=be)||i.memoizedState!==null,Et(e,t,i),be=n):Et(e,t,i);break;default:Et(e,t,i)}}function Go(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Ah),t.forEach(function(n){var s=Bh.bind(null,e,n);i.has(n)||(i.add(n),n.then(s,s))})}}function tt(e,t){var i=t.deletions;if(i!==null)for(var n=0;n<i.length;n++){var s=i[n];try{var l=e,r=t,c=r;e:for(;c!==null;){switch(c.tag){case 5:_e=c.stateNode,it=!1;break e;case 3:_e=c.stateNode.containerInfo,it=!0;break e;case 4:_e=c.stateNode.containerInfo,it=!0;break e}c=c.return}if(_e===null)throw Error(T(160));Su(l,r,s),_e=null,it=!1;var o=s.alternate;o!==null&&(o.return=null),s.return=null}catch(d){re(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Iu(t,e),t=t.sibling}function Iu(e,t){var i=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(tt(t,e),ot(e),n&4){try{hi(3,e,e.return),is(3,e)}catch(y){re(e,e.return,y)}try{hi(5,e,e.return)}catch(y){re(e,e.return,y)}}break;case 1:tt(t,e),ot(e),n&512&&i!==null&&Ia(i,i.return);break;case 5:if(tt(t,e),ot(e),n&512&&i!==null&&Ia(i,i.return),e.flags&32){var s=e.stateNode;try{_i(s,"")}catch(y){re(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,r=i!==null?i.memoizedProps:l,c=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{c==="input"&&l.type==="radio"&&l.name!=null&&qc(s,l),ll(c,r);var d=ll(c,l);for(r=0;r<o.length;r+=2){var u=o[r],v=o[r+1];u==="style"?td(s,v):u==="dangerouslySetInnerHTML"?Zc(s,v):u==="children"?_i(s,v):ql(s,u,v,d)}switch(c){case"input":tl(s,l);break;case"textarea":Xc(s,l);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var f=l.value;f!=null?Pa(s,!!l.multiple,f,!1):m!==!!l.multiple&&(l.defaultValue!=null?Pa(s,!!l.multiple,l.defaultValue,!0):Pa(s,!!l.multiple,l.multiple?[]:"",!1))}s[Si]=l}catch(y){re(e,e.return,y)}}break;case 6:if(tt(t,e),ot(e),n&4){if(e.stateNode===null)throw Error(T(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(y){re(e,e.return,y)}}break;case 3:if(tt(t,e),ot(e),n&4&&i!==null&&i.memoizedState.isDehydrated)try{ji(t.containerInfo)}catch(y){re(e,e.return,y)}break;case 4:tt(t,e),ot(e);break;case 13:tt(t,e),ot(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(Er=ce())),n&4&&Go(e);break;case 22:if(u=i!==null&&i.memoizedState!==null,e.mode&1?(be=(d=be)||u,tt(t,e),be=d):tt(t,e),ot(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(L=e,u=e.child;u!==null;){for(v=L=u;L!==null;){switch(m=L,f=m.child,m.tag){case 0:case 11:case 14:case 15:hi(4,m,m.return);break;case 1:Ia(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){n=m,i=m.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){re(n,i,y)}}break;case 5:Ia(m,m.return);break;case 22:if(m.memoizedState!==null){Wo(v);continue}}f!==null?(f.return=m,L=f):Wo(v)}u=u.sibling}e:for(u=null,v=e;;){if(v.tag===5){if(u===null){u=v;try{s=v.stateNode,d?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(c=v.stateNode,o=v.memoizedProps.style,r=o!=null&&o.hasOwnProperty("display")?o.display:null,c.style.display=ed("display",r))}catch(y){re(e,e.return,y)}}}else if(v.tag===6){if(u===null)try{v.stateNode.nodeValue=d?"":v.memoizedProps}catch(y){re(e,e.return,y)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;u===v&&(u=null),v=v.return}u===v&&(u=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:tt(t,e),ot(e),n&4&&Go(e);break;case 21:break;default:tt(t,e),ot(e)}}function ot(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(Cu(i)){var n=i;break e}i=i.return}throw Error(T(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(_i(s,""),n.flags&=-33);var l=Vo(e);Rl(e,l,s);break;case 3:case 4:var r=n.stateNode.containerInfo,c=Vo(e);Fl(e,c,r);break;default:throw Error(T(161))}}catch(o){re(e,e.return,o)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Mh(e,t,i){L=e,Eu(e)}function Eu(e,t,i){for(var n=(e.mode&1)!==0;L!==null;){var s=L,l=s.child;if(s.tag===22&&n){var r=s.memoizedState!==null||an;if(!r){var c=s.alternate,o=c!==null&&c.memoizedState!==null||be;c=an;var d=be;if(an=r,(be=o)&&!d)for(L=s;L!==null;)r=L,o=r.child,r.tag===22&&r.memoizedState!==null?Qo(s):o!==null?(o.return=r,L=o):Qo(s);for(;l!==null;)L=l,Eu(l),l=l.sibling;L=s,an=c,be=d}Ho(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,L=l):Ho(e)}}function Ho(e){for(;L!==null;){var t=L;if(t.flags&8772){var i=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:be||is(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!be)if(i===null)n.componentDidMount();else{var s=t.elementType===t.type?i.memoizedProps:at(t.type,i.memoizedProps);n.componentDidUpdate(s,i.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Eo(t,l,n);break;case 3:var r=t.updateQueue;if(r!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}Eo(t,r,i)}break;case 5:var c=t.stateNode;if(i===null&&t.flags&4){i=c;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&i.focus();break;case"img":o.src&&(i.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var v=u.dehydrated;v!==null&&ji(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}be||t.flags&512&&Ml(t)}catch(m){re(t,t.return,m)}}if(t===e){L=null;break}if(i=t.sibling,i!==null){i.return=t.return,L=i;break}L=t.return}}function Wo(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var i=t.sibling;if(i!==null){i.return=t.return,L=i;break}L=t.return}}function Qo(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{is(4,t)}catch(o){re(t,i,o)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(o){re(t,s,o)}}var l=t.return;try{Ml(t)}catch(o){re(t,l,o)}break;case 5:var r=t.return;try{Ml(t)}catch(o){re(t,r,o)}}}catch(o){re(t,t.return,o)}if(t===e){L=null;break}var c=t.sibling;if(c!==null){c.return=t.return,L=c;break}L=t.return}}var Fh=Math.ceil,zn=wt.ReactCurrentDispatcher,Sr=wt.ReactCurrentOwner,Xe=wt.ReactCurrentBatchConfig,K=0,ge=null,me=null,ye=0,ze=0,Ea=Yt(0),he=0,Ti=null,oa=0,ns=0,Ir=0,fi=null,Te=null,Er=0,Va=1/0,ht=null,Un=!1,Ll=null,Ut=null,nn=!1,Ft=null,Bn=0,vi=0,$l=null,gn=-1,_n=0;function De(){return K&6?ce():gn!==-1?gn:gn=ce()}function Bt(e){return e.mode&1?K&2&&ye!==0?ye&-ye:_h.transition!==null?(_n===0&&(_n=pd()),_n):(e=q,e!==0||(e=window.event,e=e===void 0?16:xd(e.type)),e):1}function lt(e,t,i,n){if(50<vi)throw vi=0,$l=null,Error(T(185));Fi(e,i,n),(!(K&2)||e!==ge)&&(e===ge&&(!(K&2)&&(ns|=i),he===4&&Tt(e,ye)),Le(e,n),i===1&&K===0&&!(t.mode&1)&&(Va=ce()+500,es&&Kt()))}function Le(e,t){var i=e.callbackNode;_p(e,t);var n=kn(e,e===ge?ye:0);if(n===0)i!==null&&to(i),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(i!=null&&to(i),t===1)e.tag===0?gh(Yo.bind(null,e)):Od(Yo.bind(null,e)),ph(function(){!(K&6)&&Kt()}),i=null;else{switch(hd(n)){case 1:i=tr;break;case 4:i=ud;break;case 16:i=bn;break;case 536870912:i=md;break;default:i=bn}i=Lu(i,Du.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function Du(e,t){if(gn=-1,_n=0,K&6)throw Error(T(327));var i=e.callbackNode;if(Ra()&&e.callbackNode!==i)return null;var n=kn(e,e===ge?ye:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Vn(e,n);else{t=n;var s=K;K|=2;var l=Au();(ge!==e||ye!==t)&&(ht=null,Va=ce()+500,aa(e,t));do try{$h();break}catch(c){Pu(e,c)}while(!0);hr(),zn.current=l,K=s,me!==null?t=0:(ge=null,ye=0,t=he)}if(t!==0){if(t===2&&(s=ul(e),s!==0&&(n=s,t=Ol(e,s))),t===1)throw i=Ti,aa(e,0),Tt(e,n),Le(e,ce()),i;if(t===6)Tt(e,n);else{if(s=e.current.alternate,!(n&30)&&!Rh(s)&&(t=Vn(e,n),t===2&&(l=ul(e),l!==0&&(n=l,t=Ol(e,l))),t===1))throw i=Ti,aa(e,0),Tt(e,n),Le(e,ce()),i;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(T(345));case 2:Xt(e,Te,ht);break;case 3:if(Tt(e,n),(n&130023424)===n&&(t=Er+500-ce(),10<t)){if(kn(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){De(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=yl(Xt.bind(null,e,Te,ht),t);break}Xt(e,Te,ht);break;case 4:if(Tt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var r=31-st(n);l=1<<r,r=t[r],r>s&&(s=r),n&=~l}if(n=s,n=ce()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Fh(n/1960))-n,10<n){e.timeoutHandle=yl(Xt.bind(null,e,Te,ht),n);break}Xt(e,Te,ht);break;case 5:Xt(e,Te,ht);break;default:throw Error(T(329))}}}return Le(e,ce()),e.callbackNode===i?Du.bind(null,e):null}function Ol(e,t){var i=fi;return e.current.memoizedState.isDehydrated&&(aa(e,t).flags|=256),e=Vn(e,t),e!==2&&(t=Te,Te=i,t!==null&&zl(t)),e}function zl(e){Te===null?Te=e:Te.push.apply(Te,e)}function Rh(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var n=0;n<i.length;n++){var s=i[n],l=s.getSnapshot;s=s.value;try{if(!rt(l(),s))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tt(e,t){for(t&=~Ir,t&=~ns,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-st(t),n=1<<i;e[i]=-1,t&=~n}}function Yo(e){if(K&6)throw Error(T(327));Ra();var t=kn(e,0);if(!(t&1))return Le(e,ce()),null;var i=Vn(e,t);if(e.tag!==0&&i===2){var n=ul(e);n!==0&&(t=n,i=Ol(e,n))}if(i===1)throw i=Ti,aa(e,0),Tt(e,t),Le(e,ce()),i;if(i===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xt(e,Te,ht),Le(e,ce()),null}function Dr(e,t){var i=K;K|=1;try{return e(t)}finally{K=i,K===0&&(Va=ce()+500,es&&Kt())}}function ca(e){Ft!==null&&Ft.tag===0&&!(K&6)&&Ra();var t=K;K|=1;var i=Xe.transition,n=q;try{if(Xe.transition=null,q=1,e)return e()}finally{q=n,Xe.transition=i,K=t,!(K&6)&&Kt()}}function Pr(){ze=Ea.current,te(Ea)}function aa(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,mh(i)),me!==null)for(i=me.return;i!==null;){var n=i;switch(ur(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Dn();break;case 3:Ua(),te(Fe),te(Ce),xr();break;case 5:yr(n);break;case 4:Ua();break;case 13:te(ie);break;case 19:te(ie);break;case 10:fr(n.type._context);break;case 22:case 23:Pr()}i=i.return}if(ge=e,me=e=Vt(e.current,null),ye=ze=t,he=0,Ti=null,Ir=ns=oa=0,Te=fi=null,ea!==null){for(t=0;t<ea.length;t++)if(i=ea[t],n=i.interleaved,n!==null){i.interleaved=null;var s=n.next,l=i.pending;if(l!==null){var r=l.next;l.next=s,n.next=r}i.pending=n}ea=null}return e}function Pu(e,t){do{var i=me;try{if(hr(),hn.current=On,$n){for(var n=ne.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}$n=!1}if(ra=0,ve=pe=ne=null,pi=!1,Di=0,Sr.current=null,i===null||i.return===null){he=1,Ti=t,me=null;break}e:{var l=e,r=i.return,c=i,o=t;if(t=ye,c.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var d=o,u=c,v=u.tag;if(!(u.mode&1)&&(v===0||v===11||v===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=Fo(r);if(f!==null){f.flags&=-257,Ro(f,r,c,l,t),f.mode&1&&Mo(l,d,t),t=f,o=d;var g=t.updateQueue;if(g===null){var y=new Set;y.add(o),t.updateQueue=y}else g.add(o);break e}else{if(!(t&1)){Mo(l,d,t),Ar();break e}o=Error(T(426))}}else if(ae&&c.mode&1){var N=Fo(r);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Ro(N,r,c,l,t),mr(Ba(o,c));break e}}l=o=Ba(o,c),he!==4&&(he=2),fi===null?fi=[l]:fi.push(l),l=r;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var _=hu(l,o,t);Io(l,_);break e;case 1:c=o;var p=l.type,h=l.stateNode;if(!(l.flags&128)&&(typeof p.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Ut===null||!Ut.has(h)))){l.flags|=65536,t&=-t,l.lanes|=t;var x=fu(l,c,t);Io(l,x);break e}}l=l.return}while(l!==null)}Mu(i)}catch(w){t=w,me===i&&i!==null&&(me=i=i.return);continue}break}while(!0)}function Au(){var e=zn.current;return zn.current=On,e===null?On:e}function Ar(){(he===0||he===3||he===2)&&(he=4),ge===null||!(oa&268435455)&&!(ns&268435455)||Tt(ge,ye)}function Vn(e,t){var i=K;K|=2;var n=Au();(ge!==e||ye!==t)&&(ht=null,aa(e,t));do try{Lh();break}catch(s){Pu(e,s)}while(!0);if(hr(),K=i,zn.current=n,me!==null)throw Error(T(261));return ge=null,ye=0,he}function Lh(){for(;me!==null;)Tu(me)}function $h(){for(;me!==null&&!cp();)Tu(me)}function Tu(e){var t=Ru(e.alternate,e,ze);e.memoizedProps=e.pendingProps,t===null?Mu(e):me=t,Sr.current=null}function Mu(e){var t=e;do{var i=t.alternate;if(e=t.return,t.flags&32768){if(i=Ph(i,t),i!==null){i.flags&=32767,me=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{he=6,me=null;return}}else if(i=Dh(i,t,ze),i!==null){me=i;return}if(t=t.sibling,t!==null){me=t;return}me=t=e}while(t!==null);he===0&&(he=5)}function Xt(e,t,i){var n=q,s=Xe.transition;try{Xe.transition=null,q=1,Oh(e,t,i,n)}finally{Xe.transition=s,q=n}return null}function Oh(e,t,i,n){do Ra();while(Ft!==null);if(K&6)throw Error(T(327));i=e.finishedWork;var s=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var l=i.lanes|i.childLanes;if(yp(e,l),e===ge&&(me=ge=null,ye=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||nn||(nn=!0,Lu(bn,function(){return Ra(),null})),l=(i.flags&15990)!==0,i.subtreeFlags&15990||l){l=Xe.transition,Xe.transition=null;var r=q;q=1;var c=K;K|=4,Sr.current=null,Th(e,i),Iu(i,e),sh(gl),Cn=!!vl,gl=vl=null,e.current=i,Mh(i),dp(),K=c,q=r,Xe.transition=l}else e.current=i;if(nn&&(nn=!1,Ft=e,Bn=s),l=e.pendingLanes,l===0&&(Ut=null),pp(i.stateNode),Le(e,ce()),t!==null)for(n=e.onRecoverableError,i=0;i<t.length;i++)s=t[i],n(s.value,{componentStack:s.stack,digest:s.digest});if(Un)throw Un=!1,e=Ll,Ll=null,e;return Bn&1&&e.tag!==0&&Ra(),l=e.pendingLanes,l&1?e===$l?vi++:(vi=0,$l=e):vi=0,Kt(),null}function Ra(){if(Ft!==null){var e=hd(Bn),t=Xe.transition,i=q;try{if(Xe.transition=null,q=16>e?16:e,Ft===null)var n=!1;else{if(e=Ft,Ft=null,Bn=0,K&6)throw Error(T(331));var s=K;for(K|=4,L=e.current;L!==null;){var l=L,r=l.child;if(L.flags&16){var c=l.deletions;if(c!==null){for(var o=0;o<c.length;o++){var d=c[o];for(L=d;L!==null;){var u=L;switch(u.tag){case 0:case 11:case 15:hi(8,u,l)}var v=u.child;if(v!==null)v.return=u,L=v;else for(;L!==null;){u=L;var m=u.sibling,f=u.return;if(ku(u),u===d){L=null;break}if(m!==null){m.return=f,L=m;break}L=f}}}var g=l.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var N=y.sibling;y.sibling=null,y=N}while(y!==null)}}L=l}}if(l.subtreeFlags&2064&&r!==null)r.return=l,L=r;else e:for(;L!==null;){if(l=L,l.flags&2048)switch(l.tag){case 0:case 11:case 15:hi(9,l,l.return)}var _=l.sibling;if(_!==null){_.return=l.return,L=_;break e}L=l.return}}var p=e.current;for(L=p;L!==null;){r=L;var h=r.child;if(r.subtreeFlags&2064&&h!==null)h.return=r,L=h;else e:for(r=p;L!==null;){if(c=L,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:is(9,c)}}catch(w){re(c,c.return,w)}if(c===r){L=null;break e}var x=c.sibling;if(x!==null){x.return=c.return,L=x;break e}L=c.return}}if(K=s,Kt(),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(Kn,e)}catch{}n=!0}return n}finally{q=i,Xe.transition=t}}return!1}function Ko(e,t,i){t=Ba(i,t),t=hu(e,t,1),e=zt(e,t,1),t=De(),e!==null&&(Fi(e,1,t),Le(e,t))}function re(e,t,i){if(e.tag===3)Ko(e,e,i);else for(;t!==null;){if(t.tag===3){Ko(t,e,i);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ut===null||!Ut.has(n))){e=Ba(i,e),e=fu(t,e,1),t=zt(t,e,1),e=De(),t!==null&&(Fi(t,1,e),Le(t,e));break}}t=t.return}}function zh(e,t,i){var n=e.pingCache;n!==null&&n.delete(t),t=De(),e.pingedLanes|=e.suspendedLanes&i,ge===e&&(ye&i)===i&&(he===4||he===3&&(ye&130023424)===ye&&500>ce()-Er?aa(e,0):Ir|=i),Le(e,t)}function Fu(e,t){t===0&&(e.mode&1?(t=Qi,Qi<<=1,!(Qi&130023424)&&(Qi=4194304)):t=1);var i=De();e=Nt(e,t),e!==null&&(Fi(e,t,i),Le(e,i))}function Uh(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Fu(e,i)}function Bh(e,t){var i=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(i=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(T(314))}n!==null&&n.delete(t),Fu(e,i)}var Ru;Ru=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fe.current)Me=!0;else{if(!(e.lanes&i)&&!(t.flags&128))return Me=!1,Eh(e,t,i);Me=!!(e.flags&131072)}else Me=!1,ae&&t.flags&1048576&&zd(t,Tn,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;vn(e,t),e=t.pendingProps;var s=$a(t,Ce.current);Fa(t,i),s=jr(null,t,n,e,s,i);var l=wr();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Re(n)?(l=!0,Pn(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,gr(t),s.updater=as,t.stateNode=s,s._reactInternals=t,Cl(t,n,e,i),t=El(null,t,n,!0,l,i)):(t.tag=0,ae&&l&&dr(t),Ie(null,t,s,i),t=t.child),t;case 16:n=t.elementType;e:{switch(vn(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Gh(n),e=at(n,e),s){case 0:t=Il(null,t,n,e,i);break e;case 1:t=Oo(null,t,n,e,i);break e;case 11:t=Lo(null,t,n,e,i);break e;case 14:t=$o(null,t,n,at(n.type,e),i);break e}throw Error(T(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:at(n,s),Il(e,t,n,s,i);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:at(n,s),Oo(e,t,n,s,i);case 3:e:{if(yu(t),e===null)throw Error(T(387));n=t.pendingProps,l=t.memoizedState,s=l.element,Wd(e,t),Rn(t,n,null,i);var r=t.memoizedState;if(n=r.element,l.isDehydrated)if(l={element:n,isDehydrated:!1,cache:r.cache,pendingSuspenseBoundaries:r.pendingSuspenseBoundaries,transitions:r.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=Ba(Error(T(423)),t),t=zo(e,t,n,i,s);break e}else if(n!==s){s=Ba(Error(T(424)),t),t=zo(e,t,n,i,s);break e}else for(Ue=Ot(t.stateNode.containerInfo.firstChild),Be=t,ae=!0,nt=null,i=Gd(t,null,n,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Oa(),n===s){t=jt(e,t,i);break e}Ie(e,t,n,i)}t=t.child}return t;case 5:return Qd(t),e===null&&wl(t),n=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,r=s.children,_l(n,s)?r=null:l!==null&&_l(n,l)&&(t.flags|=32),_u(e,t),Ie(e,t,r,i),t.child;case 6:return e===null&&wl(t),null;case 13:return xu(e,t,i);case 4:return _r(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=za(t,null,n,i):Ie(e,t,n,i),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:at(n,s),Lo(e,t,n,s,i);case 7:return Ie(e,t,t.pendingProps,i),t.child;case 8:return Ie(e,t,t.pendingProps.children,i),t.child;case 12:return Ie(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,l=t.memoizedProps,r=s.value,Z(Mn,n._currentValue),n._currentValue=r,l!==null)if(rt(l.value,r)){if(l.children===s.children&&!Fe.current){t=jt(e,t,i);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var c=l.dependencies;if(c!==null){r=l.child;for(var o=c.firstContext;o!==null;){if(o.context===n){if(l.tag===1){o=_t(-1,i&-i),o.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?o.next=o:(o.next=u.next,u.next=o),d.pending=o}}l.lanes|=i,o=l.alternate,o!==null&&(o.lanes|=i),bl(l.return,i,t),c.lanes|=i;break}o=o.next}}else if(l.tag===10)r=l.type===t.type?null:l.child;else if(l.tag===18){if(r=l.return,r===null)throw Error(T(341));r.lanes|=i,c=r.alternate,c!==null&&(c.lanes|=i),bl(r,i,t),r=l.sibling}else r=l.child;if(r!==null)r.return=l;else for(r=l;r!==null;){if(r===t){r=null;break}if(l=r.sibling,l!==null){l.return=r.return,r=l;break}r=r.return}l=r}Ie(e,t,s.children,i),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Fa(t,i),s=Je(s),n=n(s),t.flags|=1,Ie(e,t,n,i),t.child;case 14:return n=t.type,s=at(n,t.pendingProps),s=at(n.type,s),$o(e,t,n,s,i);case 15:return vu(e,t,t.type,t.pendingProps,i);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:at(n,s),vn(e,t),t.tag=1,Re(n)?(e=!0,Pn(t)):e=!1,Fa(t,i),pu(t,n,s),Cl(t,n,s,i),El(null,t,n,!0,e,i);case 19:return Nu(e,t,i);case 22:return gu(e,t,i)}throw Error(T(156,t.tag))};function Lu(e,t){return dd(e,t)}function Vh(e,t,i,n){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ke(e,t,i,n){return new Vh(e,t,i,n)}function Tr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gh(e){if(typeof e=="function")return Tr(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Jl)return 11;if(e===Zl)return 14}return 2}function Vt(e,t){var i=e.alternate;return i===null?(i=Ke(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function yn(e,t,i,n,s,l){var r=2;if(n=e,typeof e=="function")Tr(e)&&(r=1);else if(typeof e=="string")r=5;else e:switch(e){case ya:return ia(i.children,s,l,t);case Xl:r=8,s|=8;break;case qs:return e=Ke(12,i,t,s|2),e.elementType=qs,e.lanes=l,e;case Xs:return e=Ke(13,i,t,s),e.elementType=Xs,e.lanes=l,e;case Js:return e=Ke(19,i,t,s),e.elementType=Js,e.lanes=l,e;case Qc:return ss(i,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Hc:r=10;break e;case Wc:r=9;break e;case Jl:r=11;break e;case Zl:r=14;break e;case Dt:r=16,n=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=Ke(r,i,t,s),t.elementType=e,t.type=n,t.lanes=l,t}function ia(e,t,i,n){return e=Ke(7,e,n,t),e.lanes=i,e}function ss(e,t,i,n){return e=Ke(22,e,n,t),e.elementType=Qc,e.lanes=i,e.stateNode={isHidden:!1},e}function Bs(e,t,i){return e=Ke(6,e,null,t),e.lanes=i,e}function Vs(e,t,i){return t=Ke(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hh(e,t,i,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ws(0),this.expirationTimes=ws(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ws(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Mr(e,t,i,n,s,l,r,c,o){return e=new Hh(e,t,i,c,o),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Ke(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:n,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},gr(l),e}function Wh(e,t,i){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_a,key:n==null?null:""+n,children:e,containerInfo:t,implementation:i}}function $u(e){if(!e)return Ht;e=e._reactInternals;e:{if(pa(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Re(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var i=e.type;if(Re(i))return $d(e,i,t)}return t}function Ou(e,t,i,n,s,l,r,c,o){return e=Mr(i,n,!0,e,s,l,r,c,o),e.context=$u(null),i=e.current,n=De(),s=Bt(i),l=_t(n,s),l.callback=t??null,zt(i,l,s),e.current.lanes=s,Fi(e,s,n),Le(e,n),e}function ls(e,t,i,n){var s=t.current,l=De(),r=Bt(s);return i=$u(i),t.context===null?t.context=i:t.pendingContext=i,t=_t(l,r),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=zt(s,t,r),e!==null&&(lt(e,s,r,l),pn(e,s,r)),r}function Gn(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qo(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Fr(e,t){qo(e,t),(e=e.alternate)&&qo(e,t)}function Qh(){return null}var zu=typeof reportError=="function"?reportError:function(e){console.error(e)};function Rr(e){this._internalRoot=e}rs.prototype.render=Rr.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));ls(e,t,null,null)};rs.prototype.unmount=Rr.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ca(function(){ls(null,e,null,null)}),t[xt]=null}};function rs(e){this._internalRoot=e}rs.prototype.unstable_scheduleHydration=function(e){if(e){var t=gd();e={blockedOn:null,target:e,priority:t};for(var i=0;i<At.length&&t!==0&&t<At[i].priority;i++);At.splice(i,0,e),i===0&&yd(e)}};function Lr(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function os(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Xo(){}function Yh(e,t,i,n,s){if(s){if(typeof n=="function"){var l=n;n=function(){var d=Gn(r);l.call(d)}}var r=Ou(t,n,e,0,null,!1,!1,"",Xo);return e._reactRootContainer=r,e[xt]=r.current,ki(e.nodeType===8?e.parentNode:e),ca(),r}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var c=n;n=function(){var d=Gn(o);c.call(d)}}var o=Mr(e,0,!1,null,null,!1,!1,"",Xo);return e._reactRootContainer=o,e[xt]=o.current,ki(e.nodeType===8?e.parentNode:e),ca(function(){ls(t,o,i,n)}),o}function cs(e,t,i,n,s){var l=i._reactRootContainer;if(l){var r=l;if(typeof s=="function"){var c=s;s=function(){var o=Gn(r);c.call(o)}}ls(t,r,e,s)}else r=Yh(i,t,e,s,n);return Gn(r)}fd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=li(t.pendingLanes);i!==0&&(ar(t,i|1),Le(t,ce()),!(K&6)&&(Va=ce()+500,Kt()))}break;case 13:ca(function(){var n=Nt(e,1);if(n!==null){var s=De();lt(n,e,1,s)}}),Fr(e,1)}};ir=function(e){if(e.tag===13){var t=Nt(e,134217728);if(t!==null){var i=De();lt(t,e,134217728,i)}Fr(e,134217728)}};vd=function(e){if(e.tag===13){var t=Bt(e),i=Nt(e,t);if(i!==null){var n=De();lt(i,e,t,n)}Fr(e,t)}};gd=function(){return q};_d=function(e,t){var i=q;try{return q=e,t()}finally{q=i}};ol=function(e,t,i){switch(t){case"input":if(tl(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var n=i[t];if(n!==e&&n.form===e.form){var s=Zn(n);if(!s)throw Error(T(90));Kc(n),tl(n,s)}}}break;case"textarea":Xc(e,i);break;case"select":t=i.value,t!=null&&Pa(e,!!i.multiple,t,!1)}};nd=Dr;sd=ca;var Kh={usingClientEntryPoint:!1,Events:[Li,wa,Zn,ad,id,Dr]},ti={findFiberByHostInstance:Zt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qh={bundleType:ti.bundleType,version:ti.version,rendererPackageName:ti.rendererPackageName,rendererConfig:ti.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=od(e),e===null?null:e.stateNode},findFiberByHostInstance:ti.findFiberByHostInstance||Qh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sn.isDisabled&&sn.supportsFiber)try{Kn=sn.inject(qh),ut=sn}catch{}}Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kh;Ge.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lr(t))throw Error(T(200));return Wh(e,t,null,i)};Ge.createRoot=function(e,t){if(!Lr(e))throw Error(T(299));var i=!1,n="",s=zu;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Mr(e,1,!1,null,null,i,!1,n,s),e[xt]=t.current,ki(e.nodeType===8?e.parentNode:e),new Rr(t)};Ge.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=od(t),e=e===null?null:e.stateNode,e};Ge.flushSync=function(e){return ca(e)};Ge.hydrate=function(e,t,i){if(!os(t))throw Error(T(200));return cs(null,e,t,!0,i)};Ge.hydrateRoot=function(e,t,i){if(!Lr(e))throw Error(T(405));var n=i!=null&&i.hydratedSources||null,s=!1,l="",r=zu;if(i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onRecoverableError!==void 0&&(r=i.onRecoverableError)),t=Ou(t,null,e,1,i??null,s,!1,l,r),e[xt]=t.current,ki(e),n)for(e=0;e<n.length;e++)i=n[e],s=i._getVersion,s=s(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,s]:t.mutableSourceEagerHydrationData.push(i,s);return new rs(t)};Ge.render=function(e,t,i){if(!os(t))throw Error(T(200));return cs(null,e,t,!1,i)};Ge.unmountComponentAtNode=function(e){if(!os(e))throw Error(T(40));return e._reactRootContainer?(ca(function(){cs(null,null,e,!1,function(){e._reactRootContainer=null,e[xt]=null})}),!0):!1};Ge.unstable_batchedUpdates=Dr;Ge.unstable_renderSubtreeIntoContainer=function(e,t,i,n){if(!os(i))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return cs(e,t,i,!1,n)};Ge.version="18.3.1-next-f1338f8080-20240426";function Uu(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Uu)}catch(e){console.error(e)}}Uu(),Uc.exports=Ge;var Xh=Uc.exports,Jo=Xh;Ys.createRoot=Jo.createRoot,Ys.hydrateRoot=Jo.hydrateRoot;function Jh({onToggleSidebar:e}){return a.jsxs("header",{className:"header",children:[a.jsxs("div",{className:"header__left",children:[a.jsx("button",{className:"header__menu-toggle",onClick:e,"aria-label":"Toggle sidebar",children:a.jsx("i",{className:"fa-solid fa-bars"})}),a.jsx("a",{href:"/",className:"header__logo",children:a.jsx("img",{src:"/fever-zone-logo.svg",alt:"Fever Zone",className:"header__logo-img"})})]}),a.jsxs("div",{className:"header__right",children:[a.jsx("button",{className:"header__create-btn",children:"Create event"}),a.jsxs("button",{className:"header__user-menu",children:[a.jsxs("span",{className:"header__user-info",children:[a.jsx("span",{className:"header__user-name",children:"Andres Clavel"}),a.jsx("span",{className:"header__user-org",children:"Fever Demo Events"})]}),a.jsx("i",{className:"fa-regular fa-circle-user header__user-icon"})]})]})]})}const Zh=e=>[{icon:"fa-calendar",label:"Events",hasSubmenu:!0},{icon:"fa-tower-broadcast",label:"Channels",hasSubmenu:!0},{icon:"fa-id-card",label:"Memberships",hasSubmenu:!0},{icon:"fa-hand-holding-heart",label:"Fundraising",hasSubmenu:!0,expanded:!0,submenu:[{label:"Dashboard",page:"dashboard",active:e==="dashboard"},{label:"Patrons",page:"patrons",active:e==="patrons"||e==="patron"},{label:"Opportunities",page:"opportunities",active:e==="opportunities"||e==="opportunity"},{label:"Campaigns",page:"campaigns",active:e==="campaigns"},{label:"Donation Prompts",href:"#"},{label:"Donation Pages",href:"#"},{label:"Settings",page:"settings",active:e==="settings"}]},{icon:"fa-chart-line",label:"Report",href:"#"},{icon:"fa-boxes-stacked",label:"Inventory",hasSubmenu:!0},{icon:"fa-qrcode",label:"Validation",hasSubmenu:!0},{icon:"fa-shopping-cart",label:"Orders",hasSubmenu:!0},{icon:"fa-bullhorn",label:"Marketing",hasSubmenu:!0},{icon:"fa-cash-register",label:"Box Office",hasSubmenu:!0},{icon:"fa-calendar-check",label:"Reservations",hasSubmenu:!0},{icon:"fa-sack-dollar",label:"Finance",hasSubmenu:!0},{icon:"fa-gear",label:"Settings",hasSubmenu:!0},{icon:"fa-building",label:"Organizations",hasSubmenu:!0}];function ef({collapsed:e,activePage:t="patron",onNavigate:i}){const n=Zh(t);return a.jsx("aside",{className:`sidebar ${e?"sidebar--collapsed":""}`,children:a.jsxs("nav",{className:"sidebar__nav",children:[a.jsx("ul",{className:"sidebar__menu",children:n.map((s,l)=>a.jsxs("li",{className:"sidebar__item",children:[a.jsxs("a",{href:s.href||"#",className:`sidebar__link ${s.expanded?"sidebar__link--expanded":""}`,children:[a.jsx("i",{className:`fa-solid ${s.icon} sidebar__icon`}),!e&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"sidebar__label",children:s.label}),s.hasSubmenu&&a.jsx("i",{className:`fa-solid fa-chevron-${s.expanded?"down":"right"} sidebar__arrow`})]})]}),s.expanded&&s.submenu&&!e&&a.jsx("ul",{className:"sidebar__submenu",children:s.submenu.map((r,c)=>a.jsx("li",{className:"sidebar__subitem",children:a.jsx("a",{href:r.href||"#",className:`sidebar__sublink ${r.active?"sidebar__sublink--active":""}`,onClick:o=>{r.page&&i&&(o.preventDefault(),i(r.page))},children:r.label})},c))})]},l))}),a.jsx("div",{className:"sidebar__bottom",children:a.jsxs("a",{href:"#",className:"sidebar__link sidebar__link--logout",children:[a.jsx("i",{className:"fa-solid fa-arrow-right-from-bracket sidebar__icon"}),!e&&a.jsx("span",{className:"sidebar__label",children:"Log out"})]})})]})})}function tf(){return a.jsxs("footer",{className:"footer",children:[a.jsxs("div",{className:"footer__content",children:[a.jsx("img",{src:"/fever-logo-white.svg",alt:"Fever Logo",className:"footer__logo"}),a.jsxs("div",{className:"footer__links",children:[a.jsxs("div",{className:"info-column",children:[a.jsx("span",{className:"info-column__title",children:"How Fever Works"}),a.jsx("a",{href:"#",className:"info-column__link",children:"FeverZone Guide"}),a.jsx("a",{href:"#",className:"info-column__link",children:"Frequently Asked Questions"}),a.jsx("a",{href:"#",className:"info-column__link",children:"Validation Guide"}),a.jsx("a",{href:"#",className:"info-column__link",children:"How to validate tickets"})]}),a.jsxs("div",{className:"info-column",children:[a.jsx("span",{className:"info-column__title",children:"Partners' support contact"}),a.jsx("a",{href:"tel:+16672443490",className:"info-column__link",children:"(667) 244-3490"}),a.jsx("span",{className:"info-column__link",children:"Monday to Friday (08:00 - 20:30)"}),a.jsx("a",{href:"#",className:"info-column__link",children:"Send us a message"})]})]})]}),a.jsx("div",{className:"footer__separator"}),a.jsxs("div",{className:"footer__copyright",children:[a.jsx("p",{children:"2026 Fever"}),a.jsx("p",{children:"v. 12.0.2"})]})]})}const ke=[{id:"opp-001",patronId:"anderson-collingwood",name:"New Wing Major Gift",description:"Multi-year pledge for capital campaign",askAmount:5e4,stage:"cultivation",probability:75,expectedClose:"2026-06-01",nextAction:"Follow up re: gallery tour",lastContact:"2026-01-15",fundId:"capital-building",campaignId:"building-future",assignedToId:"lj",status:"open",closedDate:null,closedReason:null,createdDate:"2025-09-15"},{id:"opp-002",patronId:"anderson-collingwood",name:"Spring Gala Table Sponsor",description:"Table sponsorship for Spring Gala 2026",askAmount:1e4,stage:"solicitation",probability:90,expectedClose:"2026-03-15",nextAction:"Send formal sponsorship invitation",lastContact:"2026-01-20",fundId:"annual-operating",campaignId:"spring-gala-2026",assignedToId:"lj",status:"open",closedDate:null,closedReason:null,createdDate:"2025-12-01"},{id:"opp-003",patronId:"eleanor-whitfield",name:"Annual Fund Leadership Gift",description:"Leadership level annual fund commitment",askAmount:1e5,stage:"solicitation",probability:85,expectedClose:"2026-02-28",nextAction:"Schedule lunch meeting",lastContact:"2026-02-01",fundId:"annual-operating",campaignId:"annual-2026",assignedToId:"jm",status:"open",closedDate:null,closedReason:null,createdDate:"2025-10-01"},{id:"opp-004",patronId:"marcus-chen",name:"Exhibition Sponsorship",description:"Corporate sponsorship for Impressionist exhibition",askAmount:5e4,stage:"cultivation",probability:60,expectedClose:"2026-05-01",nextAction:"Send exhibition catalog",lastContact:"2026-01-28",fundId:"exhibitions",campaignId:"impressionist-2026",assignedToId:"rb",status:"open",closedDate:null,closedReason:null,createdDate:"2025-11-15"},{id:"opp-005",patronId:"patricia-hawthorne",name:"Foundation Grant",description:"Grant from Hawthorne Family Foundation",askAmount:15e3,stage:"qualification",probability:40,expectedClose:"2026-04-15",nextAction:"Research foundation giving history",lastContact:"2025-12-20",fundId:"education",campaignId:"annual-2026",assignedToId:"rb",status:"open",closedDate:null,closedReason:null,createdDate:"2025-11-01"},{id:"opp-006",patronId:"james-morrison",name:"Major Gift - Building Campaign",description:"Major gift pledge for new wing",askAmount:75e3,stage:"stewardship",probability:100,expectedClose:"2026-01-15",nextAction:"Thank you call for pledge",lastContact:"2026-02-03",fundId:"capital-building",campaignId:"building-future",assignedToId:"jm",status:"won",closedDate:"2026-01-15",closedReason:null,createdDate:"2025-06-01"},{id:"opp-007",patronId:"sarah-blackwood",name:"First Major Gift",description:"Identified through wealth screening",askAmount:3e4,stage:"identification",probability:20,expectedClose:"2026-09-01",nextAction:"Review wealth screening results",lastContact:"2026-01-10",fundId:"annual-operating",campaignId:"annual-2026",assignedToId:"al",status:"open",closedDate:null,closedReason:null,createdDate:"2026-01-05"},{id:"opp-008",patronId:"william-hartford",name:"Planned Giving - Bequest",description:"Bequest intention for estate planning",askAmount:2e5,stage:"solicitation",probability:70,expectedClose:"2026-03-30",nextAction:"Prepare ask proposal",lastContact:"2026-01-25",fundId:"endowment",campaignId:"legacy-society",assignedToId:"jm",status:"open",closedDate:null,closedReason:null,createdDate:"2025-08-01"},{id:"opp-009",patronId:"diana-rothschild",name:"Education Program Support",description:"Support for youth education initiatives",askAmount:4e4,stage:"qualification",probability:50,expectedClose:"2026-06-15",nextAction:"Initial qualification call",lastContact:"2026-02-04",fundId:"education",campaignId:"annual-2026",assignedToId:"al",status:"open",closedDate:null,closedReason:null,createdDate:"2025-12-15"},{id:"opp-010",patronId:"theodore-banks",name:"Annual Renewal",description:"Annual major gift renewal",askAmount:1e4,stage:"stewardship",probability:100,expectedClose:"2025-11-30",nextAction:"Annual stewardship report",lastContact:"2025-11-15",fundId:"annual-operating",campaignId:"annual-2026",assignedToId:"rb",status:"won",closedDate:"2025-11-30",closedReason:null,createdDate:"2025-09-01"},{id:"opp-011",patronId:"victoria-sterling",name:"Transformational Gift",description:"Potential naming opportunity",askAmount:5e5,stage:"cultivation",probability:45,expectedClose:"2026-12-01",nextAction:"Board member introduction",lastContact:"2026-01-30",fundId:"capital-building",campaignId:"building-future",assignedToId:"jm",status:"open",closedDate:null,closedReason:null,createdDate:"2025-07-01"},{id:"opp-012",patronId:"margaret-chen",name:"Annual Fund Gift",description:"Annual giving commitment",askAmount:5e3,stage:"qualification",probability:35,expectedClose:"2026-05-01",nextAction:"Review wealth screening",lastContact:"2025-10-05",fundId:"annual-operating",campaignId:"annual-2026",assignedToId:"lj",status:"open",closedDate:null,closedReason:null,createdDate:"2025-09-15"}],af=e=>ke.filter(t=>t.patronId===e),nf=e=>ke.filter(t=>t.patronId===e&&t.status==="open"),Bu=()=>ke.filter(e=>e.status==="open"),Jt=e=>ke.find(t=>t.id===e),Vu=()=>{const e=new Set,t=[];return ke.forEach(i=>{i.campaignId&&!e.has(i.campaignId)&&(e.add(i.campaignId),t.push(i.campaignId))}),t},Gu=()=>{const e=new Set,t=[];return ke.forEach(i=>{i.assignedToId&&!e.has(i.assignedToId)&&(e.add(i.assignedToId),t.push(i.assignedToId))}),t},Ye=[{id:"identification",label:"Identification",description:"Prospect discovered"},{id:"qualification",label:"Qualification",description:"Validating capacity"},{id:"cultivation",label:"Cultivation",description:"Building relationship"},{id:"solicitation",label:"Solicitation",description:"Ready to ask"},{id:"stewardship",label:"Stewardship",description:"Post-gift"}],sf=[{value:10,label:"10%"},{value:25,label:"25%"},{value:50,label:"50%"},{value:75,label:"75%"},{value:90,label:"90%"}],lf=()=>`opp-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,Hu=e=>{const t={id:lf(),patronId:e.patronId,name:e.name,description:e.description||"",askAmount:e.askAmount,stage:e.stage||"identification",probability:e.probability||25,expectedClose:e.expectedClose,nextAction:e.nextAction||"",lastContact:new Date().toISOString().split("T")[0],fundId:e.fundId,campaignId:e.campaignId,assignedToId:e.assignedToId,status:"open",closedDate:null,closedReason:null,createdDate:new Date().toISOString().split("T")[0]};return ke.push(t),t},ds=(e,t)=>{const i=ke.findIndex(n=>n.id===e);return i===-1?null:(ke[i]={...ke[i],...t},ke[i])},rf=(e,t)=>ds(e,{stage:t}),of=(e,t=null,i=null)=>{const n=Jt(e);return n?{opportunity:ds(e,{status:"won",stage:"stewardship",closedDate:new Date().toISOString().split("T")[0],closedReason:i||"Gift received",probability:100,askAmount:t||n.askAmount}),gift:{id:`gift-${Date.now()}`,patronId:n.patronId,amount:t||n.askAmount,date:new Date().toISOString().split("T")[0],fundId:n.fundId,campaignId:n.campaignId,opportunityId:e,type:"donation"}}:null},cf=(e,t=null)=>ds(e,{status:"lost",closedDate:new Date().toISOString().split("T")[0],closedReason:t||"Declined"}),df=(e,t,i=null,n=null)=>{const s={lastContact:t||new Date().toISOString().split("T")[0]};i!==null&&(s.nextAction=i);const l=ds(e,s);if(n&&l){const{addInteraction:r}=require("./patrons");r({...n,patronId:l.patronId,opportunityId:e})}return l},us=[{id:"annual-operating",name:"Annual Operating Fund",type:"unrestricted"},{id:"capital-building",name:"Capital Building Fund",type:"restricted"},{id:"education",name:"Education Programs Fund",type:"restricted"},{id:"exhibitions",name:"Exhibitions Fund",type:"restricted"},{id:"endowment",name:"Endowment Fund",type:"endowment"},{id:"restricted",name:"Restricted Funds",type:"restricted"}],Oi=[{id:"annual-2026",name:"2026 Annual Fund",fundId:"annual-operating",status:"active",goal:5e5,raised:215e3,donorCount:142,giftCount:187,avgGift:1150,startDate:"2026-01-01",endDate:"2026-12-31",managerId:"jm",appeals:[{id:"year-end-mailer",name:"Year-End Direct Mail",raised:85e3,cost:12e3,responses:234},{id:"spring-gala",name:"Spring Gala 2026",raised:95e3,cost:25e3,responses:156},{id:"membership-renewal",name:"Membership Renewal",raised:35e3,cost:2e3,responses:89},{id:"online-giving",name:"Online Giving",raised:0,cost:0,responses:0}]},{id:"building-future",name:"Building the Future",fundId:"capital-building",status:"active",goal:5e7,raised:275e4,donorCount:47,giftCount:63,avgGift:43651,startDate:"2025-01-01",endDate:"2028-12-31",managerId:"lj",appeals:[{id:"capital-kickoff",name:"Campaign Kickoff",raised:15e5,cost:45e3,responses:28},{id:"leadership-gifts",name:"Leadership Gifts Circle",raised:1e6,cost:8e3,responses:12},{id:"capital-mailer",name:"Capital Campaign Mailer",raised:25e4,cost:15e3,responses:23}]},{id:"education-2026",name:"Education Initiative 2026",fundId:"education",status:"active",goal:15e4,raised:67500,donorCount:89,giftCount:112,avgGift:603,startDate:"2026-01-01",endDate:"2026-12-31",managerId:"rb",appeals:[{id:"school-partnership",name:"School Partnership Drive",raised:42e3,cost:3500,responses:67},{id:"summer-camp",name:"Summer Camp Sponsorships",raised:25500,cost:1500,responses:45}]},{id:"spring-gala-2026",name:"Spring Gala 2026",fundId:"annual-operating",status:"active",goal:2e5,raised:45e3,donorCount:12,giftCount:15,avgGift:3e3,startDate:"2026-01-01",endDate:"2026-04-30",managerId:"jm",appeals:[{id:"gala-sponsorship",name:"Sponsorship Packages",raised:35e3,cost:2e3,responses:8},{id:"gala-tickets",name:"Ticket Sales",raised:1e4,cost:500,responses:40}]},{id:"impressionist-2026",name:"Impressionist Exhibition 2026",fundId:"exhibitions",status:"active",goal:1e5,raised:25e3,donorCount:8,giftCount:10,avgGift:2500,startDate:"2026-01-01",endDate:"2026-08-31",managerId:"rb",appeals:[{id:"exhibition-sponsor",name:"Exhibition Sponsorship",raised:25e3,cost:1e3,responses:8}]},{id:"legacy-society",name:"Legacy Society",fundId:"endowment",status:"active",goal:1e6,raised:35e4,donorCount:15,giftCount:18,avgGift:19444,startDate:"2025-01-01",endDate:"2027-12-31",managerId:"jm",appeals:[{id:"planned-giving",name:"Planned Giving Program",raised:2e5,cost:5e3,responses:12},{id:"bequest-society",name:"Bequest Society",raised:15e4,cost:2e3,responses:6}]},{id:"annual-2025",name:"2025 Annual Fund",fundId:"annual-operating",status:"completed",goal:45e4,raised:459e3,donorCount:328,giftCount:412,avgGift:1114,startDate:"2025-01-01",endDate:"2025-12-31",managerId:"jm",appeals:[{id:"year-end-2025",name:"Year-End 2025",raised:18e4,cost:11e3,responses:289},{id:"spring-2025",name:"Spring Appeal 2025",raised:15e4,cost:8e3,responses:203},{id:"online-2025",name:"Online Giving",raised:129e3,cost:500,responses:178}]},{id:"emergency-2024",name:"Emergency Relief Fund",fundId:"restricted",status:"completed",goal:1e5,raised:127500,donorCount:234,giftCount:267,avgGift:478,startDate:"2024-06-01",endDate:"2024-12-31",managerId:"al",appeals:[{id:"emergency-email",name:"Emergency Email Appeal",raised:87500,cost:200,responses:198},{id:"matching-grant",name:"Matching Grant Challenge",raised:4e4,cost:500,responses:69}]}],uf=[{id:"cash",name:"Cash"},{id:"check",name:"Check"},{id:"credit-card",name:"Credit Card"},{id:"wire",name:"Wire Transfer"},{id:"stock",name:"Stock/Securities"},{id:"in-kind",name:"In-Kind"},{id:"pledge",name:"Pledge"},{id:"matching",name:"Matching Gift"}],zi=[{id:"lj",initials:"LJ",name:"Liam Johnson",role:"Major Gift Officer"},{id:"jm",initials:"JM",name:"Jennifer Martinez",role:"Director of Development"},{id:"rb",initials:"RB",name:"Robert Brown",role:"Gift Officer"},{id:"al",initials:"AL",name:"Amanda Lee",role:"Gift Officer"},{id:"es",initials:"ES",name:"Emma Smith",role:"Gift Officer"},{id:"eg",initials:"EG",name:"Ethan Garcia",role:"Gift Officer"},{id:"sa",initials:"SA",name:"Sophia Anderson",role:"Gift Officer"},{id:"lt",initials:"LT",name:"Lucas Thomas",role:"Gift Officer"}],mf=()=>us,pf=e=>us.find(t=>t.id===e),$r=()=>Oi.filter(e=>e.status==="active").map(Wu),hf=e=>Oi.find(t=>t.id===e),ff=e=>{const t=hf(e);return t?t.appeals:[]},Wu=e=>{if(!e)return null;const t=pf(e.fundId),i=Or(e.managerId);return{...e,fund:t||{id:e.fundId,name:e.fundId},manager:i?i.name:e.managerId}},vf=()=>Oi.map(Wu),ms=()=>zi,Or=e=>zi.find(t=>t.id===e),qe=e=>{const t=zi.find(i=>i.id===e);return t?t.name:e},gf=e=>{const t=zi.find(i=>i.id===e);return t?t.initials:(e||"").toUpperCase().substring(0,2)},Ui=e=>{const t=us.find(i=>i.id===e);return t?t.name:e},ha=e=>{const t=Oi.find(i=>i.id===e);return t?t.name:e},_f=(e,t)=>{const i=Oi.find(s=>s.id===e);if(!i)return t;const n=i.appeals.find(s=>s.id===t);return n?n.name:t},Ee=[{id:"prospect",label:"Prospect",system:!0},{id:"donor",label:"Donor",system:!0},{id:"major-donor",label:"Major Donor",system:!0},{id:"board-member",label:"Board Member",system:!0},{id:"volunteer",label:"Volunteer",system:!0},{id:"corporate",label:"Corporate",system:!0},{id:"foundation",label:"Foundation",system:!0}],Gs=[{id:"cold",label:"Cold"},{id:"cool",label:"Cool"},{id:"warm",label:"Warm"},{id:"hot",label:"Hot"},{id:"on-fire",label:"On Fire"}],Ul=[{id:"ticket",label:"Ticket Purchase",icon:"fa-ticket",origin:"fever"},{id:"online",label:"Online Donation",icon:"fa-globe",origin:"fever"},{id:"membership",label:"Membership Signup",icon:"fa-id-card",origin:"fever"},{id:"manual",label:"Manual Entry",icon:"fa-keyboard",origin:"manual"},{id:"import",label:"Data Import",icon:"fa-file-import",origin:"manual"}],yf=e=>{const t=Ul.find(i=>i.id===e);return(t==null?void 0:t.origin)||"manual"},de=[{id:"anderson-collingwood",firstName:"Anderson",lastName:"Collingwood",photo:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",email:"collingander@gmail.com",phone:"(555) 123-4567",address:"789 Pine Rd, Austin, TX 73301",tags:["major-donor","donor","board-member"],household:{name:"Collingwood Family",verified:!0},assignedToId:"lj",engagement:{level:"on-fire",visits:54,lastVisit:"2025-11-19",activityHistory:[{month:"2025-02",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"attendance",count:2}]},{activities:[{type:"purchase",count:1,value:35}]}]},{month:"2025-03",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[{type:"donation",count:1,value:750}]},{activities:[{type:"attendance",count:2},{type:"purchase",count:1,value:45}]}]},{month:"2025-04",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-05",weeks:[{activities:[]},{activities:[{type:"attendance",count:2}]},{activities:[{type:"attendance",count:1},{type:"purchase",count:2,value:78}]},{activities:[]}]},{month:"2025-06",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[{type:"donation",count:1,value:500},{type:"attendance",count:3}]},{activities:[{type:"attendance",count:2}]},{activities:[{type:"purchase",count:1,value:25}]}]},{month:"2025-07",weeks:[{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2025-08",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"attendance",count:2}]}]},{month:"2025-09",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[{type:"purchase",count:1,value:42}]},{activities:[{type:"attendance",count:2}]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-10",weeks:[{activities:[{type:"attendance",count:2}]},{activities:[{type:"attendance",count:1},{type:"purchase",count:1,value:55}]},{activities:[{type:"attendance",count:3}]},{activities:[{type:"donation",count:1,value:200}]}]},{month:"2025-11",weeks:[{activities:[{type:"attendance",count:2},{type:"purchase",count:1,value:45}]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[{type:"attendance",count:4},{type:"purchase",count:2,value:89}]}]},{month:"2025-12",weeks:[{activities:[{type:"membership",count:1,value:145.99}]},{activities:[{type:"attendance",count:2}]},{activities:[{type:"donation",count:1,value:1e3},{type:"attendance",count:3}]},{activities:[{type:"attendance",count:4},{type:"purchase",count:3,value:156}]}]},{month:"2026-01",weeks:[{activities:[{type:"attendance",count:2}]},{activities:[]},{activities:[{type:"attendance",count:1},{type:"purchase",count:1,value:32}]},{activities:[{type:"attendance",count:3},{type:"donation",count:1,value:250}]}]}]},giving:{lifetimeValue:3222.5,donations:1975,revenue:1247.5,giftCount:6,averageGift:329.17,lastDonation:"2025-12-15",byFund:{"annual-operating":{name:"Annual Operating",total:1895.99,count:3},education:{name:"Education Programs",total:500,count:1},"capital-building":{name:"Capital Building",total:750,count:1}},byCampaign:{"annual-2026":{name:"2026 Annual Fund",total:2145.99,count:3,goal:5e5},"building-future":{name:"Building the Future",total:750,count:1,goal:5e7},"annual-2025":{name:"2025 Annual Fund",total:250,count:1,goal:45e4}},byYear:{2025:{total:2895.99,count:4},2024:{total:250,count:1}},firstTransaction:{amount:250,date:"2024-11-18"},lastTransaction:{amount:1e3,date:"2025-12-15"},largestTransaction:{amount:1e3,date:"2025-12-15"}},wealthInsights:{propensityScore:"DSI-3",description:"Real Estate holdings of 1.2 million, business executive at a firm with revenues of $1-5 million."},taxDocuments:{organization:{name:"Paradox Museum",ein:"12-3456789",address:"123 Museum Way, Austin, TX 78701"},yearEndSummaries:[{year:2025,generated:"2026-01-15",sent:!0,sentDate:"2026-01-15",method:"email"},{year:2024,generated:"2025-01-12",sent:!0,sentDate:"2025-01-12",method:"email"}],receipts:[{id:1,date:"2025-12-15",type:"donation",description:"Year-End Major Gift",amount:1e3,deductible:1e3,benefitsValue:0,campaign:"2026 Annual Fund",appeal:"Year-End Direct Mail"},{id:2,date:"2025-06-15",type:"donation",description:"Spring Gala Donation",amount:500,deductible:400,benefitsValue:100,campaign:"2026 Annual Fund",appeal:"Spring Gala 2025"},{id:3,date:"2025-12-02",type:"membership",description:"Gold Membership Renewal",amount:145.99,deductible:95.99,benefitsValue:50,campaign:"2026 Annual Fund",appeal:"Membership Renewal"},{id:4,date:"2025-03-22",type:"donation",description:"Building Campaign Gift",amount:750,deductible:750,benefitsValue:0,campaign:"Building the Future",appeal:"Capital Campaign Appeal"},{id:5,date:"2024-11-18",type:"donation",description:"Online Donation",amount:250,deductible:250,benefitsValue:0,campaign:"2025 Annual Fund",appeal:"Website Donate Button"}],inKindDonations:[]},source:"manual",createdDate:"2024-11-18"},{id:"paul-fairfax",firstName:"Paul",lastName:"Fairfax",photo:"https://images.unsplash.com/photo-1560250097-0b93528c311a?w=150&h=150&fit=crop&crop=face",email:"paul.fairfax@outlook.com",phone:"(555) 111-2222",tags:["donor","corporate"],engagement:{level:"cool",visits:6,lastVisit:"2025-11-15",activityHistory:[{month:"2025-02",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-03",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]}]},{month:"2025-04",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-05",weeks:[{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2025-06",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-07",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1},{type:"purchase",count:1,value:22}]}]},{month:"2025-08",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-09",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-10",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]}]},{month:"2025-11",weeks:[{activities:[]},{activities:[]},{activities:[{type:"attendance",count:2}]},{activities:[]}]},{month:"2025-12",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2026-01",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]}]},giving:{lifetimeValue:1850,donations:1200,revenue:650,lastDonation:"2025-09-10"},address:"742 Maple Avenue, Boston, MA 02108",taxDocuments:{organization:{name:"Paradox Museum",ein:"12-3456789",address:"100 Museum Way, Boston, MA 02115"},receipts:[{id:1,date:"2025-02-27",type:"membership",description:"Silver Membership Renewal",amount:89.99,deductible:49.99,benefitsValue:40,campaign:"Membership",appeal:"Renewal Notice"},{id:2,date:"2024-02-27",type:"membership",description:"Silver Membership - Initial",amount:89.99,deductible:49.99,benefitsValue:40,campaign:"Membership",appeal:"Website Join"}],yearEndSummaries:[{id:1,year:2025,generated:"2026-01-15",sent:!1},{id:2,year:2024,generated:"2025-01-10",sent:!0,sentDate:"2025-01-12"}],inKindDonations:[]},source:"ticket",createdDate:"2024-02-27"},{id:"jake-thompson",firstName:"Jake",lastName:"Thompson",photo:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=150&h=150&fit=crop&crop=face",email:"jake_thompson@gmail.com",phone:"(555) 234-5678",tags:["prospect"],assignedToId:"lj",engagement:{level:"cold",visits:3,lastVisit:"2025-10-01",activityHistory:[{month:"2025-02",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-03",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-04",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-05",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-06",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-07",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-08",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-09",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]}]},{month:"2025-10",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-11",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-12",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2026-01",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]}]},giving:{lifetimeValue:150,donations:0,revenue:150,lastDonation:null},source:"import",createdDate:"2025-06-15"},{id:"sophia-thomas",firstName:"Sophia",lastName:"Thomas",photo:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",email:"sophia1234@gmail.com",phone:"(555) 345-6789",tags:["donor"],assignedToId:"es",engagement:{level:"cold",visits:8,lastVisit:"2025-10-12",activityHistory:[{month:"2025-02",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-03",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-04",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-05",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-06",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]}]},{month:"2025-07",weeks:[{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2025-08",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-09",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"donation",count:1,value:750}]},{activities:[]}]},{month:"2025-10",weeks:[{activities:[]},{activities:[{type:"attendance",count:2}]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2025-11",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-12",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2026-01",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]}]},giving:{lifetimeValue:1250,donations:750,revenue:500,lastDonation:"2025-10-12"},source:"import",createdDate:"2025-04-10"},{id:"lucas-taylor",firstName:"Lucas",lastName:"Taylor",photo:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",email:"lucas_taylor@yahoo.com",phone:"(555) 456-7890",tags:["donor"],assignedToId:"lj",engagement:{level:"warm",visits:22,lastVisit:"2025-10-20",activityHistory:[{month:"2025-02",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2025-03",weeks:[{activities:[]},{activities:[{type:"attendance",count:2}]},{activities:[]},{activities:[{type:"purchase",count:1,value:45}]}]},{month:"2025-04",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2025-05",weeks:[{activities:[]},{activities:[{type:"attendance",count:2}]},{activities:[{type:"donation",count:1,value:500}]},{activities:[]}]},{month:"2025-06",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[{type:"attendance",count:2}]}]},{month:"2025-07",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[{type:"purchase",count:1,value:35}]},{activities:[]}]},{month:"2025-08",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[{type:"donation",count:1,value:500}]}]},{month:"2025-09",weeks:[{activities:[]},{activities:[{type:"attendance",count:2}]},{activities:[]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-10",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[{type:"purchase",count:1,value:55}]},{activities:[{type:"attendance",count:2},{type:"donation",count:1,value:500}]},{activities:[]}]},{month:"2025-11",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-12",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2026-01",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]}]},giving:{lifetimeValue:2800,donations:1500,revenue:1300,lastDonation:"2025-10-20"},source:"import",createdDate:"2024-08-20"},{id:"ava-anderson",firstName:"Ava",lastName:"Anderson",photo:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face",email:"anderava@gmail.com",phone:"(555) 567-8901",tags:["donor","volunteer"],assignedToId:"lj",engagement:{level:"hot",visits:45,lastVisit:"2025-11-01",activityHistory:[{month:"2025-02",weeks:[{activities:[{type:"attendance",count:2}]},{activities:[{type:"purchase",count:1,value:65}]},{activities:[{type:"attendance",count:3}]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-03",weeks:[{activities:[{type:"attendance",count:2}]},{activities:[{type:"donation",count:1,value:1e3}]},{activities:[{type:"attendance",count:2}]},{activities:[{type:"attendance",count:3},{type:"purchase",count:1,value:45}]}]},{month:"2025-04",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[{type:"attendance",count:2}]},{activities:[{type:"purchase",count:1,value:38}]},{activities:[{type:"attendance",count:2}]}]},{month:"2025-05",weeks:[{activities:[{type:"attendance",count:3}]},{activities:[{type:"attendance",count:1}]},{activities:[{type:"donation",count:1,value:2e3}]},{activities:[{type:"attendance",count:2}]}]},{month:"2025-06",weeks:[{activities:[{type:"attendance",count:2}]},{activities:[{type:"purchase",count:2,value:78}]},{activities:[{type:"attendance",count:3}]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-07",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[{type:"attendance",count:2}]},{activities:[{type:"donation",count:1,value:1500}]},{activities:[{type:"attendance",count:2}]}]},{month:"2025-08",weeks:[{activities:[{type:"attendance",count:2}]},{activities:[{type:"purchase",count:1,value:55}]},{activities:[{type:"attendance",count:1}]},{activities:[{type:"attendance",count:3}]}]},{month:"2025-09",weeks:[{activities:[{type:"attendance",count:2}]},{activities:[{type:"attendance",count:1}]},{activities:[{type:"donation",count:1,value:1e3}]},{activities:[{type:"attendance",count:2}]}]},{month:"2025-10",weeks:[{activities:[{type:"attendance",count:3}]},{activities:[{type:"purchase",count:1,value:42}]},{activities:[{type:"attendance",count:2}]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-11",weeks:[{activities:[{type:"attendance",count:2},{type:"donation",count:1,value:1500}]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-12",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2026-01",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]}]},giving:{lifetimeValue:8500,donations:7e3,revenue:1500,lastDonation:"2025-11-01"},source:"import",createdDate:"2024-03-15"},{id:"samantha-carter",firstName:"Samantha",lastName:"Carter",photo:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=150&h=150&fit=crop&crop=face",email:"samantha_itsme@gmail.com",phone:"(555) 678-9012",tags:["major-donor","donor"],assignedToId:"es",engagement:{level:"on-fire",visits:67,lastVisit:"2025-10-15",activityHistory:[{month:"2025-02",weeks:[{activities:[{type:"attendance",count:3},{type:"donation",count:1,value:1e4}]},{activities:[{type:"attendance",count:2}]},{activities:[{type:"attendance",count:4},{type:"purchase",count:2,value:125}]},{activities:[{type:"attendance",count:2}]}]},{month:"2025-03",weeks:[{activities:[{type:"attendance",count:3}]},{activities:[{type:"attendance",count:2},{type:"donation",count:1,value:15e3}]},{activities:[{type:"attendance",count:4}]},{activities:[{type:"attendance",count:3},{type:"purchase",count:1,value:89}]}]},{month:"2025-04",weeks:[{activities:[{type:"attendance",count:2}]},{activities:[{type:"attendance",count:3}]},{activities:[{type:"attendance",count:2},{type:"donation",count:1,value:5e3}]},{activities:[{type:"attendance",count:4}]}]},{month:"2025-05",weeks:[{activities:[{type:"attendance",count:3},{type:"purchase",count:2,value:156}]},{activities:[{type:"attendance",count:2}]},{activities:[{type:"attendance",count:4}]},{activities:[{type:"attendance",count:2},{type:"donation",count:1,value:25e3}]}]},{month:"2025-06",weeks:[{activities:[{type:"attendance",count:4}]},{activities:[{type:"attendance",count:3}]},{activities:[{type:"attendance",count:2},{type:"purchase",count:1,value:78}]},{activities:[{type:"attendance",count:3}]}]},{month:"2025-07",weeks:[{activities:[{type:"attendance",count:2}]},{activities:[{type:"attendance",count:4},{type:"donation",count:1,value:2e4}]},{activities:[{type:"attendance",count:3}]},{activities:[{type:"attendance",count:2}]}]},{month:"2025-08",weeks:[{activities:[{type:"attendance",count:3},{type:"purchase",count:2,value:112}]},{activities:[{type:"attendance",count:4}]},{activities:[{type:"attendance",count:2}]},{activities:[{type:"attendance",count:3},{type:"donation",count:1,value:15e3}]}]},{month:"2025-09",weeks:[{activities:[{type:"attendance",count:4}]},{activities:[{type:"attendance",count:2}]},{activities:[{type:"attendance",count:3},{type:"purchase",count:1,value:65}]},{activities:[{type:"attendance",count:4}]}]},{month:"2025-10",weeks:[{activities:[{type:"attendance",count:3}]},{activities:[{type:"attendance",count:4},{type:"donation",count:1,value:3e4}]},{activities:[{type:"attendance",count:2}]},{activities:[]}]},{month:"2025-11",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-12",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2026-01",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]}]},giving:{lifetimeValue:125e3,donations:12e4,revenue:5e3,lastDonation:"2025-10-15"},source:"import",createdDate:"2023-05-01"},{id:"john-martinez",firstName:"John",lastName:"Martinez",photo:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=150&h=150&fit=crop&crop=face",email:"johnsonmchl@microsoft.com",phone:"(555) 789-0123",tags:["donor","corporate"],assignedToId:"es",engagement:{level:"warm",visits:18,lastVisit:"2025-11-10",activityHistory:[{month:"2025-02",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2025-03",weeks:[{activities:[]},{activities:[{type:"attendance",count:2}]},{activities:[]},{activities:[{type:"donation",count:1,value:500}]}]},{month:"2025-04",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"purchase",count:1,value:45}]},{activities:[]}]},{month:"2025-05",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2025-06",weeks:[{activities:[{type:"attendance",count:2}]},{activities:[]},{activities:[]},{activities:[{type:"donation",count:1,value:500}]}]},{month:"2025-07",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[{type:"purchase",count:1,value:38}]},{activities:[]}]},{month:"2025-08",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2025-09",weeks:[{activities:[]},{activities:[{type:"attendance",count:2}]},{activities:[]},{activities:[{type:"donation",count:1,value:500}]}]},{month:"2025-10",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[{type:"purchase",count:1,value:52}]},{activities:[]},{activities:[]}]},{month:"2025-11",weeks:[{activities:[]},{activities:[{type:"attendance",count:2},{type:"donation",count:1,value:500}]},{activities:[]},{activities:[]}]},{month:"2025-12",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2026-01",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]}]},giving:{lifetimeValue:3200,donations:2e3,revenue:1200,lastDonation:"2025-11-10"},source:"import",createdDate:"2024-09-10"},{id:"mia-wilson",firstName:"Mia",lastName:"Wilson",photo:"https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?w=150&h=150&fit=crop&crop=face",email:"mia_wilson1960@gmail.com",phone:"(555) 890-1234",tags:["donor"],assignedToId:"sa",engagement:{level:"on-fire",visits:52,lastVisit:"2025-10-30",activityHistory:[{month:"2025-02",weeks:[{activities:[{type:"attendance",count:2},{type:"donation",count:1,value:5e3}]},{activities:[{type:"attendance",count:3}]},{activities:[{type:"attendance",count:2},{type:"purchase",count:1,value:95}]},{activities:[{type:"attendance",count:2}]}]},{month:"2025-03",weeks:[{activities:[{type:"attendance",count:3}]},{activities:[{type:"attendance",count:2},{type:"donation",count:1,value:1e4}]},{activities:[{type:"attendance",count:2}]},{activities:[{type:"attendance",count:3}]}]},{month:"2025-04",weeks:[{activities:[{type:"attendance",count:2},{type:"purchase",count:2,value:145}]},{activities:[{type:"attendance",count:3}]},{activities:[{type:"attendance",count:2}]},{activities:[{type:"attendance",count:2},{type:"donation",count:1,value:15e3}]}]},{month:"2025-05",weeks:[{activities:[{type:"attendance",count:3}]},{activities:[{type:"attendance",count:2}]},{activities:[{type:"attendance",count:3},{type:"purchase",count:1,value:78}]},{activities:[{type:"attendance",count:2}]}]},{month:"2025-06",weeks:[{activities:[{type:"attendance",count:2},{type:"donation",count:1,value:1e4}]},{activities:[{type:"attendance",count:3}]},{activities:[{type:"attendance",count:2}]},{activities:[{type:"attendance",count:3}]}]},{month:"2025-07",weeks:[{activities:[{type:"attendance",count:2}]},{activities:[{type:"attendance",count:3},{type:"purchase",count:2,value:112}]},{activities:[{type:"attendance",count:2}]},{activities:[{type:"attendance",count:2},{type:"donation",count:1,value:15e3}]}]},{month:"2025-08",weeks:[{activities:[{type:"attendance",count:3}]},{activities:[{type:"attendance",count:2}]},{activities:[{type:"attendance",count:3},{type:"purchase",count:1,value:65}]},{activities:[{type:"attendance",count:2}]}]},{month:"2025-09",weeks:[{activities:[{type:"attendance",count:2},{type:"donation",count:1,value:1e4}]},{activities:[{type:"attendance",count:3}]},{activities:[{type:"attendance",count:2}]},{activities:[{type:"attendance",count:3}]}]},{month:"2025-10",weeks:[{activities:[{type:"attendance",count:3}]},{activities:[{type:"attendance",count:2},{type:"purchase",count:1,value:89}]},{activities:[{type:"attendance",count:2}]},{activities:[{type:"attendance",count:3},{type:"donation",count:1,value:15e3}]}]},{month:"2025-11",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-12",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2026-01",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]}]},giving:{lifetimeValue:85e3,donations:8e4,revenue:5e3,lastDonation:"2025-10-30"},source:"import",createdDate:"2023-08-20"},{id:"olivia-brown",firstName:"Olivia",lastName:"Brown",photo:"https://images.unsplash.com/photo-1580489944761-15a19d654956?w=150&h=150&fit=crop&crop=face",email:"olibrown@gmail.com",phone:"(555) 901-2345",tags:["donor"],assignedToId:"lt",engagement:{level:"cool",visits:12,lastVisit:"2025-11-05",activityHistory:[{month:"2025-02",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-03",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"donation",count:1,value:400}]}]},{month:"2025-04",weeks:[{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2025-05",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[{type:"purchase",count:1,value:35}]}]},{month:"2025-06",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[{type:"donation",count:1,value:400}]},{activities:[]}]},{month:"2025-07",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-08",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"purchase",count:1,value:42}]}]},{month:"2025-09",weeks:[{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[{type:"donation",count:1,value:400}]}]},{month:"2025-10",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-11",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-12",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2026-01",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]}]},giving:{lifetimeValue:1800,donations:1200,revenue:600,lastDonation:"2025-11-05"},source:"import",createdDate:"2025-01-15"},{id:"ethan-davis",firstName:"Ethan",lastName:"Davis",photo:"https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?w=150&h=150&fit=crop&crop=face",email:"ethan_davies_1234@gmail.com",phone:"(555) 012-3456",tags:["donor"],assignedToId:"es",engagement:{level:"cool",visits:15,lastVisit:"2025-10-25",activityHistory:[{month:"2025-02",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]}]},{month:"2025-03",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"purchase",count:1,value:45}]},{activities:[]}]},{month:"2025-04",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-05",weeks:[{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[{type:"donation",count:1,value:250}]}]},{month:"2025-06",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[{type:"purchase",count:1,value:38}]}]},{month:"2025-07",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2025-08",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[{type:"purchase",count:1,value:52}]}]},{month:"2025-09",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]}]},{month:"2025-10",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"attendance",count:2}]},{activities:[]}]},{month:"2025-11",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-12",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2026-01",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]}]},giving:{lifetimeValue:950,donations:250,revenue:700,lastDonation:"2025-10-25"},source:"import",createdDate:"2024-12-01"},{id:"rachel-kim",firstName:"Rachel",lastName:"Kim",photo:"https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?w=150&h=150&fit=crop&crop=face",email:"rachel.kim@gmail.com",phone:"(555) 222-3333",tags:["donor"],engagement:{level:"cool",visits:6,lastVisit:"2025-12-20",activityHistory:[{month:"2025-02",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-03",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-04",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-05",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-06",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-07",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-08",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-09",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-10",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2025-11",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"membership",count:1,value:100}]}]},{month:"2025-12",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"attendance",count:1},{type:"donation",count:1,value:100}]},{activities:[]}]},{month:"2026-01",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]}]},giving:{lifetimeValue:450,donations:100,revenue:350,lastDonation:"2025-12-15"},createdDate:"2026-02-03",source:"ticket"},{id:"david-chen",firstName:"David",lastName:"Chen",photo:"https://images.unsplash.com/photo-1492562080023-ab3db95bfbce?w=150&h=150&fit=crop&crop=face",email:"d.chen@company.com",phone:"(555) 333-4444",tags:["donor"],engagement:{level:"cold",visits:2,lastVisit:"2025-09-05",activityHistory:[{month:"2025-02",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-03",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-04",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-05",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-06",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-07",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-08",weeks:[{activities:[]},{activities:[]},{activities:[{type:"donation",count:1,value:200}]},{activities:[]}]},{month:"2025-09",weeks:[{activities:[{type:"attendance",count:2}]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-10",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-11",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-12",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2026-01",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]}]},giving:{lifetimeValue:275,donations:200,revenue:75,lastDonation:"2025-08-20"},createdDate:"2026-02-01",source:"online"},{id:"maria-santos",firstName:"Maria",lastName:"Santos",photo:"https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?w=150&h=150&fit=crop&crop=face",email:"maria.santos@email.com",phone:"(555) 444-5555",tags:["donor"],engagement:{level:"warm",visits:18,lastVisit:"2026-01-28",activityHistory:[{month:"2025-02",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-03",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-04",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-05",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-06",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-07",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2025-08",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"attendance",count:2}]},{activities:[{type:"purchase",count:1,value:55}]}]},{month:"2025-09",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-10",weeks:[{activities:[{type:"attendance",count:2}]},{activities:[]},{activities:[{type:"membership",count:1,value:150}]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-11",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2025-12",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"donation",count:1,value:150}]},{activities:[{type:"attendance",count:1}]}]},{month:"2026-01",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[{type:"attendance",count:1}]}]}]},giving:{lifetimeValue:620,donations:150,revenue:470,lastDonation:"2026-01-20"},createdDate:"2026-02-04",source:"membership"},{id:"james-wilson",firstName:"James",lastName:"Wilson",photo:null,email:"jwilson@business.net",phone:"(555) 555-6666",tags:["prospect"],engagement:{level:"cold",visits:1,lastVisit:"2026-01-10",activityHistory:[{month:"2025-02",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-03",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-04",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-05",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-06",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-07",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-08",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-09",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-10",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-11",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-12",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2026-01",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]}]}]},giving:{lifetimeValue:50,donations:0,revenue:50,lastDonation:null},createdDate:"2026-02-05",source:"ticket"},{id:"sarah-collingwood",firstName:"Sarah",lastName:"Collingwood",photo:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=150&h=150&fit=crop&crop=face",email:"sarah@collingwood.com",phone:"(555) 123-4568",address:"789 Pine Rd, Austin, TX 73301",tags:["donor"],recordStatus:"active",household:{name:"Collingwood Family",verified:!0},engagement:{level:"warm",visits:28,lastVisit:"2026-01-15",activityHistory:[{month:"2025-02",weeks:[{activities:[{type:"attendance",count:2}]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-03",weeks:[{activities:[]},{activities:[{type:"attendance",count:2}]},{activities:[]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-04",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]}]},{month:"2025-05",weeks:[{activities:[]},{activities:[{type:"attendance",count:2}]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2025-06",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[{type:"attendance",count:2}]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2025-07",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]}]},{month:"2025-08",weeks:[{activities:[{type:"attendance",count:2}]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2025-09",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[{type:"attendance",count:1}]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-10",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"attendance",count:2}]},{activities:[]}]},{month:"2025-11",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-12",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2026-01",weeks:[{activities:[]},{activities:[{type:"attendance",count:2}]},{activities:[]},{activities:[]}]}]},giving:{lifetimeValue:250,donations:250,revenue:0,giftCount:1,averageGift:250,lastDonation:"2025-03-15"},createdDate:"2023-12-02",source:"manual"},{id:"emma-collingwood",firstName:"Emma",lastName:"Collingwood",photo:null,email:null,phone:null,address:"789 Pine Rd, Austin, TX 73301",dateOfBirth:"2012-03-15",tags:[],recordStatus:"active",household:{name:"Collingwood Family",verified:!0},engagement:{level:"cool",visits:7,lastVisit:"2025-12-20",activityHistory:[{month:"2025-02",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-03",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-04",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-05",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-06",weeks:[{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2025-07",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-08",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-09",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]}]},{month:"2025-10",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-11",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-12",weeks:[{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2026-01",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]}]},giving:{lifetimeValue:0,donations:0,revenue:0,giftCount:0,lastDonation:null},createdDate:"2024-01-15",source:"manual"},{id:"eleanor-whitfield",firstName:"Eleanor",lastName:"Whitfield",photo:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=150&h=150&fit=crop&crop=face",email:"eleanor.whitfield@gmail.com",phone:"(512) 555-3001",tags:["major-donor","donor"],assignedToId:"jm",engagement:{level:"hot",visits:34,lastVisit:"2026-01-22",activityHistory:[{month:"2025-02",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"donation",count:1,value:5e3}]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-03",weeks:[{activities:[{type:"attendance",count:2}]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2025-04",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[{type:"purchase",count:1,value:120}]},{activities:[]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-05",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[{type:"donation",count:1,value:1e4}]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-06",weeks:[{activities:[{type:"attendance",count:2}]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[{type:"purchase",count:1,value:85}]}]},{month:"2025-07",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-08",weeks:[{activities:[]},{activities:[{type:"attendance",count:2}]},{activities:[{type:"donation",count:1,value:5e3}]},{activities:[]}]},{month:"2025-09",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-10",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[{type:"purchase",count:1,value:200}]},{activities:[]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-11",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[{type:"donation",count:1,value:1e4}]}]},{month:"2025-12",weeks:[{activities:[{type:"attendance",count:2}]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2026-01",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]}]}]},giving:{lifetimeValue:42500,donations:35e3,revenue:7500,giftCount:8,averageGift:4375,lastDonation:"2025-11-20"},address:"2401 Lake Austin Blvd, Austin, TX 78703",source:"import",createdDate:"2022-06-15"},{id:"marcus-chen",firstName:"Marcus",lastName:"Chen",photo:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=150&h=150&fit=crop&crop=face",email:"marcus.chen@chenenterprises.com",phone:"(512) 555-3002",tags:["corporate","donor"],assignedToId:"rb",engagement:{level:"warm",visits:12,lastVisit:"2026-01-10",activityHistory:[{month:"2025-02",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-03",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-04",weeks:[{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2025-05",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]}]},{month:"2025-06",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-07",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-08",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"purchase",count:1,value:250}]}]},{month:"2025-09",weeks:[{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2025-10",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-11",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]}]},{month:"2025-12",weeks:[{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2026-01",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[]}]}]},giving:{lifetimeValue:18e3,donations:15e3,revenue:3e3,giftCount:3,averageGift:5e3,lastDonation:"2025-09-22"},address:"500 W 5th St, Suite 800, Austin, TX 78701",source:"manual",createdDate:"2023-03-10"},{id:"patricia-hawthorne",firstName:"Patricia",lastName:"Hawthorne",photo:"https://images.unsplash.com/photo-1607746882042-944635dfe10e?w=150&h=150&fit=crop&crop=face",email:"p.hawthorne@hawthornefoundation.org",phone:"(512) 555-3003",tags:["foundation","donor"],assignedToId:"rb",engagement:{level:"cool",visits:5,lastVisit:"2025-12-05",activityHistory:[{month:"2025-02",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-03",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-04",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-05",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-06",weeks:[{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2025-07",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-08",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-09",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-10",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-11",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-12",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2026-01",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]}]},giving:{lifetimeValue:12e3,donations:12e3,revenue:0,giftCount:2,averageGift:6e3,lastDonation:"2025-06-15"},address:"1200 Barton Springs Rd, Austin, TX 78704",source:"manual",createdDate:"2024-08-20"},{id:"james-morrison",firstName:"James",lastName:"Morrison",photo:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face",email:"james.morrison@gmail.com",phone:"(512) 555-3004",tags:["major-donor","donor","board-member"],assignedToId:"jm",engagement:{level:"hot",visits:28,lastVisit:"2026-01-30",activityHistory:[{month:"2025-02",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2025-03",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[{type:"donation",count:1,value:1e4}]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-04",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-05",weeks:[{activities:[]},{activities:[{type:"attendance",count:2}]},{activities:[]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-06",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[{type:"donation",count:1,value:15e3}]}]},{month:"2025-07",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-08",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2025-09",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-10",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1},{type:"purchase",count:1,value:150}]}]},{month:"2025-11",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]}]},{month:"2025-12",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2026-01",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[{type:"donation",count:1,value:75e3}]},{activities:[]},{activities:[{type:"attendance",count:1}]}]}]},giving:{lifetimeValue:125e3,donations:115e3,revenue:1e4,giftCount:12,averageGift:9583,lastDonation:"2026-01-15"},address:"3200 Westlake Dr, Austin, TX 78746",source:"import",createdDate:"2021-04-01"},{id:"sarah-blackwood",firstName:"Sarah",lastName:"Blackwood",photo:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=150&h=150&fit=crop&crop=face",email:"sarah.blackwood@outlook.com",phone:"(512) 555-3005",tags:["prospect"],assignedToId:"al",engagement:{level:"cool",visits:3,lastVisit:"2026-01-05",activityHistory:[{month:"2025-02",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-03",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-04",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-05",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-06",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-07",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-08",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-09",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-10",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-11",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]}]},{month:"2025-12",weeks:[{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2026-01",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[]}]}]},giving:{lifetimeValue:350,donations:0,revenue:350,giftCount:0,lastDonation:null},address:"901 S Congress Ave, Apt 4B, Austin, TX 78704",source:"ticket",createdDate:"2025-11-01"},{id:"william-hartford",firstName:"William",lastName:"Hartford",photo:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=150&h=150&fit=crop&crop=face",email:"w.hartford@hartfordlaw.com",phone:"(512) 555-3006",tags:["major-donor","donor"],assignedToId:"jm",engagement:{level:"warm",visits:18,lastVisit:"2026-01-18",activityHistory:[{month:"2025-02",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-03",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"donation",count:1,value:5e3}]}]},{month:"2025-04",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-05",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-06",weeks:[{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[{type:"donation",count:1,value:5e3}]}]},{month:"2025-07",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-08",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]}]},{month:"2025-09",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"donation",count:1,value:1e4}]},{activities:[]}]},{month:"2025-10",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-11",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-12",weeks:[{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[{type:"donation",count:1,value:5e3}]}]},{month:"2026-01",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[]}]}]},giving:{lifetimeValue:52e3,donations:45e3,revenue:7e3,giftCount:9,averageGift:5e3,lastDonation:"2025-12-20"},address:"4500 Bee Cave Rd, Austin, TX 78746",source:"import",createdDate:"2020-11-01"},{id:"diana-rothschild",firstName:"Diana",lastName:"Rothschild",photo:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",email:"diana.rothschild@yahoo.com",phone:"(512) 555-3007",tags:["donor","volunteer"],assignedToId:"al",engagement:{level:"warm",visits:15,lastVisit:"2026-01-28",activityHistory:[{month:"2025-02",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]}]},{month:"2025-03",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-04",weeks:[{activities:[]},{activities:[{type:"donation",count:1,value:2e3}]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2025-05",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-06",weeks:[{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2025-07",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-08",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]}]},{month:"2025-09",weeks:[{activities:[]},{activities:[]},{activities:[{type:"donation",count:1,value:3e3}]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-10",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-11",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]}]},{month:"2025-12",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2026-01",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]}]}]},giving:{lifetimeValue:9500,donations:8e3,revenue:1500,giftCount:4,averageGift:2e3,lastDonation:"2025-09-18"},address:"780 Red River St, Austin, TX 78701",source:"online",createdDate:"2024-02-10"},{id:"theodore-banks",firstName:"Theodore",lastName:"Banks",photo:"https://images.unsplash.com/photo-1548372290-8d01b6c8e78c?w=150&h=150&fit=crop&crop=face",email:"ted.banks@bankscapital.com",phone:"(512) 555-3008",tags:["major-donor","donor"],assignedToId:"rb",engagement:{level:"warm",visits:20,lastVisit:"2025-11-28",activityHistory:[{month:"2025-02",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2025-03",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-04",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"donation",count:1,value:2500}]},{activities:[]}]},{month:"2025-05",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-06",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-07",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]}]},{month:"2025-08",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2025-09",weeks:[{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[{type:"purchase",count:1,value:75}]}]},{month:"2025-10",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-11",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[{type:"donation",count:1,value:1e4}]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-12",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2026-01",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]}]},giving:{lifetimeValue:65e3,donations:6e4,revenue:5e3,giftCount:10,averageGift:6e3,lastDonation:"2025-11-15"},address:"1500 S Lamar Blvd, Austin, TX 78704",source:"import",createdDate:"2019-09-01"},{id:"victoria-sterling",firstName:"Victoria",lastName:"Sterling",photo:"https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?w=150&h=150&fit=crop&crop=face",email:"victoria@sterlingfamilyoffice.com",phone:"(512) 555-3009",tags:["major-donor","donor","prospect"],assignedToId:"jm",engagement:{level:"warm",visits:10,lastVisit:"2026-01-25",activityHistory:[{month:"2025-02",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-03",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-04",weeks:[{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2025-05",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-06",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-07",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"donation",count:1,value:25e3}]},{activities:[]}]},{month:"2025-08",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]}]},{month:"2025-09",weeks:[{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-10",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-11",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"donation",count:1,value:25e3}]},{activities:[]}]},{month:"2025-12",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]}]},{month:"2026-01",weeks:[{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]}]}]},giving:{lifetimeValue:78e3,donations:75e3,revenue:3e3,giftCount:5,averageGift:15e3,lastDonation:"2025-11-10"},address:"6000 Shepherd Mountain Cv, Austin, TX 78730",source:"manual",createdDate:"2023-01-20"},{id:"margaret-chen",firstName:"Margaret",lastName:"Chen",photo:"https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?w=150&h=150&fit=crop&crop=face",email:"margaret.chen@utexas.edu",phone:"(512) 555-3010",tags:["donor","prospect"],assignedToId:"lj",engagement:{level:"cool",visits:8,lastVisit:"2025-10-15",activityHistory:[{month:"2025-02",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-03",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-04",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-05",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]}]},{month:"2025-06",weeks:[{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2025-07",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-08",weeks:[{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2025-09",weeks:[{activities:[]},{activities:[{type:"donation",count:1,value:1e3}]},{activities:[]},{activities:[]}]},{month:"2025-10",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2025-11",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-12",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2026-01",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]}]},giving:{lifetimeValue:2800,donations:2e3,revenue:800,giftCount:2,averageGift:1e3,lastDonation:"2025-09-10"},address:"2200 Guadalupe St, Austin, TX 78705",source:"ticket",createdDate:"2024-06-01"},{id:"elizabeth-fairfax",firstName:"Elizabeth",lastName:"Fairfax",photo:"https://images.unsplash.com/photo-1524504388940-b1c1722653e1?w=150&h=150&fit=crop&crop=face",email:"elizabeth.fairfax@outlook.com",phone:"(555) 111-2223",tags:["donor"],assignedToId:"lj",engagement:{level:"warm",visits:14,lastVisit:"2025-12-10",activityHistory:[{month:"2025-02",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]}]},{month:"2025-03",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-04",weeks:[{activities:[]},{activities:[]},{activities:[{type:"donation",count:1,value:500}]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-05",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-06",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]}]},{month:"2025-07",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-08",weeks:[{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2025-09",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[]}]},{month:"2025-10",weeks:[{activities:[]},{activities:[{type:"purchase",count:1,value:45}]},{activities:[]},{activities:[]}]},{month:"2025-11",weeks:[{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2025-12",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"donation",count:1,value:200}]},{activities:[]}]},{month:"2026-01",weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]}]},giving:{lifetimeValue:3200,donations:2700,revenue:500,giftCount:3,averageGift:900,lastDonation:"2025-12-20"},address:"742 Maple Avenue, Boston, MA 02108",source:"ticket",createdDate:"2024-03-15"}],Wt=e=>de.find(t=>t.id===e),na=e=>!!(e!=null&&e.assignedToId),Ga=e=>`${e.firstName} ${e.lastName}`,oe=e=>{if(!e)return"-";const t=new Date(e);return isNaN(t.getTime())?"-":t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},xf=e=>{if(!e)return"-";const t=new Date(e);return isNaN(t.getTime())?"-":t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})+" - "+t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})},Nf=e=>{if(!e)return"-";const t=new Date(e),n=new Date-t,s=Math.floor(n/(1e3*60*60*24));if(s===0)return"Today";if(s===1)return"Yesterday";if(s<7)return`${s} days ago`;const l=Math.floor(s/7);if(s<30)return l===1?"1 week ago":`${l} weeks ago`;const r=Math.floor(s/30);if(s<365)return r===1?"1 month ago":`${r} months ago`;const c=Math.floor(s/365);return c===1?"1 year ago":`${c} years ago`},jf=(e,t)=>{const i=`${e.toLowerCase()}-${t.toLowerCase()}`.replace(/[^a-z-]/g,"");let n=i,s=1;for(;de.find(l=>l.id===n);)n=`${i}-${s}`,s++;return n},wf=()=>{const e=[],t=new Date;for(let i=11;i>=0;i--){const n=new Date(t.getFullYear(),t.getMonth()-i,1),s=`${n.getFullYear()}-${String(n.getMonth()+1).padStart(2,"0")}`;e.push({month:s,weeks:[{activities:[]},{activities:[]},{activities:[]},{activities:[]}]})}return e},Qu=e=>{const t={id:jf(e.firstName,e.lastName),firstName:e.firstName,lastName:e.lastName,photo:null,email:e.email||null,phone:e.phone||null,address:e.address||null,tags:e.tags||["prospect"],engagement:{level:"cold",visits:0,lastVisit:null,activityHistory:wf()},giving:{lifetimeValue:0,donations:0,revenue:0,lastDonation:null},notes:e.notes||null,assignedToId:e.assignedToId||null,createdDate:new Date().toISOString().split("T")[0],source:e.source||"manual"};return de.push(t),t},ps=(e,t)=>{const i=de.findIndex(n=>n.id===e);return i===-1?null:(de[i]={...de[i],...t},de[i])},bf=(e,t)=>ps(e,{assignedToId:t}),kf=(e,t="other")=>ps(e,{status:"archived",archivedDate:new Date().toISOString(),archivedReason:t}),Cf=e=>ps(e,{status:"active",archivedDate:null,archivedReason:null}),Zo=()=>de.filter(e=>e.status!=="archived"),Sf=(e,t)=>ps(e,{tags:t}),Yu=e=>{const t=e.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),i=Ee.find(s=>s.id===t);if(i)return i;const n={id:t,label:e,system:!1};return Ee.push(n),n},If=(e,t)=>{const i=Ee.find(n=>n.id===e);return i?(i.label=t,i):null},Ef=e=>{const t=Ee.findIndex(i=>i.id===e);return t===-1?!1:(Ee.splice(t,1),de.forEach(i=>{i.tags&&i.tags.includes(e)&&(i.tags=i.tags.filter(n=>n!==e))}),!0)},ec=e=>de.filter(t=>t.tags&&t.tags.includes(e)).length,Ku={Basic:{beneficiaryLimit:1,cardStyle:{backgroundColor:"#8B7355",textColor:"#ffffff",accentColor:"#A89070"}},Silver:{beneficiaryLimit:2,cardStyle:{backgroundColor:"#5C6B7A",textColor:"#ffffff",accentColor:"#B8C5D1"}},Gold:{beneficiaryLimit:4,cardStyle:{backgroundColor:"#B8860B",textColor:"#ffffff",accentColor:"#D4AF37"}},Platinum:{beneficiaryLimit:1/0,cardStyle:{backgroundColor:"#2C2C2C",textColor:"#ffffff",accentColor:"#E5E4E2"}}},qu=[{id:"mem-anderson-gold",programme:"General Membership",tier:"Gold",status:"active",startDate:"2023-12-02",renewalDate:"2026-12-02",expirationDate:"2026-12-02",membershipId:"MEM-2023-001",periodStart:"2025-12-02",validUntil:"2026-12-02",daysToRenewal:300,autoRenew:!0,autoRenewal:!0,paymentMethod:{type:"visa",last4:"4242"},memberYears:2,usageAnalytics:{overallPercentage:67,categories:[{name:"Admissions",used:47,available:"unlimited",percentage:100},{name:"Guest Passes",used:3,available:5,percentage:60},{name:"F&B Discounts",used:12,available:"unlimited",percentage:100},{name:"Event Discounts",used:2,available:"unlimited",percentage:100}],unusedBenefits:["Welcome pack","Priority entry"],mostUsed:"Admissions"},upgradeEligible:!0,upgradeTier:"Platinum",upgradeComparison:{currentTier:"Gold",upgradeTier:"Platinum",upgradePrice:249.99,priceDifference:104,improvements:[{feature:"Guest passes",current:"5/year",upgrade:"Unlimited"},{feature:"F&B Discount",current:"10%",upgrade:"25%"},{feature:"Parking",current:"Not included",upgrade:"Free valet"},{feature:"Event discounts",current:"20%",upgrade:"35%"}],newPerks:["Exclusive member lounge access","Complimentary coat check","Early access to all events","Personal concierge service"]},benefits:[{category:"access",title:"Unlimited visits",description:"to all exhibits",usage:{used:47,limit:null,resetDate:null},icon:"fa-ticket"},{category:"access",title:"Priority entry",description:"skip the line",usage:null,icon:"fa-forward"},{category:"discount",title:"Bring a friend for free",description:"every visit",usage:{used:3,limit:5,resetDate:"2026-02-12"},icon:"fa-user-plus"},{category:"discount",title:"20% off special events",description:"your ticket and friend's ticket",usage:null,icon:"fa-percent"},{category:"discount",title:"10% F&B discount",description:"at all venue restaurants",usage:{used:12,limit:null,resetDate:null},icon:"fa-utensils"},{category:"complimentary",title:"Welcome pack",description:"Paradox tote + exclusive goodies",usage:{used:1,limit:1,resetDate:null},icon:"fa-gift"}],memberEvents:{earlyAccess:[{id:1,name:"Halloween Night Special",date:"2026-10-31",memberAccess:"2026-10-15",publicAccess:"2026-10-22",status:"upcoming",image:"https://images.unsplash.com/photo-1509557965875-b88c97052f0e?w=100&h=60&fit=crop"},{id:3,name:"Spring Gala 2026",date:"2026-04-20",memberAccess:"2026-03-01",publicAccess:"2026-03-15",status:"unlocked",image:"https://images.unsplash.com/photo-1540575467063-178a50c2df87?w=100&h=60&fit=crop"},{id:4,name:"Summer Concert Series",date:"2026-07-04",memberAccess:"2026-06-01",publicAccess:"2026-06-15",status:"upcoming",image:"https://images.unsplash.com/photo-1459749411175-04bf5292ceea?w=100&h=60&fit=crop"}],memberOnly:[{id:2,name:"VIP Wine Tasting Evening",date:"2026-03-15",image:"https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=100&h=60&fit=crop",exclusive:!0},{id:5,name:"Members Evening: Behind the Scenes",date:"2026-02-28",image:"https://images.unsplash.com/photo-1518998053901-5348d3961a04?w=100&h=60&fit=crop",exclusive:!0},{id:6,name:"Curator Talk: Modern Art",date:"2026-03-22",image:"https://images.unsplash.com/photo-1577083288073-40892c0860a4?w=100&h=60&fit=crop",exclusive:!0}]},membershipHistory:[{date:"2023-12-02",event:"Joined",tier:"Silver",programme:"General Membership"},{date:"2024-06-15",event:"Upgraded",tier:"Gold",programme:"General Membership"},{date:"2024-12-02",event:"Renewed",tier:"Gold",programme:"General Membership"},{date:"2025-12-02",event:"Renewed",tier:"Gold",programme:"General Membership"}],history:[{date:"2023-12-02",event:"Joined",tier:"Silver",programme:"General Membership"},{date:"2024-06-15",event:"Upgraded",tier:"Gold",programme:"General Membership"},{date:"2024-12-02",event:"Renewed",tier:"Gold",programme:"General Membership"},{date:"2025-12-02",event:"Renewed",tier:"Gold",programme:"General Membership"}]},{id:"mem-fairfax-silver",programme:"General Membership",tier:"Silver",status:"active",startDate:"2024-02-27",renewalDate:"2026-02-27",expirationDate:"2026-02-27",membershipId:"MEM-2024-047",periodStart:"2025-02-27",validUntil:"2026-02-27",daysToRenewal:21,autoRenew:!1,autoRenewal:!1,paymentMethod:{type:"mastercard",last4:"8832"},memberYears:1,upgradeEligible:!0,upgradeTier:"Gold",upgradeComparison:{currentTier:"Silver",upgradeTier:"Gold",upgradePrice:145.99,priceDifference:56,improvements:[{feature:"Guest passes",current:"2/year",upgrade:"5/year"},{feature:"F&B Discount",current:"5%",upgrade:"10%"},{feature:"Event discounts",current:"10%",upgrade:"20%"}],newPerks:["Priority entry","Welcome pack with tote bag","Access to special exhibits"]},benefits:[{category:"access",title:"Unlimited visits",description:"to all standard exhibits",usage:{used:6,limit:null,resetDate:null},icon:"fa-ticket"},{category:"discount",title:"Bring a friend for free",description:"twice per year",usage:{used:0,limit:2,resetDate:"2026-02-27"},icon:"fa-user-plus"},{category:"discount",title:"10% off special events",description:"your ticket only",usage:null,icon:"fa-percent"},{category:"discount",title:"5% F&B discount",description:"at main caf",usage:{used:2,limit:null,resetDate:null},icon:"fa-utensils"}],memberEvents:{earlyAccess:[{id:1,name:"Spring Gala 2026",date:"2026-04-20",memberAccess:"2026-03-15",publicAccess:"2026-03-25",status:"upcoming",image:"https://images.unsplash.com/photo-1540575467063-178a50c2df87?w=100&h=60&fit=crop"}],memberOnly:[]},usageAnalytics:{overallPercentage:35,categories:[{name:"Admissions",used:6,available:"unlimited",percentage:40},{name:"Guest Passes",used:0,available:2,percentage:0},{name:"F&B Discounts",used:2,available:"unlimited",percentage:25}],unusedBenefits:["Event discounts","Guest passes"],mostUsed:"Admissions"},membershipHistory:[{date:"2024-02-27",event:"Joined",tier:"Silver",programme:"General Membership"},{date:"2025-02-27",event:"Renewed",tier:"Silver",programme:"General Membership"}],history:[{date:"2024-02-27",event:"Joined",tier:"Silver",programme:"General Membership"},{date:"2025-02-27",event:"Renewed",tier:"Silver",programme:"General Membership"}]},{id:"mem-taylor-silver",programme:"General Membership",tier:"Silver",status:"active",startDate:"2024-11-10",renewalDate:"2026-03-10",expirationDate:"2026-03-10",membershipId:"MEM-2024-312",periodStart:"2025-03-10",validUntil:"2026-03-10",daysToRenewal:45,autoRenew:!1,autoRenewal:!1,paymentMethod:{type:"visa",last4:"7721"},memberYears:1,upgradeEligible:!0,upgradeTier:"Gold",benefits:[{category:"access",title:"Unlimited visits",description:"to all standard exhibits",usage:{used:8,limit:null,resetDate:null},icon:"fa-ticket"},{category:"discount",title:"Bring a friend for free",description:"twice per year",usage:{used:1,limit:2,resetDate:"2026-03-10"},icon:"fa-user-plus"},{category:"discount",title:"10% off special events",description:"your ticket only",usage:null,icon:"fa-percent"},{category:"discount",title:"5% F&B discount",description:"at main caf",usage:{used:2,limit:null,resetDate:null},icon:"fa-utensils"}],usageAnalytics:{overallPercentage:25,categories:[{name:"Admissions",used:8,available:"unlimited",percentage:30},{name:"Guest Passes",used:1,available:2,percentage:50},{name:"F&B Discounts",used:2,available:"unlimited",percentage:15}],unusedBenefits:["Event discounts"],mostUsed:"Admissions"},membershipHistory:[{date:"2024-11-10",event:"Joined",tier:"Silver",programme:"General Membership"},{date:"2025-03-10",event:"Renewed",tier:"Silver",programme:"General Membership"}],history:[{date:"2024-11-10",event:"Joined",tier:"Silver",programme:"General Membership"},{date:"2025-03-10",event:"Renewed",tier:"Silver",programme:"General Membership"}]},{id:"mem-martinez-gold",programme:"General Membership",tier:"Gold",status:"active",startDate:"2023-03-15",renewalDate:"2026-06-15",expirationDate:"2026-06-15",membershipId:"MEM-2023-089",periodStart:"2025-06-15",validUntil:"2026-06-15",daysToRenewal:120,autoRenew:!0,autoRenewal:!0,paymentMethod:{type:"amex",last4:"1008"},memberYears:2,upgradeEligible:!0,upgradeTier:"Platinum",benefits:[{category:"access",title:"Unlimited visits",description:"to all exhibits",usage:{used:67,limit:null,resetDate:null},icon:"fa-ticket"},{category:"access",title:"Priority entry",description:"skip the line",usage:null,icon:"fa-forward"},{category:"discount",title:"Bring a friend for free",description:"every visit",usage:{used:4,limit:5,resetDate:"2026-06-15"},icon:"fa-user-plus"},{category:"discount",title:"20% off special events",description:"your ticket and friend's ticket",usage:null,icon:"fa-percent"},{category:"discount",title:"10% F&B discount",description:"at all venue restaurants",usage:{used:25,limit:null,resetDate:null},icon:"fa-utensils"},{category:"complimentary",title:"Welcome pack",description:"Paradox tote + exclusive goodies",usage:{used:1,limit:1,resetDate:null},icon:"fa-gift"}],usageAnalytics:{overallPercentage:85,categories:[{name:"Admissions",used:67,available:"unlimited",percentage:95},{name:"Guest Passes",used:4,available:5,percentage:80},{name:"F&B Discounts",used:25,available:"unlimited",percentage:85},{name:"Event Discounts",used:3,available:"unlimited",percentage:60}],unusedBenefits:["Priority entry"],mostUsed:"Admissions"},membershipHistory:[{date:"2023-03-15",event:"Joined",tier:"Silver",programme:"General Membership"},{date:"2023-09-01",event:"Upgraded",tier:"Gold",programme:"General Membership"},{date:"2024-06-15",event:"Renewed",tier:"Gold",programme:"General Membership"},{date:"2025-06-15",event:"Renewed",tier:"Gold",programme:"General Membership"}],history:[{date:"2023-03-15",event:"Joined",tier:"Silver",programme:"General Membership"},{date:"2023-09-01",event:"Upgraded",tier:"Gold",programme:"General Membership"},{date:"2024-06-15",event:"Renewed",tier:"Gold",programme:"General Membership"},{date:"2025-06-15",event:"Renewed",tier:"Gold",programme:"General Membership"}]},{id:"mem-davis-silver",programme:"General Membership",tier:"Silver",status:"active",startDate:"2024-05-01",renewalDate:"2026-05-01",expirationDate:"2026-05-01",membershipId:"MEM-2024-156",periodStart:"2025-05-01",validUntil:"2026-05-01",daysToRenewal:90,autoRenew:!0,autoRenewal:!0,paymentMethod:{type:"mastercard",last4:"3344"},memberYears:1,upgradeEligible:!0,upgradeTier:"Gold",benefits:[{category:"access",title:"Unlimited visits",description:"to all standard exhibits",usage:{used:12,limit:null,resetDate:null},icon:"fa-ticket"},{category:"discount",title:"Bring a friend for free",description:"twice per year",usage:{used:1,limit:2,resetDate:"2026-05-01"},icon:"fa-user-plus"},{category:"discount",title:"10% off special events",description:"your ticket only",usage:null,icon:"fa-percent"},{category:"discount",title:"5% F&B discount",description:"at main caf",usage:{used:4,limit:null,resetDate:null},icon:"fa-utensils"}],usageAnalytics:{overallPercentage:50,categories:[{name:"Admissions",used:12,available:"unlimited",percentage:45},{name:"Guest Passes",used:1,available:2,percentage:50},{name:"F&B Discounts",used:4,available:"unlimited",percentage:35},{name:"Event Discounts",used:1,available:"unlimited",percentage:25}],unusedBenefits:[],mostUsed:"Admissions"},membershipHistory:[{date:"2024-05-01",event:"Joined",tier:"Silver",programme:"General Membership"},{date:"2025-05-01",event:"Renewed",tier:"Silver",programme:"General Membership"}],history:[{date:"2024-05-01",event:"Joined",tier:"Silver",programme:"General Membership"},{date:"2025-05-01",event:"Renewed",tier:"Silver",programme:"General Membership"}]},{id:"mem-kim-basic",programme:"General Membership",tier:"Basic",status:"active",startDate:"2025-11-25",renewalDate:"2026-11-25",expirationDate:"2026-11-25",membershipId:"MEM-2025-589",periodStart:"2025-11-25",validUntil:"2026-11-25",daysToRenewal:250,autoRenew:!1,autoRenewal:!1,paymentMethod:{type:"mastercard",last4:"6622"},memberYears:0,upgradeEligible:!0,upgradeTier:"Silver",benefits:[{category:"access",title:"Unlimited visits",description:"to all standard exhibits",usage:{used:6,limit:null,resetDate:null},icon:"fa-ticket"}],usageAnalytics:{overallPercentage:40,categories:[{name:"Admissions",used:6,available:"unlimited",percentage:40}],unusedBenefits:[],mostUsed:"Admissions"},membershipHistory:[{date:"2025-11-25",event:"Joined",tier:"Basic",programme:"General Membership"}],history:[{date:"2025-11-25",event:"Joined",tier:"Basic",programme:"General Membership"}]},{id:"mem-santos-silver",programme:"General Membership",tier:"Silver",status:"active",startDate:"2025-10-15",renewalDate:"2026-10-15",expirationDate:"2026-10-15",membershipId:"MEM-2025-421",periodStart:"2025-10-15",validUntil:"2026-10-15",daysToRenewal:60,autoRenew:!0,autoRenewal:!0,paymentMethod:{type:"visa",last4:"9156"},memberYears:1,usageAnalytics:{overallPercentage:70,categories:[{name:"Admissions",used:18,available:"unlimited",percentage:70},{name:"Guest Passes",used:2,available:2,percentage:100},{name:"F&B Discounts",used:6,available:"unlimited",percentage:50},{name:"Event Discounts",used:2,available:"unlimited",percentage:40}],unusedBenefits:[],mostUsed:"Guest Passes"},upgradeEligible:!0,upgradeTier:"Gold",benefits:[{category:"access",title:"Unlimited visits",description:"to all standard exhibits",usage:{used:18,limit:null,resetDate:null},icon:"fa-ticket"},{category:"discount",title:"Bring a friend for free",description:"twice per year",usage:{used:2,limit:2,resetDate:"2026-10-15"},icon:"fa-user-plus"},{category:"discount",title:"10% off special events",description:"your ticket only",usage:null,icon:"fa-percent"},{category:"discount",title:"5% F&B discount",description:"at main caf",usage:{used:6,limit:null,resetDate:null},icon:"fa-utensils"}],membershipHistory:[{date:"2025-10-15",event:"Joined",tier:"Silver",programme:"General Membership"}],history:[{date:"2025-10-15",event:"Joined",tier:"Silver",programme:"General Membership"}]}],da=[{id:"mb-1",membershipId:"mem-anderson-gold",patronId:"anderson-collingwood",role:"primary",roleLabel:"Primary",canManage:!0,addedDate:"2023-12-02",removedDate:null,status:"active"},{id:"mb-2",membershipId:"mem-anderson-gold",patronId:"sarah-collingwood",role:"beneficiary",roleLabel:"Spouse",canManage:!1,addedDate:"2023-12-02",removedDate:null,status:"active"},{id:"mb-3",membershipId:"mem-anderson-gold",patronId:"emma-collingwood",role:"dependent",roleLabel:"Child",canManage:!1,addedDate:"2024-01-15",removedDate:null,status:"active"},{id:"mb-4",membershipId:"mem-fairfax-silver",patronId:"paul-fairfax",role:"primary",roleLabel:"Primary Member",canManage:!0,addedDate:"2024-02-27",status:"active"},{id:"mb-5",membershipId:"mem-taylor-silver",patronId:"lucas-taylor",role:"primary",roleLabel:"Primary Member",canManage:!0,addedDate:"2024-11-10",status:"active"},{id:"mb-6",membershipId:"mem-taylor-silver",patronId:"sophia-thomas",role:"additional_adult",roleLabel:"Additional Adult",canManage:!1,addedDate:"2024-11-10",status:"active"},{id:"mb-7",membershipId:"mem-martinez-gold",patronId:"john-martinez",role:"primary",roleLabel:"Primary Member",canManage:!0,addedDate:"2023-03-15",status:"active"},{id:"mb-8",membershipId:"mem-martinez-gold",patronId:"samantha-carter",role:"additional_adult",roleLabel:"Additional Adult",canManage:!1,addedDate:"2023-06-01",status:"active"},{id:"mb-9",membershipId:"mem-davis-silver",patronId:"ethan-davis",role:"primary",roleLabel:"Primary Member",canManage:!0,addedDate:"2024-05-01",status:"active"},{id:"mb-10",membershipId:"mem-davis-silver",patronId:"olivia-brown",role:"additional_adult",roleLabel:"Additional Adult",canManage:!1,addedDate:"2024-05-15",status:"active"},{id:"mb-11",membershipId:"mem-kim-basic",patronId:"rachel-kim",role:"primary",roleLabel:"Primary Member",canManage:!0,addedDate:"2025-11-25",status:"active"},{id:"mb-12",membershipId:"mem-santos-silver",patronId:"maria-santos",role:"primary",roleLabel:"Primary Member",canManage:!0,addedDate:"2025-10-15",status:"active"}],zr=[{id:"gift-001",patronId:"anderson-collingwood",date:"2025-12-15",amount:1e3,type:"donation",description:"Year-End Major Gift",fundId:"annual-operating",campaignId:"annual-2026",appealId:"year-end-mailer",deductible:1e3,benefitsValue:0,softCredits:[{patronId:"999",name:"Margaret Williams",type:"solicitor"}],pledgeId:null,recurringProfileId:null},{id:"gift-002",patronId:"anderson-collingwood",date:"2025-06-15",amount:500,type:"donation",description:"Spring Gala Donation",fundId:"education",campaignId:"annual-2026",appealId:"spring-gala-2025",deductible:400,benefitsValue:100,softCredits:[],pledgeId:null,recurringProfileId:null},{id:"gift-003",patronId:"anderson-collingwood",date:"2025-12-02",amount:145.99,type:"membership",description:"Gold Membership Renewal",fundId:"annual-operating",campaignId:"annual-2026",appealId:"membership-renewal",deductible:95.99,benefitsValue:50,softCredits:[],pledgeId:null,recurringProfileId:null},{id:"gift-005",patronId:"anderson-collingwood",date:"2024-11-18",amount:250,type:"donation",description:"Online Donation",fundId:"annual-operating",campaignId:"annual-2025",appealId:"website-donate",deductible:250,benefitsValue:0,softCredits:[],pledgeId:null,recurringProfileId:null},{id:"gift-004",patronId:"anderson-collingwood",date:"2025-06-15",amount:750,type:"pledge-payment",description:"Building Campaign - Q1 Payment",fundId:"capital-building",campaignId:"building-future",appealId:"leadership-gifts",deductible:750,benefitsValue:0,softCredits:[{patronId:"888",name:"Robert Chen",type:"influencer"}],pledgeId:"pledge-001",recurringProfileId:null},{id:"gift-006",patronId:"anderson-collingwood",date:"2025-09-15",amount:1250,type:"pledge-payment",description:"Building Campaign - Q2 Payment",fundId:"capital-building",campaignId:"building-future",appealId:"leadership-gifts",deductible:1250,benefitsValue:0,softCredits:[],pledgeId:"pledge-001",recurringProfileId:null},{id:"gift-007",patronId:"anderson-collingwood",date:"2025-11-15",amount:100,type:"recurring",description:"Monthly Sustainer - Nov 2025",fundId:"annual-operating",campaignId:"annual-2026",appealId:null,deductible:100,benefitsValue:0,softCredits:[],pledgeId:null,recurringProfileId:"rec-001"},{id:"gift-008",patronId:"anderson-collingwood",date:"2025-12-15",amount:100,type:"recurring",description:"Monthly Sustainer - Dec 2025",fundId:"annual-operating",campaignId:"annual-2026",appealId:null,deductible:100,benefitsValue:0,softCredits:[],pledgeId:null,recurringProfileId:"rec-001"},{id:"gift-009",patronId:"anderson-collingwood",date:"2026-01-15",amount:100,type:"recurring",description:"Monthly Sustainer - Jan 2026",fundId:"annual-operating",campaignId:"annual-2026",appealId:null,deductible:100,benefitsValue:0,softCredits:[],pledgeId:null,recurringProfileId:"rec-001"},{id:"gift-010",patronId:"elizabeth-fairfax",date:"2025-04-15",amount:500,type:"pledge-payment",description:"Annual Fund Pledge - Q1 Payment",fundId:"annual-operating",campaignId:"annual-2026",appealId:"spring-gala-2025",deductible:500,benefitsValue:0,softCredits:[],pledgeId:"pledge-002",recurringProfileId:null},{id:"gift-011",patronId:"elizabeth-fairfax",date:"2025-12-20",amount:200,type:"donation",description:"Year-End Online Donation",fundId:"annual-operating",campaignId:"annual-2026",appealId:"year-end-mailer",deductible:200,benefitsValue:0,softCredits:[],pledgeId:null,recurringProfileId:null}],hs=e=>zr.filter(t=>t.patronId===e),Xu=e=>{const t={id:e.id||`gift-${Date.now()}`,patronId:e.patronId,date:e.date||new Date().toISOString().split("T")[0],amount:e.amount,type:e.type||"donation",description:e.description||"",fundId:e.fundId||null,campaignId:e.campaignId||null,appealId:e.appealId||null,deductible:e.deductible??e.amount,benefitsValue:e.benefitsValue??0,softCredits:e.softCredits||[],pledgeId:e.pledgeId||null,recurringProfileId:e.recurringProfileId||null};return zr.push(t),t},Ju=[{id:"pledge-001",patronId:"anderson-collingwood",amount:5e3,balance:3e3,totalPaid:2e3,startDate:"2025-06-01",endDate:"2026-06-01",frequency:"quarterly",nextPaymentDate:"2026-03-01",status:"active",fundId:"capital-building",campaignId:"building-future",appealId:"leadership-gifts",assignedToId:"lj",notes:"Committed at leadership dinner. Quarterly installments.",createdDate:"2025-06-01"},{id:"pledge-002",patronId:"elizabeth-fairfax",amount:2500,balance:2e3,totalPaid:500,startDate:"2025-04-01",endDate:"2026-04-01",frequency:"quarterly",nextPaymentDate:"2025-10-01",status:"active",fundId:"annual-operating",campaignId:"annual-2026",appealId:"spring-gala-2025",assignedToId:"lj",notes:"Pledged at Spring Gala. Quarterly installments.",createdDate:"2025-04-01"}],Df=e=>Ju.filter(t=>t.patronId===e),Zu=e=>zr.filter(t=>t.pledgeId===e),tc=e=>{const t=Ju.find(n=>n.id===e);if(!t)return 0;const i=Zu(e).reduce((n,s)=>n+s.amount,0);return t.amount-i},Pf=[{id:"rec-001",patronId:"anderson-collingwood",amount:100,frequency:"monthly",startDate:"2025-01-15",nextDate:"2026-02-15",endDate:null,status:"active",fundId:"annual-operating",campaignId:"annual-2026",paymentMethod:{type:"visa",last4:"4242"},totalGiven:1300,giftCount:13,createdDate:"2025-01-15"}],Af=e=>Pf.filter(t=>t.patronId===e),Tf=[{id:"int-001",patronId:"anderson-collingwood",opportunityId:null,type:"phone",direction:"outbound",date:"2025-10-19T11:20:00",description:"Follow-up after recent donation",details:{notes:"Discussed upcoming gala. Very enthusiastic about building campaign. Mentioned interest in naming opportunity.",duration:"15 min",outcome:"Positive - will attend gala"},staffId:"lj",createdDate:"2025-10-19"},{id:"int-002",patronId:"anderson-collingwood",opportunityId:null,type:"email",direction:"outbound",date:"2025-08-26T10:00:00",description:"Thank-you message after Summer Concert",details:{to:"anderson.collingwood@email.com",subject:"Thank you for joining us at the Summer Concert!",content:"Personal thank-you with photos from the event."},staffId:"lj",createdDate:"2025-08-26"},{id:"int-003",patronId:"anderson-collingwood",opportunityId:null,type:"event",direction:null,date:"2025-08-24T18:30:00",description:"Attended Summer Concert Series VIP Reception",details:{venue:"Paradox Museum - Rooftop Terrace",guests:2,table:"VIP Table 3"},staffId:null,createdDate:"2025-08-24"},{id:"int-004",patronId:"anderson-collingwood",opportunityId:null,type:"meeting",direction:null,date:"2025-07-10T14:00:00",description:"Portfolio review lunch meeting",details:{notes:"Reviewed giving history and discussed building campaign pledge structure. Anderson prefers quarterly payments.",duration:"1 hr 15 min",outcome:"Agreed to $5,000 pledge over 4 quarters",location:"The Capital Grille, Austin"},staffId:"lj",createdDate:"2025-07-10"},{id:"int-005",patronId:"anderson-collingwood",opportunityId:null,type:"note",direction:null,date:"2025-06-02T09:00:00",description:"Building campaign pledge confirmed",details:{notes:"Pledge form received. $5,000 over 4 quarters starting Q2 2025. First payment processed."},staffId:"lj",createdDate:"2025-06-02"},{id:"int-006",patronId:"anderson-collingwood",opportunityId:null,type:"email",direction:"inbound",date:"2025-04-15T08:30:00",description:"Inquiry about building campaign naming opportunities",details:{to:"development@paradoxmuseum.org",subject:"Re: Building the Future Campaign",content:"Anderson replied to campaign brochure asking about gallery naming levels."},staffId:null,createdDate:"2025-04-15"},{id:"int-007",patronId:"anderson-collingwood",opportunityId:null,type:"ticket",direction:null,date:"2025-03-08T19:00:00",description:"Purchased Spring Gala tickets",details:{event:"Spring Gala 2025",quantity:4,ticketType:"VIP Table"},amount:800,staffId:null,createdDate:"2025-03-08"},{id:"int-008",patronId:"anderson-collingwood",opportunityId:null,type:"phone",direction:"outbound",date:"2025-01-20T10:00:00",description:"New year check-in call",details:{notes:"Wished happy new year. Confirmed recurring monthly gift is processing correctly. Mentioned upcoming Spring Gala.",duration:"10 min",outcome:"Positive - interested in Spring Gala"},staffId:"lj",createdDate:"2025-01-20"}],em=e=>Tf.filter(t=>t.patronId===e),fs=[{id:"ack-001",giftId:"gift-001",patronId:"anderson-collingwood",type:"thank-you-letter",method:"email",status:"sent",date:"2025-12-16",staffId:"lj",templateUsed:"major-gift-thanks",notes:null},{id:"ack-002",giftId:"gift-001",patronId:"anderson-collingwood",type:"tax-receipt",method:"email",status:"sent",date:"2025-12-16",staffId:null,templateUsed:"standard-receipt",notes:null},{id:"ack-003",giftId:"gift-002",patronId:"anderson-collingwood",type:"thank-you-email",method:"email",status:"sent",date:"2025-06-16",staffId:"lj",templateUsed:"event-gift-thanks",notes:null},{id:"ack-004",giftId:"gift-002",patronId:"anderson-collingwood",type:"tax-receipt",method:"email",status:"sent",date:"2025-06-16",staffId:null,templateUsed:"standard-receipt",notes:null},{id:"ack-005",giftId:"gift-004",patronId:"anderson-collingwood",type:"thank-you-letter",method:"email",status:"sent",date:"2025-06-16",staffId:"lj",templateUsed:"pledge-payment-thanks",notes:null},{id:"ack-006",giftId:"gift-006",patronId:"anderson-collingwood",type:"thank-you-letter",method:"email",status:"pending",date:null,staffId:"lj",templateUsed:"pledge-payment-thanks",notes:"Queued for next batch"},{id:"ack-007",giftId:"gift-005",patronId:"anderson-collingwood",type:"thank-you-email",method:"email",status:"sent",date:"2024-11-19",staffId:null,templateUsed:"online-auto-thanks",notes:"Auto-generated"},{id:"ack-008",giftId:"gift-010",patronId:"elizabeth-fairfax",type:"thank-you-letter",method:"email",status:"sent",date:"2025-04-16",staffId:"lj",templateUsed:"pledge-payment-thanks",notes:null},{id:"ack-009",giftId:"gift-011",patronId:"elizabeth-fairfax",type:"thank-you-email",method:"email",status:"pending",date:null,staffId:"lj",templateUsed:"online-auto-thanks",notes:"Queued for batch processing"}],Mf=e=>fs.filter(t=>t.giftId===e),Ff=e=>fs.filter(t=>t.patronId===e),ac=e=>fs.some(t=>t.giftId===e&&t.status==="sent"),Rf=e=>fs.filter(t=>t.patronId===e&&t.status==="pending"),Hn=[{id:"rel-1",fromPatronId:"anderson-collingwood",toPatronId:"sarah-collingwood",type:"household",role:"Spouse",reciprocalRole:"Spouse",isPrimary:!0,startDate:null,endDate:null,notes:null},{id:"rel-2",fromPatronId:"anderson-collingwood",toPatronId:"emma-collingwood",type:"household",role:"Daughter",reciprocalRole:"Father",isPrimary:!1,startDate:null,endDate:null,notes:null},{id:"rel-3",fromPatronId:"sarah-collingwood",toPatronId:"anderson-collingwood",type:"household",role:"Spouse",reciprocalRole:"Spouse",isPrimary:!0,startDate:null,endDate:null,notes:null},{id:"rel-4",fromPatronId:"sarah-collingwood",toPatronId:"emma-collingwood",type:"household",role:"Daughter",reciprocalRole:"Mother",isPrimary:!1,startDate:null,endDate:null,notes:null},{id:"rel-5",fromPatronId:"emma-collingwood",toPatronId:"anderson-collingwood",type:"household",role:"Father",reciprocalRole:"Daughter",isPrimary:!0,startDate:null,endDate:null,notes:null},{id:"rel-6",fromPatronId:"emma-collingwood",toPatronId:"sarah-collingwood",type:"household",role:"Mother",reciprocalRole:"Daughter",isPrimary:!1,startDate:null,endDate:null,notes:null},{id:"rel-7",fromPatronId:"anderson-collingwood",toPatronId:null,type:"professional",role:"Financial Advisor",reciprocalRole:"Client",isPrimary:!1,startDate:null,endDate:null,notes:"Robert Chen - handles estate planning",externalContact:{name:"Robert Chen",company:"Collingwood Wealth Management",initials:"RC"}}],vs=e=>e?da.filter(i=>i.patronId===e&&i.status==="active").map(i=>{const n=qu.find(l=>l.id===i.membershipId);if(!n)return null;const s=Ku[n.tier]||{};return{...n,cardStyle:s.cardStyle||n.cardStyle,patronId:e,patronRole:i.role,patronRoleLabel:i.roleLabel,canManage:i.canManage,addedDate:i.addedDate}}).filter(Boolean):[],tm=e=>{const t=vs(e);return t.length>0?t[0]:null},Lf=e=>da.filter(i=>i.membershipId===e&&i.status==="active").map(i=>{const n=de.find(s=>s.id===i.patronId);return{...i,patron:n?{id:n.id,firstName:n.firstName,lastName:n.lastName,name:`${n.firstName} ${n.lastName}`,email:n.email,photo:n.photo,dateOfBirth:n.dateOfBirth}:null}}),gs=e=>{const t=da.find(n=>n.membershipId===e&&n.role==="primary"&&n.status==="active");if(!t)return null;const i=de.find(n=>n.id===t.patronId);return i?{id:i.id,firstName:i.firstName,lastName:i.lastName,name:`${i.firstName} ${i.lastName}`,email:i.email,photo:i.photo}:null},am=e=>{var s;const t=qu.find(l=>l.id===e);if(!t)return null;const i=da.filter(l=>l.membershipId===e&&l.status==="active"),n=((s=Ku[t.tier])==null?void 0:s.beneficiaryLimit)||1;return{used:i.length,limit:n===1/0?"unlimited":n,available:n===1/0?1/0:n-i.length,canAdd:n===1/0||i.length<n}},$f=(e,t,i,n=!1)=>{if(!am(e).canAdd)return{success:!1,error:"Membership has reached beneficiary limit"};if(da.find(c=>c.membershipId===e&&c.patronId===t&&c.status==="active"))return{success:!1,error:"Patron is already a beneficiary on this membership"};const r={id:`mb-${Date.now()}`,membershipId:e,patronId:t,role:"beneficiary",roleLabel:i,canManage:!1,addedDate:new Date().toISOString().split("T")[0],removedDate:null,status:"active"};if(da.push(r),n){const c=gs(e);c&&c.id!==t&&Uf(c.id,t,"household",i)}return{success:!0,beneficiary:r}},Of=(e,t,i=!1)=>{const n=da.find(s=>s.membershipId===e&&s.patronId===t&&s.status==="active");if(!n)return{success:!1,error:"Beneficiary not found on this membership"};if(n.role==="primary")return{success:!1,error:"Cannot remove primary account holder"};if(n.status="removed",n.removedDate=new Date().toISOString().split("T")[0],i){const s=gs(e);s&&Bf(s.id,t)}return{success:!0}},zf=e=>e?Hn.filter(t=>t.fromPatronId===e&&!t.endDate).map(t=>{var n,s;let i=null;if(t.toPatronId){const l=de.find(r=>r.id===t.toPatronId);l&&(i={id:l.id,firstName:l.firstName,lastName:l.lastName,name:`${l.firstName} ${l.lastName}`,email:l.email,photo:l.photo})}return{...t,linkedPatron:i,displayName:i?i.name:((n=t.externalContact)==null?void 0:n.name)||"Unknown",initials:i?`${i.firstName[0]}${i.lastName[0]}`:((s=t.externalContact)==null?void 0:s.initials)||"??"}}):[],Uf=(e,t,i,n,s=null)=>{const l=s||Vf(n),r={id:`rel-${Date.now()}-1`,fromPatronId:e,toPatronId:t,type:i,role:n,reciprocalRole:l,isPrimary:!1,startDate:new Date().toISOString().split("T")[0],endDate:null,notes:null};Hn.push(r);const c={id:`rel-${Date.now()}-2`,fromPatronId:t,toPatronId:e,type:i,role:l,reciprocalRole:n,isPrimary:!1,startDate:new Date().toISOString().split("T")[0],endDate:null,notes:null};return Hn.push(c),{rel1:r,rel2:c}},Bf=(e,t)=>{const i=new Date().toISOString().split("T")[0];Hn.forEach(n=>{(n.fromPatronId===e&&n.toPatronId===t||n.fromPatronId===t&&n.toPatronId===e)&&(n.endDate=i)})},Vf=e=>({Spouse:"Spouse",Partner:"Partner",Child:"Parent",Parent:"Child",Daughter:"Parent",Son:"Parent",Father:"Child",Mother:"Child",Sibling:"Sibling",Friend:"Friend",Colleague:"Colleague","Financial Advisor":"Client",Client:"Financial Advisor"})[e]||e,im=(e,t=[])=>{if(!e||e.length<2)return[];const i=e.toLowerCase();return de.filter(n=>{if(t.includes(n.id)||n.status==="archived")return!1;const s=`${n.firstName} ${n.lastName}`.toLowerCase(),l=(n.email||"").toLowerCase();return s.includes(i)||l.includes(i)}).slice(0,10).map(n=>({id:n.id,firstName:n.firstName,lastName:n.lastName,name:`${n.firstName} ${n.lastName}`,email:n.email,photo:n.photo,hasMembership:vs(n.id).length>0}))},ln=(e,t=!1)=>e?t&&e>=1e6?`$${(e/1e6).toFixed(1)}M`:t&&e>=1e3?`$${(e/1e3).toFixed(0)}K`:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e):"$0",Gf=e=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"",Hf=e=>{if(!e)return null;const t=new Date(e);return Math.floor((new Date-t)/(1e3*60*60*24))};function ic({onNavigateToPatron:e,onNavigateToOpportunity:t,onNavigateToPage:i}){const[n,s]=j.useState(null),l=j.useMemo(()=>ms(),[]),r=j.useMemo(()=>{const m=Bu();return n?m.filter(f=>f.assignedToId===n):m},[n]),c=j.useMemo(()=>{const m=r.length,f=r.reduce((y,N)=>y+N.askAmount,0),g=r.reduce((y,N)=>y+N.askAmount*(N.probability/100),0);return{count:m,totalValue:f,weightedValue:g}},[r]),o=j.useMemo(()=>Ye.map(m=>({...m,opportunities:r.filter(f=>f.stage===m.id),total:r.filter(f=>f.stage===m.id).reduce((f,g)=>f+g.askAmount,0)})),[r]),d=j.useMemo(()=>r.map(m=>({...m,daysSinceContact:Hf(m.lastContact)})).filter(m=>m.daysSinceContact>14).sort((m,f)=>f.daysSinceContact-m.daysSinceContact).slice(0,5),[r]),u=j.useMemo(()=>{const m=new Date,f=new Date(m.getTime()+30*24*60*60*1e3);return r.filter(g=>{const y=new Date(g.expectedClose);return y>=m&&y<=f}).sort((g,y)=>new Date(g.expectedClose)-new Date(y.expectedClose)).slice(0,5)},[r]),v=j.useMemo(()=>{const m=n?de.filter(p=>p.assignedToId===n):de,f=n?m.length:de.filter(p=>na(p)).length,g=n?m.length:de.length,N=(n?ke.filter(p=>p.status==="won"&&p.assignedToId===n):ke.filter(p=>p.status==="won")).reduce((p,h)=>p+h.askAmount,0),_=n?0:de.filter(p=>!na(p)).length;return{totalPatrons:g,managedProspects:f,generalConstituents:_,ytdGiving:N}},[n]);return a.jsxs("div",{className:"dashboard",children:[a.jsxs("div",{className:"dashboard__header",children:[a.jsxs("div",{className:"dashboard__breadcrumb",children:[a.jsx("span",{className:"dashboard__breadcrumb-section",children:"Fundraising"}),a.jsx("i",{className:"fa-solid fa-chevron-right dashboard__breadcrumb-separator"})]}),a.jsx("h1",{className:"dashboard__title",children:"Dashboard"})]}),a.jsxs("div",{className:"dashboard__container",children:[a.jsxs("div",{className:"dashboard__toolbar",children:[a.jsx("p",{className:"dashboard__subtitle",children:"Welcome back. Here's what needs your attention today."}),a.jsxs("select",{className:"dashboard__filter",value:n||"",onChange:m=>s(m.target.value||null),children:[a.jsx("option",{value:"",children:"All Gift Officers"}),l.map(m=>a.jsx("option",{value:m.id,children:m.name},m.id))]})]}),a.jsxs("div",{className:"dashboard__stats-row",children:[a.jsxs("div",{className:"dashboard__stat-card",children:[a.jsx("div",{className:"dashboard__stat-icon dashboard__stat-icon--primary",children:a.jsx("i",{className:"fa-solid fa-bullseye"})}),a.jsxs("div",{className:"dashboard__stat-content",children:[a.jsx("span",{className:"dashboard__stat-value",children:c.count}),a.jsx("span",{className:"dashboard__stat-label",children:"Open Opportunities"})]})]}),a.jsxs("div",{className:"dashboard__stat-card",children:[a.jsx("div",{className:"dashboard__stat-icon dashboard__stat-icon--success",children:a.jsx("i",{className:"fa-solid fa-dollar-sign"})}),a.jsxs("div",{className:"dashboard__stat-content",children:[a.jsx("span",{className:"dashboard__stat-value",children:ln(c.totalValue,!0)}),a.jsx("span",{className:"dashboard__stat-label",children:"Pipeline Value"})]})]}),a.jsxs("div",{className:"dashboard__stat-card",children:[a.jsx("div",{className:"dashboard__stat-icon dashboard__stat-icon--warning",children:a.jsx("i",{className:"fa-solid fa-scale-balanced"})}),a.jsxs("div",{className:"dashboard__stat-content",children:[a.jsx("span",{className:"dashboard__stat-value",children:ln(c.weightedValue,!0)}),a.jsx("span",{className:"dashboard__stat-label",children:"Weighted Pipeline"})]})]}),a.jsxs("div",{className:"dashboard__stat-card",children:[a.jsx("div",{className:"dashboard__stat-icon dashboard__stat-icon--info",children:a.jsx("i",{className:"fa-solid fa-users"})}),a.jsxs("div",{className:"dashboard__stat-content",children:[a.jsx("span",{className:"dashboard__stat-value",children:v.managedProspects}),a.jsx("span",{className:"dashboard__stat-label",children:"Managed Prospects"})]})]})]}),a.jsxs("div",{className:"dashboard__content",children:[a.jsxs("div",{className:"dashboard__column dashboard__column--main",children:[a.jsxs("div",{className:"dashboard__card",children:[a.jsxs("div",{className:"dashboard__card-header",children:[a.jsxs("h2",{className:"dashboard__card-title",children:[a.jsx("i",{className:"fa-solid fa-chart-simple"}),"Pipeline Overview"]}),a.jsxs("button",{className:"dashboard__card-action",onClick:()=>i&&i("pipeline"),children:["View Pipeline",a.jsx("i",{className:"fa-solid fa-arrow-right"})]})]}),a.jsx("div",{className:"dashboard__pipeline",children:o.map(m=>a.jsxs("div",{className:"dashboard__pipeline-stage",children:[a.jsxs("div",{className:"dashboard__pipeline-stage-header",children:[a.jsx("span",{className:"dashboard__pipeline-stage-name",children:m.label}),a.jsx("span",{className:"dashboard__pipeline-stage-count",children:m.opportunities.length})]}),a.jsx("div",{className:"dashboard__pipeline-stage-bar",children:a.jsx("div",{className:"dashboard__pipeline-stage-fill",style:{width:`${c.totalValue>0?m.total/c.totalValue*100:0}%`}})}),a.jsx("span",{className:"dashboard__pipeline-stage-value",children:ln(m.total,!0)})]},m.id))})]}),a.jsxs("div",{className:"dashboard__card",children:[a.jsxs("div",{className:"dashboard__card-header",children:[a.jsxs("h2",{className:"dashboard__card-title",children:[a.jsx("i",{className:"fa-solid fa-calendar-check"}),"Closing Soon"]}),a.jsxs("button",{className:"dashboard__card-action",onClick:()=>i&&i("opportunities"),children:["View All",a.jsx("i",{className:"fa-solid fa-arrow-right"})]})]}),u.length===0?a.jsxs("div",{className:"dashboard__empty",children:[a.jsx("i",{className:"fa-solid fa-calendar"}),a.jsx("p",{children:"No opportunities closing in the next 30 days"})]}):a.jsx("div",{className:"dashboard__list",children:u.map(m=>a.jsxs("div",{className:"dashboard__list-item",onClick:()=>t&&t(m.id),children:[a.jsxs("div",{className:"dashboard__list-item-main",children:[a.jsx("span",{className:"dashboard__list-item-title",children:m.name}),a.jsx("span",{className:"dashboard__list-item-subtitle",children:(()=>{const f=Wt(m.patronId);return f?Ga(f):"Unknown"})()})]}),a.jsxs("div",{className:"dashboard__list-item-meta",children:[a.jsx("span",{className:"dashboard__list-item-amount",children:ln(m.askAmount)}),a.jsxs("span",{className:"dashboard__list-item-date",children:[a.jsx("i",{className:"fa-solid fa-calendar"}),Gf(m.expectedClose)]})]})]},m.id))})]})]}),a.jsxs("div",{className:"dashboard__column dashboard__column--sidebar",children:[a.jsxs("div",{className:"dashboard__card dashboard__card--alert",children:[a.jsx("div",{className:"dashboard__card-header",children:a.jsxs("h2",{className:"dashboard__card-title",children:[a.jsx("i",{className:"fa-solid fa-bell"}),"Follow-ups Needed"]})}),d.length===0?a.jsxs("div",{className:"dashboard__empty",children:[a.jsx("i",{className:"fa-solid fa-check-circle"}),a.jsx("p",{children:"All caught up!"})]}):a.jsx("div",{className:"dashboard__tasks",children:d.map(m=>a.jsxs("div",{className:"dashboard__task",onClick:()=>t&&t(m.id),children:[a.jsxs("div",{className:"dashboard__task-header",children:[a.jsx("span",{className:"dashboard__task-patron",children:(()=>{const f=Wt(m.patronId);return f?Ga(f):"Unknown"})()}),a.jsxs("span",{className:`dashboard__task-days ${m.daysSinceContact>30?"dashboard__task-days--overdue":""}`,children:[m.daysSinceContact,"d ago"]})]}),a.jsx("span",{className:"dashboard__task-opp",children:m.name}),m.nextAction&&a.jsxs("span",{className:"dashboard__task-action",children:[a.jsx("i",{className:"fa-solid fa-arrow-right"}),m.nextAction]})]},m.id))})]}),a.jsxs("div",{className:"dashboard__card",children:[a.jsx("div",{className:"dashboard__card-header",children:a.jsxs("h2",{className:"dashboard__card-title",children:[a.jsx("i",{className:"fa-solid fa-bolt"}),"Quick Actions"]})}),a.jsxs("div",{className:"dashboard__quick-actions",children:[a.jsxs("button",{className:"dashboard__quick-action",onClick:()=>i&&i("patrons"),children:[a.jsx("i",{className:"fa-solid fa-user-plus"}),"Add Patron"]}),a.jsxs("button",{className:"dashboard__quick-action",onClick:()=>i&&i("opportunities"),children:[a.jsx("i",{className:"fa-solid fa-bullseye"}),"New Opportunity"]}),a.jsxs("button",{className:"dashboard__quick-action",onClick:()=>i&&i("campaigns"),children:[a.jsx("i",{className:"fa-solid fa-bullhorn"}),"View Campaigns"]}),a.jsxs("button",{className:"dashboard__quick-action",onClick:()=>i&&i("pipeline"),children:[a.jsx("i",{className:"fa-solid fa-chart-simple"}),"Pipeline Board"]})]})]}),a.jsxs("div",{className:"dashboard__card",children:[a.jsx("div",{className:"dashboard__card-header",children:a.jsxs("h2",{className:"dashboard__card-title",children:[a.jsx("i",{className:"fa-solid fa-users"}),"Patron Summary"]})}),a.jsxs("div",{className:"dashboard__summary-stats",children:[a.jsxs("div",{className:"dashboard__summary-stat",children:[a.jsx("span",{className:"dashboard__summary-stat-value",children:v.totalPatrons}),a.jsx("span",{className:"dashboard__summary-stat-label",children:"Total Patrons"})]}),a.jsxs("div",{className:"dashboard__summary-stat",children:[a.jsx("span",{className:"dashboard__summary-stat-value",children:v.managedProspects}),a.jsx("span",{className:"dashboard__summary-stat-label",children:"Managed"})]}),a.jsxs("div",{className:"dashboard__summary-stat",children:[a.jsx("span",{className:"dashboard__summary-stat-value",children:v.generalConstituents}),a.jsx("span",{className:"dashboard__summary-stat-label",children:"General"})]})]})]})]})]})]})]})}function Wf({isOpen:e,onClose:t,onSuccess:i}){const[n,s]=j.useState({firstName:"",lastName:"",email:"",phone:"",address:"",category:"prospect",notes:""}),[l,r]=j.useState({}),[c,o]=j.useState(!1);if(j.useEffect(()=>{e&&(s({firstName:"",lastName:"",email:"",phone:"",address:"",category:"prospect",notes:""}),r({}))},[e]),j.useEffect(()=>{const f=g=>{g.key==="Escape"&&e&&t()};return document.addEventListener("keydown",f),()=>document.removeEventListener("keydown",f)},[e,t]),j.useEffect(()=>(e&&(document.body.style.overflow="hidden"),()=>{document.body.style.overflow=""}),[e]),!e)return null;const d=f=>{f.target===f.currentTarget&&t()},u=f=>{const{name:g,value:y}=f.target;s(N=>({...N,[g]:y})),l[g]&&r(N=>({...N,[g]:null}))},v=()=>{const f={};return n.firstName.trim()||(f.firstName="First name is required"),n.lastName.trim()||(f.lastName="Last name is required"),n.email.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)&&(f.email="Please enter a valid email address"),r(f),Object.keys(f).length===0},m=async f=>{if(f.preventDefault(),!!v()){o(!0);try{const g={firstName:n.firstName.trim(),lastName:n.lastName.trim(),email:n.email.trim()||null,phone:n.phone.trim()||null,address:n.address.trim()||null,tags:[n.category],notes:n.notes.trim()||null,source:"manual"},y=Qu(g);await new Promise(N=>setTimeout(N,300)),i&&i(y),t()}catch(g){console.error("Failed to create patron:",g),r({submit:"Failed to create patron. Please try again."})}finally{o(!1)}}};return a.jsx("div",{className:"patron-modal__overlay",onClick:d,children:a.jsxs("div",{className:"patron-modal",children:[a.jsxs("div",{className:"patron-modal__header",children:[a.jsxs("div",{className:"patron-modal__header-content",children:[a.jsx("h2",{className:"patron-modal__title",children:"Add New Patron"}),a.jsx("p",{className:"patron-modal__subtitle",children:"Create a new patron record in the database"})]}),a.jsx("button",{className:"patron-modal__close",onClick:t,children:a.jsx("i",{className:"fa-solid fa-xmark"})})]}),a.jsxs("form",{className:"patron-modal__body",onSubmit:m,children:[a.jsxs("div",{className:"patron-modal__row",children:[a.jsxs("div",{className:"patron-modal__field patron-modal__field--half",children:[a.jsxs("label",{className:"patron-modal__label",htmlFor:"patron-first-name",children:["First Name ",a.jsx("span",{className:"patron-modal__required",children:"*"})]}),a.jsx("input",{id:"patron-first-name",type:"text",name:"firstName",className:`patron-modal__input ${l.firstName?"patron-modal__input--error":""}`,placeholder:"John",value:n.firstName,onChange:u,autoFocus:!0}),l.firstName&&a.jsx("span",{className:"patron-modal__error",children:l.firstName})]}),a.jsxs("div",{className:"patron-modal__field patron-modal__field--half",children:[a.jsxs("label",{className:"patron-modal__label",htmlFor:"patron-last-name",children:["Last Name ",a.jsx("span",{className:"patron-modal__required",children:"*"})]}),a.jsx("input",{id:"patron-last-name",type:"text",name:"lastName",className:`patron-modal__input ${l.lastName?"patron-modal__input--error":""}`,placeholder:"Doe",value:n.lastName,onChange:u}),l.lastName&&a.jsx("span",{className:"patron-modal__error",children:l.lastName})]})]}),a.jsxs("div",{className:"patron-modal__field",children:[a.jsx("label",{className:"patron-modal__label",htmlFor:"patron-email",children:"Email"}),a.jsx("input",{id:"patron-email",type:"email",name:"email",className:`patron-modal__input ${l.email?"patron-modal__input--error":""}`,placeholder:"john.doe@example.com",value:n.email,onChange:u}),l.email&&a.jsx("span",{className:"patron-modal__error",children:l.email})]}),a.jsxs("div",{className:"patron-modal__field",children:[a.jsx("label",{className:"patron-modal__label",htmlFor:"patron-phone",children:"Phone"}),a.jsx("input",{id:"patron-phone",type:"tel",name:"phone",className:"patron-modal__input",placeholder:"(555) 123-4567",value:n.phone,onChange:u})]}),a.jsxs("div",{className:"patron-modal__field",children:[a.jsx("label",{className:"patron-modal__label",htmlFor:"patron-address",children:"Address"}),a.jsx("input",{id:"patron-address",type:"text",name:"address",className:"patron-modal__input",placeholder:"123 Main St, City, State 12345",value:n.address,onChange:u})]}),a.jsxs("div",{className:"patron-modal__field",children:[a.jsx("label",{className:"patron-modal__label",htmlFor:"patron-category",children:"Initial Tag"}),a.jsx("select",{id:"patron-category",name:"category",className:"patron-modal__select",value:n.category,onChange:u,children:Ee.map(f=>a.jsx("option",{value:f.id,children:f.label},f.id))})]}),a.jsxs("div",{className:"patron-modal__field",children:[a.jsx("label",{className:"patron-modal__label",htmlFor:"patron-notes",children:"Notes"}),a.jsx("textarea",{id:"patron-notes",name:"notes",className:"patron-modal__textarea",placeholder:"Any additional information about this patron...",value:n.notes,onChange:u,rows:3})]}),l.submit&&a.jsxs("div",{className:"patron-modal__submit-error",children:[a.jsx("i",{className:"fa-solid fa-exclamation-circle"}),l.submit]})]}),a.jsxs("div",{className:"patron-modal__footer",children:[a.jsx("button",{type:"button",className:"patron-modal__btn patron-modal__btn--secondary",onClick:t,disabled:c,children:"Cancel"}),a.jsx("button",{type:"submit",className:"patron-modal__btn patron-modal__btn--primary",onClick:m,disabled:c,children:c?a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"fa-solid fa-spinner fa-spin"}),"Creating..."]}):a.jsx(a.Fragment,{children:"Add patron"})})]})]})})}function nm({isOpen:e,onClose:t,onSuccess:i,patronId:n,patronName:s}){const[l,r]=j.useState({assignedToId:"",createOpportunity:!1,opportunityName:"",askAmount:"",campaignId:""}),[c,o]=j.useState({}),[d,u]=j.useState(!1),v=ms(),m=$r();if(j.useEffect(()=>{e&&(r({assignedToId:"",createOpportunity:!1,opportunityName:"",askAmount:"",campaignId:""}),o({}))},[e]),j.useEffect(()=>{const p=h=>{h.key==="Escape"&&e&&t()};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[e,t]),j.useEffect(()=>(e&&(document.body.style.overflow="hidden"),()=>{document.body.style.overflow=""}),[e]),!e)return null;const f=p=>{p.target===p.currentTarget&&t()},g=p=>{const{name:h,value:x,type:w,checked:b}=p.target,P=w==="checkbox"?b:x;r(k=>({...k,[h]:P})),c[h]&&o(k=>({...k,[h]:null}))},y=()=>{const p={};return l.assignedToId||(p.assignedToId="Please select a gift officer"),l.createOpportunity&&(l.opportunityName.trim()||(p.opportunityName="Opportunity name is required"),(!l.askAmount||parseFloat(l.askAmount)<=0)&&(p.askAmount="Ask amount must be greater than 0"),l.campaignId||(p.campaignId="Please select a campaign")),o(p),Object.keys(p).length===0},N=async p=>{if(p.preventDefault(),!!y()){u(!0);try{const h=v.find(b=>b.id===l.assignedToId),x=bf(n,l.assignedToId);let w=null;if(l.createOpportunity){const b=m.find(k=>k.id===l.campaignId),P={patronId:n,patronName:s,name:l.opportunityName.trim(),askAmount:parseFloat(l.askAmount),campaign:b?{id:b.id,name:b.name}:null,fund:b?b.fund:null,expectedClose:_(),probability:25,stage:"identification",nextAction:"Initial discovery call",assignedToId:l.assignedToId};w=Hu(P)}await new Promise(b=>setTimeout(b,300)),i&&i({patron:x,opportunity:w}),t()}catch(h){console.error("Failed to assign patron:",h),o({submit:"Failed to assign patron. Please try again."})}finally{u(!1)}}},_=()=>{const p=new Date;return p.setDate(p.getDate()+90),p.toISOString().split("T")[0]};return a.jsx("div",{className:"assign-modal__overlay",onClick:f,children:a.jsxs("div",{className:"assign-modal",children:[a.jsxs("div",{className:"assign-modal__header",children:[a.jsxs("div",{className:"assign-modal__header-content",children:[a.jsx("h2",{className:"assign-modal__title",children:"Add to Portfolio"}),a.jsxs("p",{className:"assign-modal__subtitle",children:[a.jsx("i",{className:"fa-solid fa-user"}),s]})]}),a.jsx("button",{className:"assign-modal__close",onClick:t,children:a.jsx("i",{className:"fa-solid fa-xmark"})})]}),a.jsxs("form",{className:"assign-modal__body",onSubmit:N,children:[a.jsxs("div",{className:"assign-modal__info",children:[a.jsx("i",{className:"fa-solid fa-info-circle"}),a.jsx("p",{children:"Assigning a gift officer converts this patron from a General Constituent to a Managed Prospect for individual relationship management."})]}),a.jsxs("div",{className:"assign-modal__field",children:[a.jsxs("label",{className:"assign-modal__label",htmlFor:"assign-officer",children:["Gift Officer ",a.jsx("span",{className:"assign-modal__required",children:"*"})]}),a.jsxs("select",{id:"assign-officer",name:"assignedToId",className:`assign-modal__select ${c.assignedToId?"assign-modal__select--error":""}`,value:l.assignedToId,onChange:g,children:[a.jsx("option",{value:"",children:"Select a gift officer..."}),v.map(p=>a.jsxs("option",{value:p.id,children:[p.name," (",p.role,")"]},p.id))]}),c.assignedToId&&a.jsx("span",{className:"assign-modal__error",children:c.assignedToId})]}),a.jsxs("div",{className:"assign-modal__checkbox-field",children:[a.jsxs("label",{className:"assign-modal__checkbox-label",children:[a.jsx("input",{type:"checkbox",name:"createOpportunity",checked:l.createOpportunity,onChange:g,className:"assign-modal__checkbox"}),a.jsx("span",{className:"assign-modal__checkbox-text",children:"Create first opportunity"})]}),a.jsx("p",{className:"assign-modal__checkbox-hint",children:"Start tracking a potential gift right away"})]}),l.createOpportunity&&a.jsxs("div",{className:"assign-modal__opportunity-section",children:[a.jsxs("div",{className:"assign-modal__field",children:[a.jsxs("label",{className:"assign-modal__label",htmlFor:"opp-name",children:["Opportunity Name ",a.jsx("span",{className:"assign-modal__required",children:"*"})]}),a.jsx("input",{id:"opp-name",type:"text",name:"opportunityName",className:`assign-modal__input ${c.opportunityName?"assign-modal__input--error":""}`,placeholder:"e.g., Annual Fund Major Gift",value:l.opportunityName,onChange:g}),c.opportunityName&&a.jsx("span",{className:"assign-modal__error",children:c.opportunityName})]}),a.jsxs("div",{className:"assign-modal__row",children:[a.jsxs("div",{className:"assign-modal__field assign-modal__field--half",children:[a.jsxs("label",{className:"assign-modal__label",htmlFor:"opp-amount",children:["Ask Amount ",a.jsx("span",{className:"assign-modal__required",children:"*"})]}),a.jsxs("div",{className:"assign-modal__input-prefix",children:[a.jsx("span",{className:"assign-modal__prefix",children:"$"}),a.jsx("input",{id:"opp-amount",type:"number",name:"askAmount",className:`assign-modal__input assign-modal__input--currency ${c.askAmount?"assign-modal__input--error":""}`,placeholder:"25,000",min:"0",step:"100",value:l.askAmount,onChange:g})]}),c.askAmount&&a.jsx("span",{className:"assign-modal__error",children:c.askAmount})]}),a.jsxs("div",{className:"assign-modal__field assign-modal__field--half",children:[a.jsxs("label",{className:"assign-modal__label",htmlFor:"opp-campaign",children:["Campaign ",a.jsx("span",{className:"assign-modal__required",children:"*"})]}),a.jsxs("select",{id:"opp-campaign",name:"campaignId",className:`assign-modal__select ${c.campaignId?"assign-modal__select--error":""}`,value:l.campaignId,onChange:g,children:[a.jsx("option",{value:"",children:"Select..."}),m.map(p=>a.jsx("option",{value:p.id,children:p.name},p.id))]}),c.campaignId&&a.jsx("span",{className:"assign-modal__error",children:c.campaignId})]})]})]}),c.submit&&a.jsxs("div",{className:"assign-modal__submit-error",children:[a.jsx("i",{className:"fa-solid fa-exclamation-circle"}),c.submit]})]}),a.jsxs("div",{className:"assign-modal__footer",children:[a.jsx("button",{type:"button",className:"assign-modal__btn assign-modal__btn--secondary",onClick:t,disabled:d,children:"Cancel"}),a.jsx("button",{type:"submit",className:"assign-modal__btn assign-modal__btn--primary",onClick:N,disabled:d,children:d?a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"fa-solid fa-spinner fa-spin"}),"Assigning..."]}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"fa-solid fa-user-plus"}),l.createOpportunity?"Assign & create opportunity":"Assign to portfolio"]})})]})]})})}const Qf=e=>{if(!e)return!1;const t=new Date(e),i=new Date;return i.setDate(i.getDate()-7),t>=i},Hs=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e);function Yf({onSelectPatron:e}){var Br;const[t,i]=j.useState(""),[n,s]=j.useState("createdDate"),[l,r]=j.useState("desc"),[c,o]=j.useState(null),[d,u]=j.useState(!1),[v,m]=j.useState(!1),[f,g]=j.useState(null),[y,N]=j.useState(!1),[_,p]=j.useState([]),[h,x]=j.useState("all"),[w,b]=j.useState([]),[P,k]=j.useState("all"),[M,F]=j.useState("all"),[I,A]=j.useState("all"),[$,V]=j.useState(""),[S,U]=j.useState(""),[O,C]=j.useState("all"),D=j.useMemo(()=>{let E=0;return _.length>0&&E++,h!=="all"&&E++,w.length>0&&E++,P!=="all"&&E++,M!=="all"&&E++,I!=="all"&&E++,($!==""||S!=="")&&E++,O!=="all"&&E++,E},[_,h,w,P,M,I,$,S,O]),R=()=>{p([]),x("all"),b([]),k("all"),F("all"),A("all"),V(""),U(""),C("all")},G=(E,z,B)=>{z(J=>J.includes(B)?J.filter(fe=>fe!==B):[...J,B])},Y=j.useMemo(()=>{let E=v?[...de]:Zo();if(t){const z=t.toLowerCase();E=E.filter(B=>B.firstName.toLowerCase().includes(z)||B.lastName.toLowerCase().includes(z)||B.email.toLowerCase().includes(z)||B.assignedToId&&qe(B.assignedToId).toLowerCase().includes(z))}if(_.length>0&&(E=E.filter(z=>_.some(B=>(z.tags||[]).includes(B)))),h!=="all"&&(E=E.filter(z=>{var B,J;return h==="none"?!((B=z.membership)!=null&&B.tier):((J=z.membership)==null?void 0:J.tier)===h})),w.length>0&&(E=E.filter(z=>{var B;return w.includes(((B=z.engagement)==null?void 0:B.level)||"cold")})),P!=="all"&&(E=E.filter(z=>P==="managed"?na(z):!na(z))),M!=="all"&&(E=E.filter(z=>z.assignedToId===M)),I!=="all"&&(E=E.filter(z=>z.source===I)),$!==""&&(E=E.filter(z=>{var B;return(((B=z.giving)==null?void 0:B.lifetimeValue)||0)>=Number($)})),S!==""&&(E=E.filter(z=>{var B;return(((B=z.giving)==null?void 0:B.lifetimeValue)||0)<=Number(S)})),O!=="all"){const z=new Date;E=E.filter(B=>{var X;const J=(X=B.giving)==null?void 0:X.lastDonation;if(O==="never")return!J;if(!J)return!1;const fe=new Date(J),Ne=Math.floor((z-fe)/(1e3*60*60*24));return O==="30"?Ne<=30:O==="90"?Ne<=90:O==="365"?Ne<=365:O==="over365"?Ne>365:!0})}return E.sort((z,B)=>{var Ne,X,et,$e,kt,Ct;let J,fe;switch(n){case"name":case"lastName":J=`${z.lastName} ${z.firstName}`.toLowerCase(),fe=`${B.lastName} ${B.firstName}`.toLowerCase();break;case"createdDate":J=z.createdDate||"1900-01-01",fe=B.createdDate||"1900-01-01";break;case"lifetimeValue":J=((Ne=z.giving)==null?void 0:Ne.lifetimeValue)||0,fe=((X=B.giving)==null?void 0:X.lifetimeValue)||0;break;case"engagement":const St=["cold","cool","warm","hot","on-fire"];J=St.indexOf(((et=z.engagement)==null?void 0:et.level)||"cold"),fe=St.indexOf((($e=B.engagement)==null?void 0:$e.level)||"cold");break;case"membershipTier":const It={Gold:3,Silver:2,Basic:1};J=It[(kt=z.membership)==null?void 0:kt.tier]||0,fe=It[(Ct=B.membership)==null?void 0:Ct.tier]||0;break;default:J=z[n]||"",fe=B[n]||""}return J<fe?l==="asc"?-1:1:J>fe?l==="asc"?1:-1:0}),E},[t,n,l,v,_,h,w,P,M,I,$,S,O]),Q=E=>{n===E?r(z=>z==="asc"?"desc":"asc"):(s(E),r("asc"))},Se=E=>Ee.find(z=>z.id===E)||{id:E,label:E},bt=E=>{const z=tm(E.id),B=(z==null?void 0:z.tier)||null,J=(z==null?void 0:z.cardStyle)||null;return{tier:B,cardStyle:J}},pt=E=>{var z;return((z=Gs.find(B=>B.id===E))==null?void 0:z.label)||E},fa=E=>{e(E.id)},ym=(E,z)=>{E.stopPropagation(),o(c===z?null:z)},xm=(E,z)=>{E.stopPropagation(),o(null),e(z.id)},Nm=()=>{c&&o(null)},jm=()=>{const E=["First Name","Last Name","Email","Phone","Address","Membership Tier","Lifetime Value","Donation Count","Last Donation","Tags","Owner","Engagement","Source","Patron Since"],z=Y.map(X=>{var et,$e,kt,Ct,St;return[X.firstName,X.lastName,X.email||"",X.phone||"",X.address||"",((et=X.membership)==null?void 0:et.tier)||"None",(($e=X.giving)==null?void 0:$e.lifetimeValue)||0,((kt=X.giving)==null?void 0:kt.giftCount)||0,((Ct=X.giving)==null?void 0:Ct.lastDonation)||"",(X.tags||[]).map(It=>{const Oe=Ee.find(bm=>bm.id===It);return Oe?Oe.label:It}).join("; "),X.assignedToId?qe(X.assignedToId):"",((St=X.engagement)==null?void 0:St.level)||"cold",X.source||"",X.createdDate||""]}),B=[E,...z].map(X=>X.map(et=>{const $e=String(et);return $e.includes(",")||$e.includes('"')||$e.includes(`
`)?`"${$e.replace(/"/g,'""')}"`:$e}).join(",")).join(`
`),J=new Blob([B],{type:"text/csv;charset=utf-8;"}),fe=URL.createObjectURL(J),Ne=document.createElement("a");Ne.href=fe,Ne.download=`patrons-export-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(Ne),Ne.click(),document.body.removeChild(Ne),URL.revokeObjectURL(fe)},wm=E=>{e&&e(E.id)};return a.jsxs("div",{className:"patrons-list",children:[a.jsxs("div",{className:"patrons-list__header",children:[a.jsxs("div",{className:"patrons-list__breadcrumb",children:[a.jsx("span",{className:"patrons-list__breadcrumb-section",children:"Fundraising"}),a.jsx("i",{className:"fa-solid fa-chevron-right patrons-list__breadcrumb-separator"})]}),a.jsx("h1",{className:"patrons-list__title",children:"Patrons"})]}),a.jsxs("div",{className:"patrons-list__container",children:[a.jsxs("div",{className:"patrons-list__toolbar",children:[a.jsxs("div",{className:"patrons-list__search",children:[a.jsx("i",{className:"fa-solid fa-magnifying-glass patrons-list__search-icon"}),a.jsx("input",{type:"text",placeholder:"Search by name or owner",value:t,onChange:E=>i(E.target.value),className:"patrons-list__search-input"})]}),a.jsxs("div",{className:"patrons-list__actions",children:[a.jsxs("label",{className:"patrons-list__toggle",children:[a.jsx("input",{type:"checkbox",checked:v,onChange:E=>m(E.target.checked)}),a.jsx("span",{children:"Show archived"})]}),a.jsxs("button",{className:"patrons-list__export-btn",onClick:jm,disabled:Y.length===0,children:[a.jsx("i",{className:"fa-solid fa-download"}),"Export (",Y.length,")"]}),a.jsxs("button",{className:`patrons-list__filter-btn ${D>0?"patrons-list__filter-btn--active":""}`,onClick:()=>N(!y),children:[a.jsx("i",{className:"fa-solid fa-sliders"}),"Filters",D>0?` (${D})`:""]}),a.jsx("button",{className:"patrons-list__add-btn",onClick:()=>u(!0),children:"Add new patron"})]})]}),y&&a.jsxs("div",{className:"patrons-list__filter-panel",children:[a.jsxs("div",{className:"patrons-list__filter-grid",children:[a.jsxs("div",{className:"patrons-list__filter-group",children:[a.jsx("label",{className:"patrons-list__filter-label",children:"Tags"}),a.jsx("div",{className:"patrons-list__filter-checkbox-group",children:Ee.map(E=>a.jsxs("label",{className:"patrons-list__filter-checkbox",children:[a.jsx("input",{type:"checkbox",checked:_.includes(E.id),onChange:()=>G(_,p,E.id)}),a.jsx("span",{children:E.label})]},E.id))})]}),a.jsxs("div",{className:"patrons-list__filter-group",children:[a.jsx("label",{className:"patrons-list__filter-label",children:"Membership"}),a.jsxs("select",{className:"patrons-list__filter-select",value:h,onChange:E=>x(E.target.value),children:[a.jsx("option",{value:"all",children:"All"}),a.jsx("option",{value:"Gold",children:"Gold"}),a.jsx("option",{value:"Silver",children:"Silver"}),a.jsx("option",{value:"Basic",children:"Basic"}),a.jsx("option",{value:"none",children:"No membership"})]})]}),a.jsxs("div",{className:"patrons-list__filter-group",children:[a.jsx("label",{className:"patrons-list__filter-label",children:"Engagement"}),a.jsx("div",{className:"patrons-list__filter-checkbox-group",children:Gs.map(E=>a.jsxs("label",{className:"patrons-list__filter-checkbox",children:[a.jsx("input",{type:"checkbox",checked:w.includes(E.id),onChange:()=>G(w,b,E.id)}),a.jsx("span",{children:E.label})]},E.id))})]}),a.jsxs("div",{className:"patrons-list__filter-group",children:[a.jsx("label",{className:"patrons-list__filter-label",children:"Patron Type"}),a.jsxs("select",{className:"patrons-list__filter-select",value:P,onChange:E=>k(E.target.value),children:[a.jsx("option",{value:"all",children:"All"}),a.jsx("option",{value:"managed",children:"Managed Prospect"}),a.jsx("option",{value:"general",children:"General Constituent"})]})]}),a.jsxs("div",{className:"patrons-list__filter-group",children:[a.jsx("label",{className:"patrons-list__filter-label",children:"Owner"}),a.jsxs("select",{className:"patrons-list__filter-select",value:M,onChange:E=>F(E.target.value),children:[a.jsx("option",{value:"all",children:"All"}),zi.map(E=>a.jsx("option",{value:E.id,children:E.name},E.id))]})]}),a.jsxs("div",{className:"patrons-list__filter-group",children:[a.jsx("label",{className:"patrons-list__filter-label",children:"Source"}),a.jsxs("select",{className:"patrons-list__filter-select",value:I,onChange:E=>A(E.target.value),children:[a.jsx("option",{value:"all",children:"All"}),Ul.map(E=>a.jsx("option",{value:E.id,children:E.label},E.id))]})]}),a.jsxs("div",{className:"patrons-list__filter-group",children:[a.jsx("label",{className:"patrons-list__filter-label",children:"Lifetime Value"}),a.jsxs("div",{className:"patrons-list__filter-range",children:[a.jsx("input",{type:"number",className:"patrons-list__filter-input",placeholder:"Min",value:$,onChange:E=>V(E.target.value),min:"0"}),a.jsx("span",{className:"patrons-list__filter-range-sep",children:""}),a.jsx("input",{type:"number",className:"patrons-list__filter-input",placeholder:"Max",value:S,onChange:E=>U(E.target.value),min:"0"})]})]}),a.jsxs("div",{className:"patrons-list__filter-group",children:[a.jsx("label",{className:"patrons-list__filter-label",children:"Last Donation"}),a.jsxs("select",{className:"patrons-list__filter-select",value:O,onChange:E=>C(E.target.value),children:[a.jsx("option",{value:"all",children:"Any time"}),a.jsx("option",{value:"30",children:"Last 30 days"}),a.jsx("option",{value:"90",children:"Last 90 days"}),a.jsx("option",{value:"365",children:"Last year"}),a.jsx("option",{value:"over365",children:"Over 1 year ago"}),a.jsx("option",{value:"never",children:"Never donated"})]})]})]}),D>0&&a.jsx("div",{className:"patrons-list__filter-actions",children:a.jsxs("button",{className:"patrons-list__filter-clear",onClick:R,children:[a.jsx("i",{className:"fa-solid fa-xmark"}),"Clear all filters"]})})]}),D>0&&a.jsxs("div",{className:"patrons-list__chips",children:[_.length>0&&a.jsxs("span",{className:"patrons-list__chip",children:["Tags: ",_.map(E=>{const z=Ee.find(B=>B.id===E);return z?z.label:E}).join(", "),a.jsx("button",{className:"patrons-list__chip-remove",onClick:()=>p([]),children:a.jsx("i",{className:"fa-solid fa-xmark"})})]}),h!=="all"&&a.jsxs("span",{className:"patrons-list__chip",children:["Membership: ",h==="none"?"None":h,a.jsx("button",{className:"patrons-list__chip-remove",onClick:()=>x("all"),children:a.jsx("i",{className:"fa-solid fa-xmark"})})]}),w.length>0&&a.jsxs("span",{className:"patrons-list__chip",children:["Engagement: ",w.map(E=>{const z=Gs.find(B=>B.id===E);return z?z.label:E}).join(", "),a.jsx("button",{className:"patrons-list__chip-remove",onClick:()=>b([]),children:a.jsx("i",{className:"fa-solid fa-xmark"})})]}),P!=="all"&&a.jsxs("span",{className:"patrons-list__chip",children:["Type: ",P==="managed"?"Managed Prospect":"General Constituent",a.jsx("button",{className:"patrons-list__chip-remove",onClick:()=>k("all"),children:a.jsx("i",{className:"fa-solid fa-xmark"})})]}),M!=="all"&&a.jsxs("span",{className:"patrons-list__chip",children:["Owner: ",qe(M),a.jsx("button",{className:"patrons-list__chip-remove",onClick:()=>F("all"),children:a.jsx("i",{className:"fa-solid fa-xmark"})})]}),I!=="all"&&a.jsxs("span",{className:"patrons-list__chip",children:["Source: ",((Br=Ul.find(E=>E.id===I))==null?void 0:Br.label)||I,a.jsx("button",{className:"patrons-list__chip-remove",onClick:()=>A("all"),children:a.jsx("i",{className:"fa-solid fa-xmark"})})]}),($!==""||S!=="")&&a.jsxs("span",{className:"patrons-list__chip",children:["LTV: ",$!==""?Hs(Number($)):"$0","  ",S!==""?Hs(Number(S)):"any",a.jsx("button",{className:"patrons-list__chip-remove",onClick:()=>{V(""),U("")},children:a.jsx("i",{className:"fa-solid fa-xmark"})})]}),O!=="all"&&a.jsxs("span",{className:"patrons-list__chip",children:["Last Donation: ",{30:"Last 30 days",90:"Last 90 days",365:"Last year",over365:"Over 1 year ago",never:"Never"}[O],a.jsx("button",{className:"patrons-list__chip-remove",onClick:()=>C("all"),children:a.jsx("i",{className:"fa-solid fa-xmark"})})]}),a.jsx("button",{className:"patrons-list__chips-clear",onClick:R,children:"Clear all"})]}),a.jsx("div",{className:"patrons-list__table-wrapper",onClick:Nm,children:a.jsxs("table",{className:"patrons-list__table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsxs("th",{className:"patrons-list__th patrons-list__th--sortable",onClick:()=>Q("lastName"),children:["Name",a.jsx("i",{className:`fa-solid fa-sort patrons-list__sort-icon ${n==="lastName"?"patrons-list__sort-icon--active":""}`})]}),a.jsxs("th",{className:"patrons-list__th patrons-list__th--sortable",onClick:()=>Q("lifetimeValue"),children:["Lifetime Value",a.jsx("i",{className:`fa-solid fa-sort patrons-list__sort-icon ${n==="lifetimeValue"?"patrons-list__sort-icon--active":""}`})]}),a.jsxs("th",{className:"patrons-list__th patrons-list__th--sortable",onClick:()=>Q("membershipTier"),children:["Membership",a.jsx("i",{className:`fa-solid fa-sort patrons-list__sort-icon ${n==="membershipTier"?"patrons-list__sort-icon--active":""}`})]}),a.jsx("th",{className:"patrons-list__th",children:"Tags"}),a.jsx("th",{className:"patrons-list__th",children:"Owner"}),a.jsxs("th",{className:"patrons-list__th patrons-list__th--sortable",onClick:()=>Q("createdDate"),children:["Patron Since",a.jsx("i",{className:`fa-solid fa-sort patrons-list__sort-icon ${n==="createdDate"?"patrons-list__sort-icon--active":""}`})]}),a.jsxs("th",{className:"patrons-list__th patrons-list__th--sortable",onClick:()=>Q("engagement"),children:["Engagement",a.jsx("i",{className:`fa-solid fa-sort patrons-list__sort-icon ${n==="engagement"?"patrons-list__sort-icon--active":""}`})]}),a.jsx("th",{className:"patrons-list__th patrons-list__th--actions"})]})}),a.jsx("tbody",{children:Y.map(E=>{var Ct,St,It;const z=na(E),B=E.status==="archived",J=Qf(E.createdDate),fe=yf(E.source),{tier:Ne,cardStyle:X}=bt(E),et=E.tags||[],$e=et.slice(0,2),kt=et.length-2;return a.jsxs("tr",{className:`patrons-list__row ${z?"patrons-list__row--managed":""} ${B?"patrons-list__row--archived":""} ${J?"patrons-list__row--new":""}`,onClick:()=>fa(E),children:[a.jsx("td",{className:"patrons-list__td patrons-list__td--name",children:a.jsxs("div",{className:"patrons-list__patron-info",children:[E.photo?a.jsx("img",{src:E.photo,alt:"",className:`patrons-list__avatar ${B?"patrons-list__avatar--archived":""}`}):a.jsx("div",{className:`patrons-list__avatar patrons-list__avatar--placeholder ${B?"patrons-list__avatar--archived":""}`,children:a.jsx("i",{className:"fa-solid fa-user"})}),a.jsxs("div",{className:"patrons-list__name-wrapper",children:[a.jsxs("div",{className:"patrons-list__name-row",children:[a.jsx("span",{className:`patrons-list__origin patrons-list__origin--${fe}`,"data-tooltip":fe==="fever"?"Added via Fever":"Manually added"}),a.jsxs("span",{className:"patrons-list__name",children:[E.firstName," ",E.lastName]}),J&&a.jsx("span",{className:"patrons-list__new-badge",children:"New"})]}),B&&a.jsx("span",{className:"patrons-list__archived-badge",children:"Archived"})]})]})}),a.jsx("td",{className:"patrons-list__td patrons-list__td--ltv",children:Hs(((Ct=E.giving)==null?void 0:Ct.lifetimeValue)||0)}),a.jsx("td",{className:"patrons-list__td patrons-list__td--membership",children:Ne?a.jsx("span",{className:"patrons-list__membership",style:X?{color:X.backgroundColor,borderColor:X.backgroundColor}:void 0,children:Ne}):a.jsx("span",{className:"patrons-list__membership patrons-list__membership--none",children:""})}),a.jsx("td",{className:"patrons-list__td patrons-list__td--tags",children:a.jsxs("div",{className:"patrons-list__tags-container","data-tooltip":et.map(Oe=>Se(Oe).label).join(", "),children:[$e.map(Oe=>a.jsx("span",{className:"patrons-list__tag",children:Se(Oe).label},Oe)),kt>0&&a.jsxs("span",{className:"patrons-list__tag patrons-list__tag--more",children:["+",kt]})]})}),a.jsx("td",{className:"patrons-list__td patrons-list__td--owner",children:E.assignedToId?a.jsx("span",{className:"patrons-list__owner",children:qe(E.assignedToId)}):a.jsx("button",{className:"patrons-list__assign-btn",onClick:Oe=>{Oe.stopPropagation(),g({id:E.id,name:`${E.firstName} ${E.lastName}`})},children:"Assign"})}),a.jsx("td",{className:"patrons-list__td",children:Nf(E.createdDate)}),a.jsx("td",{className:"patrons-list__td",children:a.jsx("span",{className:`patrons-list__engagement patrons-list__engagement--${((St=E.engagement)==null?void 0:St.level)||"cold"}`,children:pt((It=E.engagement)==null?void 0:It.level)})}),a.jsx("td",{className:"patrons-list__td patrons-list__td--actions",children:a.jsxs("div",{className:"patrons-list__menu-container",children:[a.jsx("button",{className:"patrons-list__menu-btn",onClick:Oe=>ym(Oe,E.id),children:a.jsx("i",{className:"fa-solid fa-ellipsis"})}),c===E.id&&a.jsx("div",{className:"patrons-list__dropdown",children:a.jsxs("button",{className:"patrons-list__dropdown-item",onClick:Oe=>xm(Oe,E),children:[a.jsx("i",{className:"fa-solid fa-address-card"}),"View profile"]})})]})})]},E.id)})})]})}),a.jsx("div",{className:"patrons-list__footer",children:a.jsxs("span",{className:"patrons-list__count",children:["Showing ",Y.length," of ",v?de.length:Zo().length," patrons",v&&" (including archived)",D>0&&a.jsxs("span",{className:"patrons-list__count-filters",children:[" "," | Filtered by: ",[_.length>0&&"Tags",h!=="all"&&"Membership",w.length>0&&"Engagement",P!=="all"&&"Type",M!=="all"&&"Owner",I!=="all"&&"Source",($!==""||S!=="")&&"LTV",O!=="all"&&"Last Donation"].filter(Boolean).join(", ")]})]})})]}),a.jsx(Wf,{isOpen:d,onClose:()=>u(!1),onSuccess:wm}),f&&a.jsx(nm,{isOpen:!!f,onClose:()=>g(null),onSuccess:()=>g(null),patronId:f.id,patronName:f.name})]})}function Kf({patron:e,isManaged:t,onCreateOpportunity:i,onAddActivity:n,onArchive:s,onRestore:l,onUpdateTags:r}){const c=tm(e.id),o=S=>{var U;return((U=Ee.find(O=>O.id===S))==null?void 0:U.label)||S},[d,u]=j.useState(!1),[v,m]=j.useState(!1),[f,g]=j.useState(""),y=j.useRef(null),N=e.tags||[],_=N[0],p=N.length-1,h=Ee.filter(S=>!N.includes(S.id)),x=f?h.filter(S=>S.label.toLowerCase().includes(f.toLowerCase())):h,w=Ee.find(S=>S.label.toLowerCase()===f.toLowerCase()),b=f.trim()&&!w;j.useEffect(()=>{const S=U=>{y.current&&!y.current.contains(U.target)&&(m(!1),g(""))};return v&&document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[v]);const P=S=>{r&&r(N.filter(U=>U!==S))},k=S=>{r&&!N.includes(S)&&r([...N,S]),g("")},M=()=>{if(b){const S=Yu(f.trim());k(S.id)}},F=e.status==="archived",I=()=>{u(!1),i&&i()},A=()=>{u(!1),n&&n()},$=()=>{u(!1),s&&window.confirm(`Are you sure you want to archive ${e.firstName} ${e.lastName}? They will be hidden from the patrons list but can be restored later.`)&&s()},V=()=>{u(!1),l&&l()};return a.jsxs("div",{className:`patron-info-box ${F?"patron-info-box--archived":""}`,children:[F&&a.jsxs("div",{className:"patron-info-box__archived-banner",children:[a.jsx("i",{className:"fa-solid fa-box-archive"}),a.jsx("span",{children:"This patron is archived"}),a.jsx("button",{className:"patron-info-box__restore-btn",onClick:V,children:"Restore"})]}),a.jsxs("div",{className:"patron-info-box__main",children:[a.jsx("div",{className:"patron-info-box__photo",children:e.photo?a.jsx("img",{src:e.photo,alt:`${e.firstName} ${e.lastName}`}):a.jsx("div",{className:"patron-info-box__photo-placeholder",children:a.jsx("i",{className:"fa-solid fa-user"})})}),a.jsxs("div",{className:"patron-info-box__details",children:[a.jsxs("h2",{className:"patron-info-box__name",children:[a.jsx("span",{className:"patron-info-box__name-first",children:e.firstName})," ",a.jsx("span",{className:"patron-info-box__name-last",children:e.lastName})]}),e.household&&a.jsxs("div",{className:"patron-info-box__household",children:[a.jsx("a",{href:"#",className:"patron-info-box__household-link",children:e.household.name}),e.household.verified&&a.jsx("i",{className:"fa-solid fa-badge-check patron-info-box__verified"})]}),a.jsxs("div",{className:"patron-info-box__tags",children:[_&&a.jsx("span",{className:"patron-info-box__tag patron-info-box__tag--accent",children:o(_)}),a.jsxs("div",{className:"patron-info-box__tags-popover-container",ref:y,children:[a.jsx("button",{className:"patron-info-box__tag patron-info-box__tag--count",onClick:()=>m(!v),children:p>0?`+${p}`:a.jsx("i",{className:"fa-solid fa-plus"})}),v&&a.jsxs("div",{className:"patron-info-box__tags-popover",children:[a.jsxs("div",{className:"patron-info-box__tags-popover-header",children:[a.jsx("span",{children:"Tags"}),a.jsx("button",{className:"patron-info-box__tags-popover-close",onClick:()=>{m(!1),g("")},children:a.jsx("i",{className:"fa-solid fa-xmark"})})]}),a.jsx("div",{className:"patron-info-box__tags-popover-list",children:N.length===0?a.jsx("div",{className:"patron-info-box__tags-popover-empty",children:"No tags assigned"}):N.map(S=>a.jsxs("div",{className:"patron-info-box__tags-popover-item",children:[a.jsx("span",{className:"patron-info-box__tags-popover-item-label",children:o(S)}),a.jsx("button",{className:"patron-info-box__tags-popover-item-remove",onClick:()=>P(S),children:a.jsx("i",{className:"fa-solid fa-xmark"})})]},S))}),a.jsxs("div",{className:"patron-info-box__tags-popover-search",children:[a.jsx("input",{type:"text",placeholder:"Search or create tag...",value:f,onChange:S=>g(S.target.value),className:"patron-info-box__tags-popover-input"}),f&&a.jsxs("div",{className:"patron-info-box__tags-popover-suggestions",children:[x.slice(0,5).map(S=>a.jsx("button",{className:"patron-info-box__tags-popover-suggestion",onClick:()=>k(S.id),children:S.label},S.id)),b&&a.jsxs("button",{className:"patron-info-box__tags-popover-suggestion patron-info-box__tags-popover-suggestion--create",onClick:M,children:['Create "',f,'"']})]})]})]})]}),a.jsxs("span",{className:"patron-info-box__id",children:["Id: ",e.id,a.jsx("button",{className:"patron-info-box__copy",title:"Copy ID",children:a.jsx("i",{className:"fa-regular fa-copy"})})]})]})]})]}),a.jsxs("div",{className:"patron-info-box__section patron-info-box__contact",children:[e.email&&a.jsxs("div",{className:"patron-info-box__info-item",children:[a.jsx("i",{className:"fa-solid fa-envelope patron-info-box__info-icon"}),a.jsx("span",{children:e.email}),a.jsx("i",{className:"fa-solid fa-star patron-info-box__star",title:"Primary email"})]}),e.phone&&a.jsxs("div",{className:"patron-info-box__info-item",children:[a.jsx("i",{className:"fa-solid fa-phone patron-info-box__info-icon"}),a.jsx("span",{children:e.phone})]}),e.address&&a.jsxs("div",{className:"patron-info-box__info-item",children:[a.jsx("i",{className:"fa-solid fa-location-dot patron-info-box__info-icon"}),a.jsx("span",{children:e.address})]})]}),c&&a.jsxs("div",{className:"patron-info-box__section patron-info-box__membership",children:[a.jsxs("div",{className:"patron-info-box__info-item",children:[a.jsx("i",{className:"fa-solid fa-address-card patron-info-box__info-icon"}),a.jsxs("span",{children:[c.programme?`${c.programme} - `:"",c.tier||"Member"]})]}),c.startDate&&a.jsxs("div",{className:"patron-info-box__info-item",children:[a.jsx("i",{className:"fa-solid fa-calendar-day patron-info-box__info-icon"}),a.jsxs("span",{children:["Member since ",oe(c.startDate)]})]}),c.daysToRenewal!==void 0&&a.jsxs("div",{className:"patron-info-box__info-item",children:[a.jsx("i",{className:"fa-solid fa-clock-rotate-left patron-info-box__info-icon"}),a.jsxs("span",{children:[c.daysToRenewal," days to renewal"]}),c.daysToRenewal<180&&a.jsx("i",{className:"fa-solid fa-triangle-exclamation patron-info-box__warning",title:"Renewal approaching"})]})]}),a.jsx("div",{className:"patron-info-box__actions",children:a.jsxs("div",{className:"patron-info-box__dropdown",children:[a.jsxs("button",{className:"patron-info-box__actions-btn",onClick:()=>u(!d),children:["Actions",a.jsx("i",{className:"fa-solid fa-chevron-down"})]}),d&&a.jsxs("div",{className:"patron-info-box__dropdown-menu",children:[a.jsxs("button",{className:"patron-info-box__dropdown-item",children:[a.jsx("i",{className:"fa-solid fa-pen"}),"Edit Information"]}),a.jsxs("button",{className:"patron-info-box__dropdown-item",children:[a.jsx("i",{className:"fa-solid fa-tags"}),"Change Category"]}),a.jsx("button",{className:"patron-info-box__dropdown-item",onClick:A,children:"Add activity"}),a.jsxs("button",{className:"patron-info-box__dropdown-item",children:[a.jsx("i",{className:"fa-solid fa-link"}),"Add relationship"]}),a.jsxs("button",{className:"patron-info-box__dropdown-item",children:[a.jsx("i",{className:"fa-solid fa-user"}),"Change Assignment"]}),a.jsxs("button",{className:"patron-info-box__dropdown-item",children:[a.jsx("i",{className:"fa-solid fa-fire-flame-curved"}),"Modify Engagement Level"]}),t&&a.jsxs("button",{className:"patron-info-box__dropdown-item",onClick:I,children:[a.jsx("i",{className:"fa-solid fa-bullseye"}),"Create opportunity"]}),a.jsx("div",{className:"patron-info-box__dropdown-divider"}),F?a.jsxs("button",{className:"patron-info-box__dropdown-item patron-info-box__dropdown-item--success",onClick:V,children:[a.jsx("i",{className:"fa-solid fa-rotate-left"}),"Restore Patron"]}):a.jsxs("button",{className:"patron-info-box__dropdown-item patron-info-box__dropdown-item--danger",onClick:$,children:[a.jsx("i",{className:"fa-solid fa-box-archive"}),"Archive Patron"]})]})]})})]})}function qf({tabs:e,activeTab:t,onTabChange:i,assignedToId:n,onAssign:s}){return a.jsxs("div",{className:"tab-navigation",children:[a.jsx("div",{className:"tab-navigation__tabs",children:e.map(l=>a.jsx("button",{className:`tab-navigation__tab ${t===l.id?"tab-navigation__tab--active":""}`,onClick:()=>i(l.id),children:l.label},l.id))}),n?a.jsxs("div",{className:"tab-navigation__assigned",children:[a.jsx("span",{className:"tab-navigation__assigned-label",children:"Assigned To:"}),a.jsxs("a",{href:"#",className:"tab-navigation__assigned-link",children:[qe(n),a.jsx("i",{className:"fa-solid fa-arrow-up-right-from-square"})]})]}):s&&a.jsxs("div",{className:"tab-navigation__assigned",children:[a.jsx("span",{className:"tab-navigation__assigned-label",children:"Assigned To:"}),a.jsx("button",{className:"tab-navigation__assign-btn",onClick:s,children:"Assign"})]})]})}const Ws=e=>e?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e):"$0",Xf=e=>{if(!e)return null;const t=new Date(e),n=new Date-t;return Math.floor(n/(1e3*60*60*24))},Jf=e=>e===null?"unknown":e<=14?"good":e<=30?"warning":"overdue",Zf={identification:{label:"Identification",color:"gray"},qualification:{label:"Qualification",color:"blue"},cultivation:{label:"Cultivation",color:"purple"},solicitation:{label:"Solicitation",color:"orange"},stewardship:{label:"Stewardship",color:"green"}};function Wn({opportunity:e,variant:t="compact",onClick:i,onPatronClick:n,showPatronName:s=!0,className:l=""}){if(!e)return null;const r=Wt(e.patronId),c=r?Ga(r):"Unknown",o=Xf(e.lastContact),d=Jf(o),u=Zf[e.stage]||{label:e.stage,color:"gray"},v=e.status==="won"||e.status==="lost",m=g=>{i&&i(e)},f=g=>{g.stopPropagation(),n&&n(e.patronId)};return t==="compact"?a.jsxs("div",{className:`opportunity-card opportunity-card--compact ${v?"opportunity-card--closed":""} ${l}`,onClick:m,children:[a.jsxs("div",{className:"opportunity-card__header",children:[a.jsx("span",{className:"opportunity-card__name",children:e.name}),a.jsx("span",{className:"opportunity-card__amount",children:Ws(e.askAmount)})]}),a.jsxs("div",{className:"opportunity-card__meta",children:[a.jsx("span",{className:`opportunity-card__stage opportunity-card__stage--${u.color}`,children:u.label}),e.probability&&a.jsxs("span",{className:"opportunity-card__probability",children:[e.probability,"%"]})]}),e.nextAction&&!v&&a.jsxs("div",{className:"opportunity-card__action",children:[a.jsx("i",{className:"fa-solid fa-arrow-right"}),a.jsx("span",{children:e.nextAction})]}),v&&a.jsxs("div",{className:`opportunity-card__status opportunity-card__status--${e.status}`,children:[a.jsx("i",{className:`fa-solid ${e.status==="won"?"fa-check-circle":"fa-times-circle"}`}),a.jsx("span",{children:e.status==="won"?"Closed Won":"Closed Lost"})]})]}):t==="kanban"?a.jsxs("div",{className:`opportunity-card opportunity-card--kanban ${l}`,onClick:m,children:[a.jsxs("div",{className:"opportunity-card__header",children:[a.jsx("span",{className:"opportunity-card__name",children:e.name}),a.jsx("span",{className:"opportunity-card__amount",children:Ws(e.askAmount)})]}),s&&a.jsx("span",{className:"opportunity-card__patron",onClick:f,title:"View patron profile",children:c}),a.jsxs("div",{className:"opportunity-card__contact",children:[a.jsxs("span",{className:"opportunity-card__date",children:["Last: ",o!==null?`${o}d ago`:""]}),a.jsx("span",{className:`opportunity-card__contact-status opportunity-card__contact-status--${d}`,children:d==="overdue"&&a.jsx("i",{className:"fa-solid fa-triangle-exclamation"})})]}),e.nextAction&&a.jsxs("div",{className:"opportunity-card__action",children:[a.jsx("i",{className:"fa-solid fa-arrow-right"}),a.jsx("span",{children:e.nextAction})]}),a.jsxs("div",{className:"opportunity-card__footer",children:[a.jsx("span",{className:"opportunity-card__assignee",title:qe(e.assignedToId),children:gf(e.assignedToId)}),e.campaignId&&(()=>{const g=ha(e.campaignId);return a.jsx("span",{className:"opportunity-card__campaign",title:g,children:g.length>15?g.substring(0,15)+"...":g})})()]})]}):a.jsxs("div",{className:`opportunity-card opportunity-card--full ${v?"opportunity-card--closed":""} ${l}`,onClick:m,children:[a.jsxs("div",{className:"opportunity-card__main",children:[a.jsxs("div",{className:"opportunity-card__info",children:[a.jsx("span",{className:"opportunity-card__name",children:e.name}),s&&a.jsx("span",{className:"opportunity-card__patron",onClick:f,children:c})]}),a.jsx("span",{className:"opportunity-card__amount",children:Ws(e.askAmount)}),a.jsx("span",{className:`opportunity-card__stage opportunity-card__stage--${u.color}`,children:u.label}),e.probability&&a.jsxs("span",{className:"opportunity-card__probability",children:[e.probability,"%"]}),a.jsx("span",{className:"opportunity-card__expected",children:e.expectedClose?oe(e.expectedClose):""}),a.jsx("span",{className:"opportunity-card__assignee-full",children:qe(e.assignedToId)})]}),e.nextAction&&!v&&a.jsxs("div",{className:"opportunity-card__action-row",children:[a.jsx("i",{className:"fa-solid fa-arrow-right"}),a.jsx("span",{children:e.nextAction}),a.jsx("span",{className:`opportunity-card__contact-days opportunity-card__contact-days--${d}`,children:o!==null?`${o}d since contact`:"No contact recorded"})]})]})}const nc=e=>e?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e):"$0";function ev({patronId:e,onSelectOpportunity:t,onCreateOpportunity:i,onNavigateToPatron:n}){const[s,l]=j.useState(!1),r=af(e),c=r.filter(f=>f.status==="open"),o=r.filter(f=>f.status!=="open"),d=c.reduce((f,g)=>f+g.askAmount,0),u=c.reduce((f,g)=>f+g.askAmount*(g.probability||50)/100,0),v=()=>{i?i(e):alert("This would open a modal to create a new opportunity.")},m=f=>{t&&t(f.id)};return a.jsxs("div",{className:"opportunities-panel wrapper-card",children:[a.jsxs("div",{className:"opportunities-panel__header",children:[a.jsx("h4",{className:"opportunities-panel__title",children:"Opportunities"}),a.jsx("button",{className:"opportunities-panel__add-btn",onClick:v,title:"Create new opportunity",children:a.jsx("i",{className:"fa-solid fa-plus"})})]}),c.length>0&&a.jsxs("div",{className:"opportunities-panel__stats",children:[a.jsxs("div",{className:"opportunities-panel__stat",children:[a.jsx("span",{className:"opportunities-panel__stat-value",children:c.length}),a.jsx("span",{className:"opportunities-panel__stat-label",children:"Active"})]}),a.jsxs("div",{className:"opportunities-panel__stat",children:[a.jsx("span",{className:"opportunities-panel__stat-value",children:nc(d)}),a.jsx("span",{className:"opportunities-panel__stat-label",children:"Pipeline"})]}),a.jsxs("div",{className:"opportunities-panel__stat",children:[a.jsx("span",{className:"opportunities-panel__stat-value",children:nc(u)}),a.jsx("span",{className:"opportunities-panel__stat-label",children:"Weighted"})]})]}),a.jsx("div",{className:"opportunities-panel__list",children:c.length===0?a.jsxs("div",{className:"opportunities-panel__empty",children:[a.jsx("i",{className:"fa-solid fa-bullseye"}),a.jsx("p",{children:"No active opportunities"}),a.jsx("button",{className:"opportunities-panel__create-btn",onClick:v,children:"Create opportunity"})]}):c.map(f=>a.jsx(Wn,{opportunity:f,variant:"compact",onClick:m,showPatronName:!1},f.id))}),o.length>0&&a.jsxs("div",{className:"opportunities-panel__closed",children:[a.jsxs("button",{className:"opportunities-panel__closed-toggle",onClick:()=>l(!s),children:[a.jsx("i",{className:`fa-solid fa-chevron-${s?"down":"right"}`}),"Closed (",o.length,")"]}),s&&a.jsx("div",{className:"opportunities-panel__closed-list",children:o.map(f=>a.jsx(Wn,{opportunity:f,variant:"compact",onClick:m,showPatronName:!1},f.id))})]})]})}const sc=[{month:"Jan",year:"25",donations:150,revenue:80},{month:"Feb",year:"25",donations:200,revenue:120},{month:"Mar",year:"25",donations:180,revenue:100},{month:"Apr",year:"25",donations:350,revenue:200},{month:"May",year:"25",donations:250,revenue:150},{month:"Jun",year:"25",donations:400,revenue:180},{month:"Jul",year:"25",donations:220,revenue:140},{month:"Aug",year:"25",donations:280,revenue:160},{month:"Sep",year:"25",donations:320,revenue:190},{month:"Oct",year:"25",donations:200,revenue:120},{month:"Nov",year:"25",donations:380,revenue:170},{month:"Dec",year:"25",donations:450,revenue:220}];function tv({giving:e}){const[t,i]=j.useState("12-months"),[n,s]=j.useState(null),[l,r]=j.useState(null),[c,o]=j.useState("cumulative");if(!e)return a.jsxs("div",{className:"giving-summary",children:[a.jsx("div",{className:"giving-summary__header",children:a.jsx("h3",{className:"giving-summary__title",children:"Financial Summary"})}),a.jsxs("div",{className:"giving-summary__empty",children:[a.jsx("i",{className:"fa-solid fa-chart-pie"}),a.jsx("p",{children:"No financial data available"})]})]});const d=j.useMemo(()=>{let g=0,y=0;return sc.map(N=>(g+=N.donations,y+=N.revenue,{...N,cumDonations:g,cumRevenue:y}))},[]),u=j.useMemo(()=>c==="cumulative"?d.map(g=>({...g,displayDonations:g.cumDonations,displayRevenue:g.cumRevenue})):sc.map(g=>({...g,displayDonations:g.donations,displayRevenue:g.revenue})),[c,d]),v=j.useMemo(()=>{const g=Math.max(...u.map(N=>N.displayDonations+N.displayRevenue)),y=Math.pow(10,Math.floor(Math.log10(g)));return Math.ceil(g/y)*y},[u]),m=j.useMemo(()=>{const y=v/5;return Array.from({length:6},(N,_)=>Math.round(v-_*y))},[v]),f=g=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(g);return a.jsxs("div",{className:"giving-summary",children:[a.jsxs("div",{className:"giving-summary__header",children:[a.jsx("h3",{className:"giving-summary__title",children:"Financial Summary"}),a.jsx("div",{className:"giving-summary__controls",children:a.jsxs("select",{className:"giving-summary__period-select",value:t,onChange:g=>i(g.target.value),children:[a.jsx("option",{value:"12-months",children:"Last 12 months"}),a.jsx("option",{value:"6-months",children:"Last 6 months"}),a.jsx("option",{value:"ytd",children:"Year to date"}),a.jsx("option",{value:"all",children:"All time"})]})})]}),a.jsxs("div",{className:"giving-summary__hero",children:[a.jsx("span",{className:"giving-summary__hero-label",children:"Lifetime Value"}),a.jsx("span",{className:"giving-summary__hero-value",children:f(e.lifetimeValue)})]}),a.jsxs("div",{className:"giving-summary__value-split",children:[a.jsxs("div",{className:"giving-summary__value-card giving-summary__value-card--donations",children:[a.jsxs("div",{className:"giving-summary__value-card-header",children:[a.jsx("span",{className:"giving-summary__value-dot giving-summary__value-dot--donations"}),a.jsx("span",{className:"giving-summary__value-card-label",children:"Gifts"})]}),a.jsx("span",{className:"giving-summary__value-card-amount",children:f(e.donations||0)}),e.averageGift&&a.jsxs("span",{className:"giving-summary__value-card-detail",children:["Avg Gift: ",f(e.averageGift)]})]}),a.jsxs("div",{className:"giving-summary__value-card giving-summary__value-card--revenue",children:[a.jsxs("div",{className:"giving-summary__value-card-header",children:[a.jsx("span",{className:"giving-summary__value-dot giving-summary__value-dot--revenue"}),a.jsx("span",{className:"giving-summary__value-card-label",children:"Revenue"})]}),a.jsx("span",{className:"giving-summary__value-card-amount",children:f(e.revenue||0)}),a.jsx("span",{className:"giving-summary__value-card-detail",children:"Tickets, F&B, Merch"})]})]}),a.jsxs("div",{className:"giving-summary__chart",children:[a.jsx("div",{className:"giving-summary__chart-header",children:a.jsxs("div",{className:"giving-summary__view-toggle",children:[a.jsx("button",{className:`giving-summary__view-btn ${c==="cumulative"?"giving-summary__view-btn--active":""}`,onClick:()=>o("cumulative"),title:"Cumulative view",children:a.jsx("i",{className:"fa-solid fa-chart-line"})}),a.jsx("button",{className:`giving-summary__view-btn ${c==="nominal"?"giving-summary__view-btn--active":""}`,onClick:()=>o("nominal"),title:"Monthly view",children:a.jsx("i",{className:"fa-solid fa-chart-bar"})})]})}),a.jsxs("div",{className:"giving-summary__chart-grid",children:[c==="cumulative"?a.jsxs("div",{className:"giving-summary__svg-container",children:[a.jsxs("svg",{className:"giving-summary__area-svg",viewBox:"0 0 500 200",preserveAspectRatio:"none",children:[m.map((g,y)=>{const N=y/(m.length-1)*200;return a.jsx("line",{className:"giving-summary__grid-line",x1:"0",y1:N,x2:"500",y2:N},g)}),a.jsx("path",{className:"giving-summary__area giving-summary__area--revenue",d:`M0,200 L${u.map((y,N)=>{const _=N/(u.length-1)*500,p=200-y.displayRevenue/v*200;return`${_},${p}`}).join(" L")} L500,200 Z`}),a.jsx("path",{className:"giving-summary__area giving-summary__area--donations",d:(()=>{const g=u.map((N,_)=>{const p=_/(u.length-1)*500,h=200-(N.displayRevenue+N.displayDonations)/v*200;return`${p},${h}`}),y=[...u].reverse().map((N,_)=>{const p=(u.length-1-_)/(u.length-1)*500,h=200-N.displayRevenue/v*200;return`${p},${h}`});return`M${g.join(" L")} L${y.join(" L")} Z`})()}),a.jsx("path",{className:"giving-summary__area-line-hover",d:u.map((y,N)=>{const _=N/(u.length-1)*500,p=200-(y.displayRevenue+y.displayDonations)/v*200;return`${N===0?"M":"L"}${_},${p}`}).join(" "),onMouseEnter:()=>s("total"),onMouseLeave:()=>s(null)}),a.jsx("path",{className:"giving-summary__area-line giving-summary__area-line--total",d:u.map((y,N)=>{const _=N/(u.length-1)*500,p=200-(y.displayRevenue+y.displayDonations)/v*200;return`${N===0?"M":"L"}${_},${p}`}).join(" "),style:{pointerEvents:"none"}}),a.jsx("path",{className:"giving-summary__area-line-hover",d:u.map((y,N)=>{const _=N/(u.length-1)*500,p=200-y.displayRevenue/v*200;return`${N===0?"M":"L"}${_},${p}`}).join(" "),onMouseEnter:()=>s("revenue"),onMouseLeave:()=>s(null)}),a.jsx("path",{className:"giving-summary__area-line giving-summary__area-line--revenue",d:u.map((y,N)=>{const _=N/(u.length-1)*500,p=200-y.displayRevenue/v*200;return`${N===0?"M":"L"}${_},${p}`}).join(" "),style:{pointerEvents:"none"}})]}),n==="total"&&u.map((g,y)=>{const N=y/(u.length-1)*100,_=(g.displayRevenue+g.displayDonations)/v*100,p=l===y;return a.jsx("div",{className:`giving-summary__data-point giving-summary__data-point--total ${p?"giving-summary__data-point--active":""}`,style:{left:`${N}%`,bottom:`${_}%`},onMouseEnter:()=>{s("total"),r(y)},onMouseLeave:()=>r(null)},`total-${y}`)}),n==="revenue"&&u.map((g,y)=>{const N=y/(u.length-1)*100,_=g.displayRevenue/v*100,p=l===y;return a.jsx("div",{className:`giving-summary__data-point giving-summary__data-point--revenue ${p?"giving-summary__data-point--active":""}`,style:{left:`${N}%`,bottom:`${_}%`},onMouseEnter:()=>{s("revenue"),r(y)},onMouseLeave:()=>r(null)},`revenue-${y}`)}),l!==null&&n&&a.jsxs("div",{className:"giving-summary__chart-tooltip",style:{left:`${l/(u.length-1)*100}%`},children:[a.jsxs("div",{className:"giving-summary__tooltip-header",children:[u[l].month," '",u[l].year]}),a.jsxs("div",{className:"giving-summary__chart-tooltip-row",children:[a.jsx("span",{className:"giving-summary__tooltip-dot giving-summary__tooltip-dot--donations"}),a.jsx("span",{children:"Gifts:"}),a.jsx("span",{children:f(u[l].displayDonations)})]}),a.jsxs("div",{className:"giving-summary__chart-tooltip-row",children:[a.jsx("span",{className:"giving-summary__tooltip-dot giving-summary__tooltip-dot--revenue"}),a.jsx("span",{children:"Revenue:"}),a.jsx("span",{children:f(u[l].displayRevenue)})]}),a.jsxs("div",{className:"giving-summary__tooltip-total",children:["Total: ",f(u[l].displayDonations+u[l].displayRevenue)]})]})]}):a.jsxs("div",{className:"giving-summary__bars-container",children:[a.jsx("div",{className:"giving-summary__bar-grid-lines",children:m.map(g=>a.jsx("div",{className:"giving-summary__bar-grid-line"},g))}),a.jsx("div",{className:"giving-summary__bars",children:u.map((g,y)=>{const N=g.displayRevenue/v*100,_=g.displayDonations/v*100,p=l===y;return a.jsxs("div",{className:"giving-summary__bar-group",onMouseEnter:()=>r(y),onMouseLeave:()=>r(null),children:[a.jsxs("div",{className:`giving-summary__bar-stack ${p?"giving-summary__bar-stack--hovered":""}`,children:[a.jsx("div",{className:"giving-summary__bar giving-summary__bar--donations",style:{height:`${_}%`}}),a.jsx("div",{className:"giving-summary__bar giving-summary__bar--revenue",style:{height:`${N}%`}})]}),p&&a.jsxs("div",{className:"giving-summary__bar-tooltip",children:[a.jsxs("div",{className:"giving-summary__tooltip-header",children:[g.month," '",g.year]}),a.jsxs("div",{className:"giving-summary__chart-tooltip-row",children:[a.jsx("span",{className:"giving-summary__tooltip-dot giving-summary__tooltip-dot--donations"}),a.jsx("span",{children:"Gifts:"}),a.jsx("span",{children:f(g.displayDonations)})]}),a.jsxs("div",{className:"giving-summary__chart-tooltip-row",children:[a.jsx("span",{className:"giving-summary__tooltip-dot giving-summary__tooltip-dot--revenue"}),a.jsx("span",{children:"Revenue:"}),a.jsx("span",{children:f(g.displayRevenue)})]}),a.jsxs("div",{className:"giving-summary__tooltip-total",children:["Total: ",f(g.displayDonations+g.displayRevenue)]})]})]},y)})})]}),a.jsxs("div",{className:"giving-summary__y-axis",children:[m.map(g=>a.jsx("span",{className:"giving-summary__y-axis-label",children:g>=1e3?`${(g/1e3).toFixed(g%1e3===0?0:1)}k`:g},g)),a.jsx("span",{className:"giving-summary__y-axis-unit",children:"USD"})]})]}),a.jsx("div",{className:"giving-summary__chart-labels",children:u.map((g,y)=>a.jsxs("span",{className:"giving-summary__chart-label",children:[g.month," '",g.year]},y))})]}),(e.firstTransaction||e.lastTransaction||e.largestTransaction)&&a.jsxs("div",{className:"giving-summary__transactions",children:[e.firstTransaction&&a.jsxs("div",{className:"giving-summary__transaction-stat",children:[a.jsx("span",{className:"giving-summary__transaction-label",children:"First Transaction"}),a.jsxs("div",{className:"giving-summary__transaction-value",children:[a.jsx("span",{className:"giving-summary__transaction-amount",children:f(e.firstTransaction.amount)}),a.jsx("span",{className:"giving-summary__transaction-date",children:e.firstTransaction.date})]})]}),e.lastTransaction&&a.jsxs("div",{className:"giving-summary__transaction-stat",children:[a.jsx("span",{className:"giving-summary__transaction-label",children:"Last Transaction"}),a.jsxs("div",{className:"giving-summary__transaction-value",children:[a.jsx("span",{className:"giving-summary__transaction-amount",children:f(e.lastTransaction.amount)}),a.jsx("span",{className:"giving-summary__transaction-date",children:e.lastTransaction.date})]})]}),e.largestTransaction&&a.jsxs("div",{className:"giving-summary__transaction-stat",children:[a.jsx("span",{className:"giving-summary__transaction-label",children:"Largest Transaction"}),a.jsxs("div",{className:"giving-summary__transaction-value",children:[a.jsx("span",{className:"giving-summary__transaction-amount giving-summary__transaction-amount--highlight",children:f(e.largestTransaction.amount)}),a.jsx("span",{className:"giving-summary__transaction-date",children:e.largestTransaction.date})]})]})]}),(e.byFund||e.byCampaign)&&a.jsxs("div",{className:"giving-summary__attribution",children:[a.jsx("h4",{className:"giving-summary__attribution-header",children:"Gift Attribution"}),a.jsxs("div",{className:"giving-summary__breakdowns",children:[e.byFund&&Object.keys(e.byFund).length>0&&a.jsxs("div",{className:"giving-summary__breakdown",children:[a.jsx("h5",{className:"giving-summary__breakdown-title",children:"By Fund"}),a.jsx("div",{className:"giving-summary__breakdown-list",children:Object.entries(e.byFund).map(([g,y])=>{const N=e.donations?y.total/e.donations*100:0;return a.jsxs("div",{className:"giving-summary__breakdown-item",children:[a.jsxs("div",{className:"giving-summary__breakdown-header",children:[a.jsx("span",{className:"giving-summary__breakdown-name",children:y.name}),a.jsx("span",{className:"giving-summary__breakdown-amount",children:f(y.total)})]}),a.jsx("div",{className:"giving-summary__breakdown-bar",children:a.jsx("div",{className:"giving-summary__breakdown-bar-fill giving-summary__breakdown-bar-fill--fund",style:{width:`${N}%`}})}),a.jsxs("span",{className:"giving-summary__breakdown-percent",children:[N.toFixed(0),"%"]})]},g)})})]}),e.byCampaign&&Object.keys(e.byCampaign).length>0&&a.jsxs("div",{className:"giving-summary__breakdown",children:[a.jsx("h5",{className:"giving-summary__breakdown-title",children:"By Campaign"}),a.jsx("div",{className:"giving-summary__breakdown-list",children:Object.entries(e.byCampaign).map(([g,y])=>{const N=e.donations?y.total/e.donations*100:0;return a.jsxs("div",{className:"giving-summary__breakdown-item",children:[a.jsxs("div",{className:"giving-summary__breakdown-header",children:[a.jsx("span",{className:"giving-summary__breakdown-name",children:y.name}),a.jsx("span",{className:"giving-summary__breakdown-amount",children:f(y.total)})]}),a.jsx("div",{className:"giving-summary__breakdown-bar",children:a.jsx("div",{className:"giving-summary__breakdown-bar-fill giving-summary__breakdown-bar-fill--campaign",style:{width:`${N}%`}})}),a.jsxs("span",{className:"giving-summary__breakdown-percent",children:[N.toFixed(0),"%"]})]},g)})})]})]})]})]})}const lc={donation:{icon:"fa-hand-holding-dollar",title:"Gift",filter:"gifts"},membership:{icon:"fa-id-card",title:"Membership",filter:"gifts"},"pledge-payment":{icon:"fa-file-invoice-dollar",title:"Pledge Payment",filter:"gifts"},recurring:{icon:"fa-rotate",title:"Recurring Gift",filter:"gifts"},phone:{icon:"fa-phone",title:"Phone call",filter:"communications"},email:{icon:"fa-envelope",title:"Email",filter:"communications"},meeting:{icon:"fa-handshake",title:"Meeting",filter:"communications"},event:{icon:"fa-building-columns",title:"Attended",filter:"events"},ticket:{icon:"fa-ticket",title:"Buy ticket",filter:"events"},note:{icon:"fa-note-sticky",title:"Note Added",filter:"communications"},letter:{icon:"fa-envelope-open-text",title:"Letter",filter:"communications"},visit:{icon:"fa-door-open",title:"Visit",filter:"events"},task:{icon:"fa-list-check",title:"Task",filter:"communications"}},xn=e=>e?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e):null,av=xf;function sm({gifts:e=[],activities:t=[],onAddActivity:i,onRecordGift:n}){const[s,l]=j.useState(null),[r,c]=j.useState("all"),[o,d]=j.useState(6),u=h=>h.type==="pledge-payment"?"pledge-payment":h.type==="recurring"?"recurring":h.type==="membership"?"membership":"donation",m=[...e.map(h=>({id:h.id,type:u(h),description:h.description,date:h.date,amount:h.amount,details:{fund:h.fundId?{id:h.fundId,name:Ui(h.fundId)}:null,campaign:h.campaignId?{id:h.campaignId,name:ha(h.campaignId)}:null,appeal:h.appealId?{id:h.appealId,name:_f(h.campaignId,h.appealId)}:null,softCredits:h.softCredits,deductible:h.deductible,benefitsValue:h.benefitsValue,pledgeId:h.pledgeId,recurringProfileId:h.recurringProfileId}})),...t].sort((h,x)=>new Date(x.date)-new Date(h.date)),f=r==="all"?m:m.filter(h=>{var x;return((x=lc[h.type])==null?void 0:x.filter)===r}),g=f.slice(0,o),y=f.length>o,N=h=>{l(s===h?null:h)},_=()=>{i?i():alert("This would open a modal to add a new activity.")},p=()=>{d(h=>h+5)};return a.jsxs("div",{className:"activity-timeline",children:[a.jsxs("div",{className:"activity-timeline__header",children:[a.jsx("h3",{className:"activity-timeline__title",children:"Recent Activity"}),a.jsxs("div",{className:"activity-timeline__filters",children:[a.jsx("button",{className:`activity-timeline__filter ${r==="all"?"activity-timeline__filter--active":""}`,onClick:()=>c("all"),children:"All"}),a.jsx("button",{className:`activity-timeline__filter ${r==="gifts"?"activity-timeline__filter--active":""}`,onClick:()=>c("gifts"),children:"Gifts"}),a.jsx("button",{className:`activity-timeline__filter ${r==="events"?"activity-timeline__filter--active":""}`,onClick:()=>c("events"),children:"Events"}),a.jsx("button",{className:`activity-timeline__filter ${r==="communications"?"activity-timeline__filter--active":""}`,onClick:()=>c("communications"),children:"Communications"})]}),a.jsxs("div",{className:"activity-timeline__actions",children:[n&&a.jsx("button",{className:"activity-timeline__record-gift-btn",onClick:n,children:"Record gift"}),a.jsx("button",{className:"activity-timeline__add-btn",onClick:_,children:"Add activity"})]})]}),a.jsx("div",{className:"activity-timeline__list",children:g.length===0?a.jsxs("div",{className:"activity-timeline__empty",children:[a.jsx("i",{className:"fa-solid fa-clock-rotate-left"}),a.jsx("p",{children:"No activities found"})]}):g.map((h,x)=>{const w=lc[h.type]||{icon:"fa-circle",title:h.type},b=s===h.id,P=x===g.length-1;return a.jsxs("div",{className:`activity-timeline__item ${b?"activity-timeline__item--expanded":""}`,children:[a.jsxs("div",{className:"activity-timeline__connector",children:[a.jsx("div",{className:"activity-timeline__dot",children:a.jsx("i",{className:`fa-solid ${w.icon}`})}),!P&&a.jsx("div",{className:"activity-timeline__line"})]}),a.jsxs("div",{className:"activity-timeline__content",children:[a.jsxs("div",{className:"activity-timeline__row",onClick:()=>N(h.id),children:[a.jsxs("div",{className:"activity-timeline__text",children:[a.jsx("span",{className:"activity-timeline__item-title",children:w.title}),a.jsx("span",{className:"activity-timeline__subtitle",children:h.description})]}),a.jsxs("div",{className:"activity-timeline__meta",children:[h.amount&&a.jsx("span",{className:"activity-timeline__amount",children:xn(h.amount)}),a.jsx("span",{className:"activity-timeline__date",children:av(h.date)}),a.jsx("i",{className:`fa-solid fa-chevron-${b?"up":"down"} activity-timeline__chevron`})]})]}),b&&a.jsx("div",{className:"activity-timeline__details",children:a.jsx(iv,{activity:h})})]})]},h.id)})}),y&&a.jsx("button",{className:"activity-timeline__load-more",onClick:p,children:"View more activities"})]})}function iv({activity:e}){const{type:t,details:i,amount:n}=e;if(!i)return null;switch(t){case"donation":case"membership":case"pledge-payment":case"recurring":return a.jsxs("div",{className:"activity-details activity-details--donation",children:[i.fund&&a.jsxs("div",{className:"activity-details__row",children:[a.jsx("span",{className:"activity-details__label",children:"Fund:"}),a.jsx("span",{className:"activity-details__value",children:i.fund.name})]}),i.campaign&&a.jsxs("div",{className:"activity-details__row",children:[a.jsx("span",{className:"activity-details__label",children:"Campaign:"}),a.jsx("span",{className:"activity-details__value",children:i.campaign.name})]}),i.appeal&&a.jsxs("div",{className:"activity-details__row",children:[a.jsx("span",{className:"activity-details__label",children:"Appeal:"}),a.jsx("span",{className:"activity-details__value",children:i.appeal.name})]}),i.softCredits&&i.softCredits.length>0&&a.jsxs("div",{className:"activity-details__row",children:[a.jsx("span",{className:"activity-details__label",children:"Soft Credit:"}),a.jsx("span",{className:"activity-details__value",children:i.softCredits.map(s=>`${s.name} (${s.type})`).join(", ")})]}),(i.deductible||i.benefitsValue)&&a.jsxs("div",{className:"activity-details__tax",children:[i.deductible&&a.jsxs("span",{children:["Tax Deductible: ",xn(i.deductible)]}),i.benefitsValue&&a.jsxs("span",{children:["Benefits Value: ",xn(i.benefitsValue)]})]})]});case"email":return a.jsxs("div",{className:"activity-details activity-details--email",children:[i.to&&a.jsxs("p",{className:"activity-details__field",children:[a.jsx("strong",{children:"To:"})," ",i.to]}),i.subject&&a.jsxs("p",{className:"activity-details__field",children:[a.jsx("strong",{children:"Subject:"}),' "',i.subject,'"']}),i.attachment&&a.jsxs("p",{className:"activity-details__field",children:[a.jsx("strong",{children:"Attachment:"})," ",i.attachment]}),i.content&&a.jsxs("div",{className:"activity-details__content",children:[a.jsx("strong",{children:"Content:"}),a.jsx("p",{className:"activity-details__email-body",children:i.content})]})]});case"phone":case"meeting":return a.jsxs("div",{className:"activity-details activity-details--phone",children:[i.location&&a.jsxs("div",{className:"activity-details__row",children:[a.jsx("span",{className:"activity-details__label",children:"Location:"}),a.jsx("span",{className:"activity-details__value",children:i.location})]}),i.duration&&a.jsxs("div",{className:"activity-details__row",children:[a.jsx("span",{className:"activity-details__label",children:"Duration:"}),a.jsx("span",{className:"activity-details__value",children:i.duration})]}),i.outcome&&a.jsxs("div",{className:"activity-details__row",children:[a.jsx("span",{className:"activity-details__label",children:"Outcome:"}),a.jsx("span",{className:"activity-details__value",children:i.outcome})]}),i.notes&&a.jsxs("div",{className:"activity-details__notes",children:[a.jsx("strong",{children:"Notes:"}),a.jsx("p",{children:i.notes})]})]});case"event":return a.jsxs("div",{className:"activity-details activity-details--event",children:[i.venue&&a.jsxs("div",{className:"activity-details__row",children:[a.jsx("span",{className:"activity-details__label",children:"Venue:"}),a.jsx("span",{className:"activity-details__value",children:i.venue})]}),i.guests&&a.jsxs("div",{className:"activity-details__row",children:[a.jsx("span",{className:"activity-details__label",children:"Guests:"}),a.jsx("span",{className:"activity-details__value",children:i.guests})]}),i.table&&a.jsxs("div",{className:"activity-details__row",children:[a.jsx("span",{className:"activity-details__label",children:"Table/Section:"}),a.jsx("span",{className:"activity-details__value",children:i.table})]})]});case"ticket":return a.jsxs("div",{className:"activity-details activity-details--ticket",children:[i.event&&a.jsxs("div",{className:"activity-details__row",children:[a.jsx("span",{className:"activity-details__label",children:"Event:"}),a.jsx("span",{className:"activity-details__value",children:i.event})]}),i.quantity&&a.jsxs("div",{className:"activity-details__row",children:[a.jsx("span",{className:"activity-details__label",children:"Quantity:"}),a.jsxs("span",{className:"activity-details__value",children:[i.quantity,"x ",i.ticketType]})]}),n&&a.jsxs("div",{className:"activity-details__row",children:[a.jsx("span",{className:"activity-details__label",children:"Amount:"}),a.jsx("span",{className:"activity-details__value",children:xn(n)})]})]});case"note":return a.jsxs("div",{className:"activity-details activity-details--note",children:[i.category&&a.jsxs("div",{className:"activity-details__row",children:[a.jsx("span",{className:"activity-details__label",children:"Category:"}),a.jsx("span",{className:"activity-details__value",children:i.category})]}),i.note&&a.jsx("div",{className:"activity-details__notes",children:a.jsx("p",{children:i.note})}),i.followUp&&a.jsxs("div",{className:"activity-details__row",children:[a.jsx("span",{className:"activity-details__label",children:"Follow-up:"}),a.jsx("span",{className:"activity-details__value",children:i.followUp})]})]});default:return a.jsx("div",{className:"activity-details",children:Object.entries(i).map(([s,l])=>a.jsxs("div",{className:"activity-details__row",children:[a.jsxs("span",{className:"activity-details__label",children:[s,":"]}),a.jsx("span",{className:"activity-details__value",children:typeof l=="object"?JSON.stringify(l):String(l)})]},s))})}}const ai=[{id:"cold",label:"Cold",icon:"fa-snowflake"},{id:"cool",label:"Cool",icon:"fa-temperature-low"},{id:"warm",label:"Warm",icon:"fa-temperature-half"},{id:"hot",label:"Hot",icon:"fa-temperature-high"},{id:"on-fire",label:"On Fire",icon:"fa-fire-flame-curved"}],rc={donation:{label:"Donation",icon:"fa-heart",color:"var(--color-success)"},attendance:{label:"Visit",icon:"fa-ticket",color:"var(--color-primary)"},purchase:{label:"Purchase",icon:"fa-bag-shopping",color:"var(--color-warning)"},membership:{label:"Membership",icon:"fa-id-card",color:"var(--color-info)"}},nv=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),sv=e=>{if(!e||e.length===0)return 0;const t=e.reduce((s,l)=>s+(l.count||0),0),i=e.some(s=>s.type==="donation"),n=e.some(s=>s.type==="membership");return i||n?t>=2?4:3:t>=4?4:t>=3?3:t>=2?2:1},lv=e=>{const[t,i]=e.split("-");return new Date(parseInt(t,10),parseInt(i,10)-1,1).toLocaleDateString("en-US",{month:"short"})},rv=(e,t)=>{const[i,n]=e.split("-");return`${new Date(parseInt(i,10),parseInt(n,10)-1,1).toLocaleDateString("en-US",{month:"long",year:"numeric"})}, Week ${t+1}`};function ov({engagement:e}){const[t,i]=j.useState(null),n=(e==null?void 0:e.activityHistory)&&e.activityHistory.length>0,[s,l]=j.useState(n?"heatmap":"gauge");if(!e)return a.jsx("div",{className:"engagement-panel wrapper-card",children:a.jsxs("div",{className:"engagement-panel__empty",children:[a.jsx("i",{className:"fa-solid fa-chart-simple"}),a.jsx("p",{children:"No engagement data available"})]})});const r=ai.findIndex(d=>d.id===e.level),c=ai[r]||ai[0],o=()=>{l(d=>d==="gauge"?"heatmap":"gauge")};return a.jsxs("div",{className:"engagement-panel wrapper-card",children:[n&&a.jsx("div",{className:"engagement-panel__view-toggle",children:a.jsx("button",{className:`engagement-panel__toggle-btn ${s==="gauge"?"engagement-panel__toggle-btn--active":""}`,onClick:o,title:s==="gauge"?"Switch to heatmap view":"Switch to gauge view",children:a.jsx("i",{className:`fa-solid ${s==="gauge"?"fa-table-cells":"fa-chart-simple"}`})})}),s==="gauge"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"engagement-panel__section engagement-panel__section--engagement engagement-panel__section--first",children:[a.jsx("div",{className:"engagement-panel__section-header",children:a.jsx("span",{className:"engagement-panel__section-title",children:"Engagement Level"})}),a.jsx("div",{className:"engagement-panel__levels",children:ai.map((d,u)=>{const v=u<=r,m=u===r,f=d.id==="on-fire"&&m;return a.jsxs("div",{className:"engagement-panel__step",children:[a.jsxs("div",{className:"engagement-panel__step-icon-wrapper",children:[u>0&&a.jsx("div",{className:`engagement-panel__step-line engagement-panel__step-line--start ${v?"engagement-panel__step-line--active":""}`}),a.jsx("div",{className:`engagement-panel__level ${v?"engagement-panel__level--active":""} ${f?"engagement-panel__level--on-fire":""}`,children:a.jsx("i",{className:`fa-solid ${d.icon}`})}),u<ai.length-1&&a.jsx("div",{className:`engagement-panel__step-line engagement-panel__step-line--end ${v&&u<r?"engagement-panel__step-line--active":""}`})]}),a.jsx("span",{className:`engagement-panel__label ${m?f?"engagement-panel__label--on-fire":"engagement-panel__label--active":""}`,children:d.label})]},d.id)})})]}),a.jsxs("div",{className:"engagement-panel__section",children:[a.jsxs("div",{className:"engagement-panel__section-header",children:[a.jsx("span",{className:"engagement-panel__section-title",children:"Visits"}),a.jsx("i",{className:"fa-solid fa-circle-info engagement-panel__info-icon"})]}),a.jsxs("div",{className:"engagement-panel__insight-box",children:[a.jsxs("div",{className:"engagement-panel__insight-content",children:[a.jsxs("span",{className:"engagement-panel__visits",children:[e.visits," visits"]}),a.jsxs("span",{className:"engagement-panel__last-visit",children:["Last visit: ",e.lastVisit]})]}),a.jsx("i",{className:"fa-solid fa-building engagement-panel__venue-icon"})]})]})]}),s==="heatmap"&&e.activityHistory&&a.jsxs("div",{className:"engagement-panel__section engagement-panel__section--activity engagement-panel__section--first",children:[a.jsxs("div",{className:"engagement-panel__section-header",children:[a.jsxs("div",{className:"engagement-panel__activity-title-row",children:[a.jsx("span",{className:"engagement-panel__section-title",children:"Activity"}),a.jsxs("span",{className:`engagement-panel__engagement-badge engagement-panel__engagement-badge--${e.level}`,"data-tooltip":"Engagement level: Based on activity frequency and recency",children:[a.jsx("i",{className:`fa-solid ${c==null?void 0:c.icon}`}),c==null?void 0:c.label]})]}),a.jsx("span",{className:"engagement-panel__activity-period",children:"Trailing 12 months"})]}),a.jsxs("div",{className:"engagement-panel__activity-graph",children:[a.jsx("div",{className:"engagement-panel__activity-months",children:e.activityHistory.map(d=>a.jsx("span",{className:"engagement-panel__activity-month-label",children:lv(d.month)},d.month))}),a.jsx("div",{className:"engagement-panel__activity-matrix",children:[0,1,2,3].map(d=>a.jsx("div",{className:"engagement-panel__activity-row",children:e.activityHistory.map((u,v)=>{var y;const m=u.weeks[d],f=sv((m==null?void 0:m.activities)||[]),g=`${u.month}-w${d}`;return((m==null?void 0:m.activities)||[]).reduce((N,_)=>N+(_.count||0),0),a.jsx("div",{className:`engagement-panel__activity-cell engagement-panel__activity-cell--level-${f}`,onMouseEnter:()=>i(g),onMouseLeave:()=>i(null),children:t===g&&((y=m==null?void 0:m.activities)==null?void 0:y.length)>0&&a.jsxs("div",{className:"engagement-panel__activity-tooltip",children:[a.jsx("div",{className:"engagement-panel__tooltip-header",children:rv(u.month,d)}),m.activities.map((N,_)=>{var p,h;return a.jsxs("div",{className:"engagement-panel__tooltip-item",children:[a.jsx("i",{className:`fa-solid ${(p=rc[N.type])==null?void 0:p.icon}`}),a.jsxs("span",{children:[N.count," ",(h=rc[N.type])==null?void 0:h.label,N.count>1?"s":""]}),N.value&&a.jsx("span",{className:"engagement-panel__tooltip-value",children:nv(N.value)})]},_)})]})},g)})},d))}),a.jsxs("div",{className:"engagement-panel__activity-legend",children:[a.jsx("span",{className:"engagement-panel__activity-legend-label",children:"Less"}),a.jsx("div",{className:"engagement-panel__activity-cell engagement-panel__activity-cell--level-0 engagement-panel__activity-cell--legend"}),a.jsx("div",{className:"engagement-panel__activity-cell engagement-panel__activity-cell--level-1 engagement-panel__activity-cell--legend"}),a.jsx("div",{className:"engagement-panel__activity-cell engagement-panel__activity-cell--level-2 engagement-panel__activity-cell--legend"}),a.jsx("div",{className:"engagement-panel__activity-cell engagement-panel__activity-cell--level-3 engagement-panel__activity-cell--legend"}),a.jsx("div",{className:"engagement-panel__activity-cell engagement-panel__activity-cell--level-4 engagement-panel__activity-cell--legend"}),a.jsx("span",{className:"engagement-panel__activity-legend-label",children:"More"})]})]}),a.jsxs("p",{className:"engagement-panel__activity-explanation",children:[a.jsx("i",{className:"fa-solid fa-circle-info"}),"Patron-initiated activity (donations, visits, purchases) from the last 12 months."]})]})]})}function cv({insights:e}){return e?a.jsxs("div",{className:"wealth-insights wrapper-card",children:[a.jsxs("div",{className:"wealth-insights__header",children:[a.jsx("h4",{className:"wealth-insights__title",children:"Wealth Insights"}),a.jsxs("div",{className:"wealth-insights__powered-by",children:[a.jsx("span",{children:"Powered by"}),a.jsx("img",{src:"/donorsearch.png",alt:"DonorSearch",className:"wealth-insights__logo"})]})]}),a.jsxs("div",{className:"wealth-insights__content",children:[a.jsxs("div",{className:"wealth-insights__propensity",children:[a.jsx("span",{className:"wealth-insights__propensity-label",children:"Propensity Score"}),a.jsx("span",{className:"wealth-insights__propensity-score",children:e.propensityScore})]}),a.jsx("div",{className:"wealth-insights__divider"}),a.jsx("p",{className:"wealth-insights__description",children:e.description}),a.jsxs("a",{href:"#",className:"wealth-insights__link",children:["View full profile",a.jsx("i",{className:"fa-solid fa-arrow-up-right-from-square"})]})]})]}):a.jsxs("div",{className:"wealth-insights wrapper-card",children:[a.jsxs("div",{className:"wealth-insights__header",children:[a.jsx("h4",{className:"wealth-insights__title",children:"Wealth Insights"}),a.jsxs("div",{className:"wealth-insights__powered-by",children:[a.jsx("span",{children:"Powered by"}),a.jsx("img",{src:"/donorsearch.png",alt:"DonorSearch",className:"wealth-insights__logo"})]})]}),a.jsxs("div",{className:"wealth-insights__empty",children:[a.jsx("i",{className:"fa-solid fa-chart-pie"}),a.jsx("p",{children:"No wealth data available"}),a.jsx("button",{className:"wealth-insights__request-btn",children:"Request screening"})]})]})}const oc={intro:"Here's what we know about this patron:",points:["Consistent donor with increasing contribution amounts over time","High engagement with events - attended 12 events this year","Prefers email communication, opens 89% of emails","Connected to Johnson Family Foundation (DAF)"]},dv=[{id:1,icon:"fa-calendar",title:"Schedule a meeting",description:"Their engagement score suggests they're ready for a personal touchpoint.",action:"Schedule"},{id:2,icon:"fa-envelope",title:"Send thank you note",description:"It's been 30 days since their last donation.",action:"Send"}];function uv(){return a.jsxs("div",{className:"ai-insights wrapper-card",children:[a.jsxs("div",{className:"ai-insights__header",children:[a.jsxs("div",{className:"ai-insights__title",children:[a.jsx("img",{src:"/fever-logo.svg",alt:"Fever",className:"ai-insights__logo"}),a.jsxs("span",{className:"ai-insights__title-text",children:[a.jsx("span",{className:"ai-insights__title-highlight",children:"AI"})," Insights"]}),a.jsx("i",{className:"fa-solid fa-sparkles ai-insights__sparkles"})]}),a.jsx("button",{className:"ai-insights__configure",children:"Configure"})]}),a.jsxs("div",{className:"ai-insights__summary",children:[a.jsx("p",{className:"ai-insights__summary-intro",children:oc.intro}),a.jsx("ul",{className:"ai-insights__summary-list",children:oc.points.map((e,t)=>a.jsx("li",{className:"ai-insights__summary-item",children:e},t))})]}),a.jsx("div",{className:"ai-insights__tips",children:dv.map(e=>a.jsxs("div",{className:"ai-insights__tip-card",children:[a.jsx("i",{className:`fa-solid ${e.icon} ai-insights__tip-icon`}),a.jsxs("div",{className:"ai-insights__tip-content",children:[a.jsx("h5",{className:"ai-insights__tip-title",children:e.title}),a.jsx("p",{className:"ai-insights__tip-description",children:e.description})]}),a.jsx("button",{className:"ai-insights__tip-action",children:e.action})]},e.id))})]})}function mv({patronId:e,onNavigateToPatron:t}){const i=zf(e),n=l=>{switch(l){case"household":return"var(--color-primary)";case"professional":return"var(--color-warning)";case"organization":return"var(--color-success)";default:return"var(--color-text-muted)"}},s=l=>{l.linkedPatron&&t&&t(l.linkedPatron.id)};return i.length===0?a.jsxs("div",{className:"relationships-summary",children:[a.jsx("div",{className:"relationships-summary__header",children:a.jsx("h4",{className:"relationships-summary__title",children:"Relationships"})}),a.jsx("div",{className:"relationships-summary__empty",children:a.jsx("p",{children:"No relationships recorded yet."})}),a.jsx("button",{className:"relationships-summary__add",children:"Add relationship"})]}):a.jsxs("div",{className:"relationships-summary",children:[a.jsxs("div",{className:"relationships-summary__header",children:[a.jsx("h4",{className:"relationships-summary__title",children:"Relationships"}),a.jsxs("button",{className:"relationships-summary__view-all",children:["View All",a.jsx("i",{className:"fa-solid fa-arrow-right"})]})]}),a.jsx("div",{className:"relationships-summary__list",children:i.map(l=>{var r;return a.jsxs("div",{className:`relationships-summary__item ${l.linkedPatron?"relationships-summary__item--clickable":""}`,onClick:()=>s(l),children:[a.jsx("div",{className:"relationships-summary__avatar",style:{"--avatar-color":n(l.type)},children:(r=l.linkedPatron)!=null&&r.photo?a.jsx("img",{src:l.linkedPatron.photo,alt:l.displayName}):a.jsx("span",{children:l.initials})}),a.jsxs("div",{className:"relationships-summary__info",children:[a.jsx("span",{className:"relationships-summary__name",children:l.displayName}),a.jsx("span",{className:"relationships-summary__role",children:l.role})]}),l.linkedPatron&&a.jsx("button",{className:"relationships-summary__action",title:"View profile",children:a.jsx("i",{className:"fa-solid fa-chevron-right"})}),!l.linkedPatron&&l.externalContact&&a.jsx("span",{className:"relationships-summary__external",title:"External contact",children:a.jsx("i",{className:"fa-solid fa-arrow-up-right-from-square"})})]},l.id)})}),a.jsx("button",{className:"relationships-summary__add",children:"Add relationship"})]})}function cc({patron:e,onSelectOpportunity:t,onCreateOpportunity:i,onRecordGift:n,onLogActivity:s,onNavigateToPatron:l}){const r=na(e);return a.jsx("div",{className:"summary-tab",children:a.jsxs("div",{className:"summary-tab__main",children:[a.jsxs("div",{className:"summary-tab__left",children:[a.jsx(tv,{giving:e.giving}),a.jsx(sm,{gifts:hs(e.id),activities:em(e.id),onAddActivity:s,onRecordGift:n})]}),a.jsxs("div",{className:"summary-tab__right",children:[r&&a.jsx(ev,{patronId:e.id,onSelectOpportunity:t,onCreateOpportunity:i}),a.jsx(ov,{engagement:e.engagement}),a.jsx(cv,{insights:e.wealthInsights}),a.jsx(uv,{}),a.jsx(mv,{patronId:e.id,onNavigateToPatron:l})]})]})})}const ga=e=>e==null?"$0":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),dc={active:{label:"Active",className:"pledges-panel__badge--active"},fulfilled:{label:"Fulfilled",className:"pledges-panel__badge--fulfilled"},cancelled:{label:"Cancelled",className:"pledges-panel__badge--cancelled"},delinquent:{label:"Delinquent",className:"pledges-panel__badge--delinquent"}},pv={"one-time":"One-Time",monthly:"Monthly",quarterly:"Quarterly",annually:"Annually"};function hv({patronId:e}){const t=Df(e);if(t.length===0)return a.jsxs("div",{className:"pledges-panel wrapper-card",children:[a.jsx("div",{className:"pledges-panel__header",children:a.jsx("h4",{className:"pledges-panel__title",children:"Pledges"})}),a.jsxs("div",{className:"pledges-panel__empty",children:[a.jsx("i",{className:"fa-solid fa-file-invoice-dollar"}),a.jsx("p",{children:"No pledges on file"})]})]});const i=t.reduce((l,r)=>l+r.amount,0),n=t.reduce((l,r)=>l+r.totalPaid,0),s=t.reduce((l,r)=>l+tc(r.id),0);return a.jsxs("div",{className:"pledges-panel wrapper-card",children:[a.jsx("div",{className:"pledges-panel__header",children:a.jsxs("h4",{className:"pledges-panel__title",children:["Pledges",a.jsx("span",{className:"pledges-panel__count",children:t.length})]})}),a.jsxs("div",{className:"pledges-panel__stats",children:[a.jsxs("div",{className:"pledges-panel__stat",children:[a.jsx("span",{className:"pledges-panel__stat-value",children:ga(i)}),a.jsx("span",{className:"pledges-panel__stat-label",children:"Total Pledged"})]}),a.jsxs("div",{className:"pledges-panel__stat",children:[a.jsx("span",{className:"pledges-panel__stat-value",children:ga(n)}),a.jsx("span",{className:"pledges-panel__stat-label",children:"Total Paid"})]}),a.jsxs("div",{className:"pledges-panel__stat",children:[a.jsx("span",{className:"pledges-panel__stat-value",children:ga(s)}),a.jsx("span",{className:"pledges-panel__stat-label",children:"Balance"})]})]}),a.jsx("div",{className:"pledges-panel__list",children:t.map(l=>{const r=Zu(l.id),c=tc(l.id),o=l.amount>0?(l.amount-c)/l.amount*100:0,d=dc[l.status]||dc.active,u=Ui(l.fundId),v=ha(l.campaignId),m=l.assignedToId?qe(l.assignedToId):null;return a.jsxs("div",{className:"pledges-panel__card",children:[a.jsxs("div",{className:"pledges-panel__card-top",children:[a.jsx("div",{className:"pledges-panel__card-amount",children:ga(l.amount)}),a.jsx("span",{className:`pledges-panel__badge ${d.className}`,children:d.label})]}),a.jsxs("div",{className:"pledges-panel__card-designation",children:[v&&a.jsx("span",{className:"pledges-panel__card-campaign",children:v}),u&&a.jsx("span",{className:"pledges-panel__card-fund",children:u})]}),a.jsxs("div",{className:"pledges-panel__progress",children:[a.jsx("div",{className:"pledges-panel__progress-bar",children:a.jsx("div",{className:"pledges-panel__progress-fill",style:{width:`${Math.min(o,100)}%`}})}),a.jsxs("div",{className:"pledges-panel__progress-labels",children:[a.jsxs("span",{children:[ga(l.amount-c)," paid"]}),a.jsxs("span",{children:[ga(c)," remaining"]})]})]}),a.jsxs("div",{className:"pledges-panel__card-details",children:[a.jsxs("div",{className:"pledges-panel__detail",children:[a.jsx("i",{className:"fa-solid fa-calendar"}),a.jsx("span",{children:pv[l.frequency]||l.frequency})]}),a.jsxs("div",{className:"pledges-panel__detail",children:[a.jsx("i",{className:"fa-solid fa-receipt"}),a.jsxs("span",{children:[r.length," payment",r.length!==1?"s":""]})]}),l.nextPaymentDate&&l.status==="active"&&a.jsxs("div",{className:"pledges-panel__detail",children:[a.jsx("i",{className:"fa-solid fa-clock"}),a.jsxs("span",{children:["Next: ",l.nextPaymentDate]})]})]}),m&&a.jsxs("div",{className:"pledges-panel__card-assignee",children:[a.jsx("i",{className:"fa-solid fa-user"}),a.jsx("span",{children:m})]}),l.notes&&a.jsxs("div",{className:"pledges-panel__card-notes",children:[a.jsx("i",{className:"fa-solid fa-note-sticky"}),a.jsx("span",{children:l.notes})]})]},l.id)})})]})}const Qs=e=>e==null?"$0":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),uc={active:{label:"Active",className:"recurring-panel__badge--active"},paused:{label:"Paused",className:"recurring-panel__badge--paused"},cancelled:{label:"Cancelled",className:"recurring-panel__badge--cancelled"},completed:{label:"Completed",className:"recurring-panel__badge--completed"}},fv={monthly:"Monthly",quarterly:"Quarterly",annually:"Annually"},mc={visa:"fa-cc-visa",mastercard:"fa-cc-mastercard",amex:"fa-cc-amex",discover:"fa-cc-discover",default:"fa-credit-card"};function vv({patronId:e}){const t=Af(e);if(t.length===0)return a.jsxs("div",{className:"recurring-panel wrapper-card",children:[a.jsx("div",{className:"recurring-panel__header",children:a.jsx("h4",{className:"recurring-panel__title",children:"Recurring Gifts"})}),a.jsxs("div",{className:"recurring-panel__empty",children:[a.jsx("i",{className:"fa-solid fa-rotate"}),a.jsx("p",{children:"No recurring gifts"})]})]});const i=t.filter(n=>n.status==="active").reduce((n,s)=>s.frequency==="monthly"?n+s.amount:s.frequency==="quarterly"?n+s.amount/3:s.frequency==="annually"?n+s.amount/12:n,0);return a.jsxs("div",{className:"recurring-panel wrapper-card",children:[a.jsx("div",{className:"recurring-panel__header",children:a.jsxs("h4",{className:"recurring-panel__title",children:["Recurring Gifts",a.jsx("span",{className:"recurring-panel__count",children:t.length})]})}),a.jsx("div",{className:"recurring-panel__summary",children:a.jsxs("div",{className:"recurring-panel__summary-item",children:[a.jsx("span",{className:"recurring-panel__summary-value",children:Qs(i)}),a.jsx("span",{className:"recurring-panel__summary-label",children:"Monthly Equivalent"})]})}),a.jsx("div",{className:"recurring-panel__list",children:t.map(n=>{var d;const s=uc[n.status]||uc.active,l=Ui(n.fundId),r=ha(n.campaignId),c=((d=n.paymentMethod)==null?void 0:d.type)||"default",o=mc[c]||mc.default;return a.jsxs("div",{className:"recurring-panel__card",children:[a.jsxs("div",{className:"recurring-panel__card-top",children:[a.jsxs("div",{className:"recurring-panel__card-amount-row",children:[a.jsx("span",{className:"recurring-panel__card-amount",children:Qs(n.amount)}),a.jsxs("span",{className:"recurring-panel__card-frequency",children:["/ ",(fv[n.frequency]||n.frequency).toLowerCase().replace("ly","")]})]}),a.jsx("span",{className:`recurring-panel__badge ${s.className}`,children:s.label})]}),a.jsxs("div",{className:"recurring-panel__card-designation",children:[r&&a.jsx("span",{className:"recurring-panel__card-campaign",children:r}),l&&a.jsx("span",{className:"recurring-panel__card-fund",children:l})]}),a.jsxs("div",{className:"recurring-panel__card-details",children:[n.paymentMethod&&a.jsxs("div",{className:"recurring-panel__detail",children:[a.jsx("i",{className:`fa-brands ${o}`}),a.jsxs("span",{children:["",n.paymentMethod.last4]})]}),a.jsxs("div",{className:"recurring-panel__detail",children:[a.jsx("i",{className:"fa-solid fa-hand-holding-dollar"}),a.jsxs("span",{children:[Qs(n.totalGiven)," total (",n.giftCount," gifts)"]})]}),n.nextDate&&n.status==="active"&&a.jsxs("div",{className:"recurring-panel__detail",children:[a.jsx("i",{className:"fa-solid fa-clock"}),a.jsxs("span",{children:["Next: ",n.nextDate]})]}),a.jsxs("div",{className:"recurring-panel__detail",children:[a.jsx("i",{className:"fa-solid fa-calendar-plus"}),a.jsxs("span",{children:["Since ",n.startDate]})]})]})]},n.id)})})]})}const pc=e=>e==null?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e),hc={donation:{label:"Donation",className:"gift-history__type-badge--donation"},membership:{label:"Membership",className:"gift-history__type-badge--membership"},"pledge-payment":{label:"Pledge",className:"gift-history__type-badge--pledge"},recurring:{label:"Recurring",className:"gift-history__type-badge--recurring"}};function gv({patronId:e}){const[t,i]=j.useState(10),n=hs(e).sort((d,u)=>new Date(u.date)-new Date(d.date)),s=n.slice(0,t),l=n.length>t,r=n.reduce((d,u)=>d+u.amount,0),c=d=>{const u=Mf(d);if(u.length===0)return"none";const v=u.some(f=>f.status==="pending"),m=u.some(f=>f.status==="sent");return v&&!m?"pending":m?"acknowledged":"none"},o={acknowledged:{icon:"fa-circle-check",className:"gift-history__ack--acknowledged",title:"Acknowledged"},pending:{icon:"fa-clock",className:"gift-history__ack--pending",title:"Pending"},none:{icon:"fa-minus",className:"gift-history__ack--none",title:"No acknowledgment"}};return a.jsxs("div",{className:"gift-history wrapper-card",children:[a.jsxs("div",{className:"gift-history__header",children:[a.jsxs("h4",{className:"gift-history__title",children:["Gift History",a.jsx("span",{className:"gift-history__count",children:n.length})]}),a.jsxs("span",{className:"gift-history__total",children:["Total: ",pc(r)]})]}),n.length===0?a.jsxs("div",{className:"gift-history__empty",children:[a.jsx("i",{className:"fa-solid fa-hand-holding-dollar"}),a.jsx("p",{children:"No gifts on record"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"gift-history__table-wrapper",children:a.jsxs("table",{className:"gift-history__table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Date"}),a.jsx("th",{children:"Description"}),a.jsx("th",{children:"Type"}),a.jsx("th",{children:"Fund"}),a.jsx("th",{className:"gift-history__th-right",children:"Amount"}),a.jsx("th",{className:"gift-history__th-center",children:"Ack"})]})}),a.jsx("tbody",{children:s.map(d=>{const u=hc[d.type]||hc.donation,v=Ui(d.fundId),m=c(d.id),f=o[m];return a.jsxs("tr",{children:[a.jsx("td",{className:"gift-history__date",children:oe(d.date)}),a.jsx("td",{className:"gift-history__description",children:d.description}),a.jsx("td",{children:a.jsx("span",{className:`gift-history__type-badge ${u.className}`,children:u.label})}),a.jsx("td",{className:"gift-history__fund",children:v||""}),a.jsx("td",{className:"gift-history__amount",children:pc(d.amount)}),a.jsx("td",{className:"gift-history__ack-cell",children:a.jsx("i",{className:`fa-solid ${f.icon} ${f.className}`,title:f.title})})]},d.id)})})]})}),l&&a.jsxs("button",{className:"gift-history__load-more",onClick:()=>i(d=>d+10),children:["Show more (",n.length-t," remaining)"]})]})]})}const fc=e=>e==null?"$0":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),_v={email:"fa-envelope",mail:"fa-envelope-open-text",phone:"fa-phone","in-person":"fa-handshake"},vc={"thank-you-letter":"Thank-You Letter","thank-you-email":"Thank-You Email","thank-you-call":"Thank-You Call","tax-receipt":"Tax Receipt"};function yv({patronId:e}){const t=Ff(e),i=Rf(e),n=hs(e),s=n.filter(c=>ac(c.id));n.filter(c=>!ac(c.id));const l=t.filter(c=>c.status==="sent"&&c.date).sort((c,o)=>new Date(o.date)-new Date(c.date)).slice(0,5),r={};return n.forEach(c=>{r[c.id]=c}),a.jsxs("div",{className:"ack-panel wrapper-card",children:[a.jsx("div",{className:"ack-panel__header",children:a.jsx("h4",{className:"ack-panel__title",children:"Acknowledgments"})}),a.jsxs("div",{className:"ack-panel__stats",children:[a.jsxs("div",{className:"ack-panel__stat",children:[a.jsx("span",{className:"ack-panel__stat-value ack-panel__stat-value--success",children:s.length}),a.jsx("span",{className:"ack-panel__stat-label",children:"Acknowledged"})]}),a.jsx("div",{className:"ack-panel__stat",children:a.jsx("span",{className:"ack-panel__stat-divider",children:"/"})}),a.jsxs("div",{className:"ack-panel__stat",children:[a.jsx("span",{className:"ack-panel__stat-value",children:n.length}),a.jsx("span",{className:"ack-panel__stat-label",children:"Total Gifts"})]}),i.length>0&&a.jsxs("div",{className:"ack-panel__stat ack-panel__stat--pending",children:[a.jsx("span",{className:"ack-panel__stat-value ack-panel__stat-value--warning",children:i.length}),a.jsx("span",{className:"ack-panel__stat-label",children:"Pending"})]})]}),i.length>0&&a.jsxs("div",{className:"ack-panel__pending",children:[a.jsxs("h5",{className:"ack-panel__section-title",children:[a.jsx("i",{className:"fa-solid fa-clock"}),"Awaiting Acknowledgment"]}),a.jsx("div",{className:"ack-panel__pending-list",children:i.map(c=>{const o=r[c.giftId];return a.jsxs("div",{className:"ack-panel__pending-item",children:[a.jsxs("div",{className:"ack-panel__pending-info",children:[a.jsx("span",{className:"ack-panel__pending-gift",children:o?o.description:"Unknown gift"}),a.jsx("span",{className:"ack-panel__pending-amount",children:o?fc(o.amount):""})]}),a.jsxs("div",{className:"ack-panel__pending-meta",children:[a.jsx("span",{className:"ack-panel__pending-type",children:vc[c.type]||c.type}),a.jsxs("button",{className:"ack-panel__send-btn",title:"Send acknowledgment",children:[a.jsx("i",{className:"fa-solid fa-paper-plane"}),"Send"]})]})]},c.id)})})]}),l.length>0&&a.jsxs("div",{className:"ack-panel__recent",children:[a.jsxs("h5",{className:"ack-panel__section-title",children:[a.jsx("i",{className:"fa-solid fa-check-double"}),"Recently Sent"]}),a.jsx("div",{className:"ack-panel__recent-list",children:l.map(c=>{const o=r[c.giftId],d=_v[c.method]||"fa-envelope";return a.jsxs("div",{className:"ack-panel__recent-item",children:[a.jsx("i",{className:`fa-solid ${d} ack-panel__recent-icon`}),a.jsxs("div",{className:"ack-panel__recent-info",children:[a.jsx("span",{className:"ack-panel__recent-type",children:vc[c.type]||c.type}),a.jsxs("span",{className:"ack-panel__recent-gift",children:[o?o.description:"Unknown gift",o?` (${fc(o.amount)})`:""]})]}),a.jsx("span",{className:"ack-panel__recent-date",children:oe(c.date)})]},c.id)})})]}),i.length===0&&n.length>0&&a.jsxs("div",{className:"ack-panel__all-clear",children:[a.jsx("i",{className:"fa-solid fa-circle-check"}),a.jsx("span",{children:"All gifts have been acknowledged"})]}),n.length===0&&a.jsxs("div",{className:"ack-panel__empty",children:[a.jsx("i",{className:"fa-solid fa-envelope-open-text"}),a.jsx("p",{children:"No gifts to acknowledge"})]})]})}function xv({patronId:e}){return a.jsx("div",{className:"giving-tab",children:a.jsxs("div",{className:"giving-tab__main",children:[a.jsxs("div",{className:"giving-tab__left",children:[a.jsx(hv,{patronId:e}),a.jsx(vv,{patronId:e}),a.jsx(gv,{patronId:e})]}),a.jsx("div",{className:"giving-tab__right",children:a.jsx(yv,{patronId:e})})]})})}var Nv=Object.defineProperty,Qn=Object.getOwnPropertySymbols,lm=Object.prototype.hasOwnProperty,rm=Object.prototype.propertyIsEnumerable,gc=(e,t,i)=>t in e?Nv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,Bl=(e,t)=>{for(var i in t||(t={}))lm.call(t,i)&&gc(e,i,t[i]);if(Qn)for(var i of Qn(t))rm.call(t,i)&&gc(e,i,t[i]);return e},Vl=(e,t)=>{var i={};for(var n in e)lm.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(e!=null&&Qn)for(var n of Qn(e))t.indexOf(n)<0&&rm.call(e,n)&&(i[n]=e[n]);return i};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var ua;(e=>{const t=class H{constructor(o,d,u,v){if(this.version=o,this.errorCorrectionLevel=d,this.modules=[],this.isFunction=[],o<H.MIN_VERSION||o>H.MAX_VERSION)throw new RangeError("Version value out of range");if(v<-1||v>7)throw new RangeError("Mask value out of range");this.size=o*4+17;let m=[];for(let g=0;g<this.size;g++)m.push(!1);for(let g=0;g<this.size;g++)this.modules.push(m.slice()),this.isFunction.push(m.slice());this.drawFunctionPatterns();const f=this.addEccAndInterleave(u);if(this.drawCodewords(f),v==-1){let g=1e9;for(let y=0;y<8;y++){this.applyMask(y),this.drawFormatBits(y);const N=this.getPenaltyScore();N<g&&(v=y,g=N),this.applyMask(y)}}s(0<=v&&v<=7),this.mask=v,this.applyMask(v),this.drawFormatBits(v),this.isFunction=[]}static encodeText(o,d){const u=e.QrSegment.makeSegments(o);return H.encodeSegments(u,d)}static encodeBinary(o,d){const u=e.QrSegment.makeBytes(o);return H.encodeSegments([u],d)}static encodeSegments(o,d,u=1,v=40,m=-1,f=!0){if(!(H.MIN_VERSION<=u&&u<=v&&v<=H.MAX_VERSION)||m<-1||m>7)throw new RangeError("Invalid value");let g,y;for(g=u;;g++){const h=H.getNumDataCodewords(g,d)*8,x=r.getTotalBits(o,g);if(x<=h){y=x;break}if(g>=v)throw new RangeError("Data too long")}for(const h of[H.Ecc.MEDIUM,H.Ecc.QUARTILE,H.Ecc.HIGH])f&&y<=H.getNumDataCodewords(g,h)*8&&(d=h);let N=[];for(const h of o){i(h.mode.modeBits,4,N),i(h.numChars,h.mode.numCharCountBits(g),N);for(const x of h.getData())N.push(x)}s(N.length==y);const _=H.getNumDataCodewords(g,d)*8;s(N.length<=_),i(0,Math.min(4,_-N.length),N),i(0,(8-N.length%8)%8,N),s(N.length%8==0);for(let h=236;N.length<_;h^=253)i(h,8,N);let p=[];for(;p.length*8<N.length;)p.push(0);return N.forEach((h,x)=>p[x>>>3]|=h<<7-(x&7)),new H(g,d,p,m)}getModule(o,d){return 0<=o&&o<this.size&&0<=d&&d<this.size&&this.modules[d][o]}getModules(){return this.modules}drawFunctionPatterns(){for(let u=0;u<this.size;u++)this.setFunctionModule(6,u,u%2==0),this.setFunctionModule(u,6,u%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const o=this.getAlignmentPatternPositions(),d=o.length;for(let u=0;u<d;u++)for(let v=0;v<d;v++)u==0&&v==0||u==0&&v==d-1||u==d-1&&v==0||this.drawAlignmentPattern(o[u],o[v]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(o){const d=this.errorCorrectionLevel.formatBits<<3|o;let u=d;for(let m=0;m<10;m++)u=u<<1^(u>>>9)*1335;const v=(d<<10|u)^21522;s(v>>>15==0);for(let m=0;m<=5;m++)this.setFunctionModule(8,m,n(v,m));this.setFunctionModule(8,7,n(v,6)),this.setFunctionModule(8,8,n(v,7)),this.setFunctionModule(7,8,n(v,8));for(let m=9;m<15;m++)this.setFunctionModule(14-m,8,n(v,m));for(let m=0;m<8;m++)this.setFunctionModule(this.size-1-m,8,n(v,m));for(let m=8;m<15;m++)this.setFunctionModule(8,this.size-15+m,n(v,m));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let o=this.version;for(let u=0;u<12;u++)o=o<<1^(o>>>11)*7973;const d=this.version<<12|o;s(d>>>18==0);for(let u=0;u<18;u++){const v=n(d,u),m=this.size-11+u%3,f=Math.floor(u/3);this.setFunctionModule(m,f,v),this.setFunctionModule(f,m,v)}}drawFinderPattern(o,d){for(let u=-4;u<=4;u++)for(let v=-4;v<=4;v++){const m=Math.max(Math.abs(v),Math.abs(u)),f=o+v,g=d+u;0<=f&&f<this.size&&0<=g&&g<this.size&&this.setFunctionModule(f,g,m!=2&&m!=4)}}drawAlignmentPattern(o,d){for(let u=-2;u<=2;u++)for(let v=-2;v<=2;v++)this.setFunctionModule(o+v,d+u,Math.max(Math.abs(v),Math.abs(u))!=1)}setFunctionModule(o,d,u){this.modules[d][o]=u,this.isFunction[d][o]=!0}addEccAndInterleave(o){const d=this.version,u=this.errorCorrectionLevel;if(o.length!=H.getNumDataCodewords(d,u))throw new RangeError("Invalid argument");const v=H.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][d],m=H.ECC_CODEWORDS_PER_BLOCK[u.ordinal][d],f=Math.floor(H.getNumRawDataModules(d)/8),g=v-f%v,y=Math.floor(f/v);let N=[];const _=H.reedSolomonComputeDivisor(m);for(let h=0,x=0;h<v;h++){let w=o.slice(x,x+y-m+(h<g?0:1));x+=w.length;const b=H.reedSolomonComputeRemainder(w,_);h<g&&w.push(0),N.push(w.concat(b))}let p=[];for(let h=0;h<N[0].length;h++)N.forEach((x,w)=>{(h!=y-m||w>=g)&&p.push(x[h])});return s(p.length==f),p}drawCodewords(o){if(o.length!=Math.floor(H.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let d=0;for(let u=this.size-1;u>=1;u-=2){u==6&&(u=5);for(let v=0;v<this.size;v++)for(let m=0;m<2;m++){const f=u-m,y=(u+1&2)==0?this.size-1-v:v;!this.isFunction[y][f]&&d<o.length*8&&(this.modules[y][f]=n(o[d>>>3],7-(d&7)),d++)}}s(d==o.length*8)}applyMask(o){if(o<0||o>7)throw new RangeError("Mask value out of range");for(let d=0;d<this.size;d++)for(let u=0;u<this.size;u++){let v;switch(o){case 0:v=(u+d)%2==0;break;case 1:v=d%2==0;break;case 2:v=u%3==0;break;case 3:v=(u+d)%3==0;break;case 4:v=(Math.floor(u/3)+Math.floor(d/2))%2==0;break;case 5:v=u*d%2+u*d%3==0;break;case 6:v=(u*d%2+u*d%3)%2==0;break;case 7:v=((u+d)%2+u*d%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[d][u]&&v&&(this.modules[d][u]=!this.modules[d][u])}}getPenaltyScore(){let o=0;for(let m=0;m<this.size;m++){let f=!1,g=0,y=[0,0,0,0,0,0,0];for(let N=0;N<this.size;N++)this.modules[m][N]==f?(g++,g==5?o+=H.PENALTY_N1:g>5&&o++):(this.finderPenaltyAddHistory(g,y),f||(o+=this.finderPenaltyCountPatterns(y)*H.PENALTY_N3),f=this.modules[m][N],g=1);o+=this.finderPenaltyTerminateAndCount(f,g,y)*H.PENALTY_N3}for(let m=0;m<this.size;m++){let f=!1,g=0,y=[0,0,0,0,0,0,0];for(let N=0;N<this.size;N++)this.modules[N][m]==f?(g++,g==5?o+=H.PENALTY_N1:g>5&&o++):(this.finderPenaltyAddHistory(g,y),f||(o+=this.finderPenaltyCountPatterns(y)*H.PENALTY_N3),f=this.modules[N][m],g=1);o+=this.finderPenaltyTerminateAndCount(f,g,y)*H.PENALTY_N3}for(let m=0;m<this.size-1;m++)for(let f=0;f<this.size-1;f++){const g=this.modules[m][f];g==this.modules[m][f+1]&&g==this.modules[m+1][f]&&g==this.modules[m+1][f+1]&&(o+=H.PENALTY_N2)}let d=0;for(const m of this.modules)d=m.reduce((f,g)=>f+(g?1:0),d);const u=this.size*this.size,v=Math.ceil(Math.abs(d*20-u*10)/u)-1;return s(0<=v&&v<=9),o+=v*H.PENALTY_N4,s(0<=o&&o<=2568888),o}getAlignmentPatternPositions(){if(this.version==1)return[];{const o=Math.floor(this.version/7)+2,d=this.version==32?26:Math.ceil((this.version*4+4)/(o*2-2))*2;let u=[6];for(let v=this.size-7;u.length<o;v-=d)u.splice(1,0,v);return u}}static getNumRawDataModules(o){if(o<H.MIN_VERSION||o>H.MAX_VERSION)throw new RangeError("Version number out of range");let d=(16*o+128)*o+64;if(o>=2){const u=Math.floor(o/7)+2;d-=(25*u-10)*u-55,o>=7&&(d-=36)}return s(208<=d&&d<=29648),d}static getNumDataCodewords(o,d){return Math.floor(H.getNumRawDataModules(o)/8)-H.ECC_CODEWORDS_PER_BLOCK[d.ordinal][o]*H.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][o]}static reedSolomonComputeDivisor(o){if(o<1||o>255)throw new RangeError("Degree out of range");let d=[];for(let v=0;v<o-1;v++)d.push(0);d.push(1);let u=1;for(let v=0;v<o;v++){for(let m=0;m<d.length;m++)d[m]=H.reedSolomonMultiply(d[m],u),m+1<d.length&&(d[m]^=d[m+1]);u=H.reedSolomonMultiply(u,2)}return d}static reedSolomonComputeRemainder(o,d){let u=d.map(v=>0);for(const v of o){const m=v^u.shift();u.push(0),d.forEach((f,g)=>u[g]^=H.reedSolomonMultiply(f,m))}return u}static reedSolomonMultiply(o,d){if(o>>>8||d>>>8)throw new RangeError("Byte out of range");let u=0;for(let v=7;v>=0;v--)u=u<<1^(u>>>7)*285,u^=(d>>>v&1)*o;return s(u>>>8==0),u}finderPenaltyCountPatterns(o){const d=o[1];s(d<=this.size*3);const u=d>0&&o[2]==d&&o[3]==d*3&&o[4]==d&&o[5]==d;return(u&&o[0]>=d*4&&o[6]>=d?1:0)+(u&&o[6]>=d*4&&o[0]>=d?1:0)}finderPenaltyTerminateAndCount(o,d,u){return o&&(this.finderPenaltyAddHistory(d,u),d=0),d+=this.size,this.finderPenaltyAddHistory(d,u),this.finderPenaltyCountPatterns(u)}finderPenaltyAddHistory(o,d){d[0]==0&&(o+=this.size),d.pop(),d.unshift(o)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function i(c,o,d){if(o<0||o>31||c>>>o)throw new RangeError("Value out of range");for(let u=o-1;u>=0;u--)d.push(c>>>u&1)}function n(c,o){return(c>>>o&1)!=0}function s(c){if(!c)throw new Error("Assertion error")}const l=class le{constructor(o,d,u){if(this.mode=o,this.numChars=d,this.bitData=u,d<0)throw new RangeError("Invalid argument");this.bitData=u.slice()}static makeBytes(o){let d=[];for(const u of o)i(u,8,d);return new le(le.Mode.BYTE,o.length,d)}static makeNumeric(o){if(!le.isNumeric(o))throw new RangeError("String contains non-numeric characters");let d=[];for(let u=0;u<o.length;){const v=Math.min(o.length-u,3);i(parseInt(o.substring(u,u+v),10),v*3+1,d),u+=v}return new le(le.Mode.NUMERIC,o.length,d)}static makeAlphanumeric(o){if(!le.isAlphanumeric(o))throw new RangeError("String contains unencodable characters in alphanumeric mode");let d=[],u;for(u=0;u+2<=o.length;u+=2){let v=le.ALPHANUMERIC_CHARSET.indexOf(o.charAt(u))*45;v+=le.ALPHANUMERIC_CHARSET.indexOf(o.charAt(u+1)),i(v,11,d)}return u<o.length&&i(le.ALPHANUMERIC_CHARSET.indexOf(o.charAt(u)),6,d),new le(le.Mode.ALPHANUMERIC,o.length,d)}static makeSegments(o){return o==""?[]:le.isNumeric(o)?[le.makeNumeric(o)]:le.isAlphanumeric(o)?[le.makeAlphanumeric(o)]:[le.makeBytes(le.toUtf8ByteArray(o))]}static makeEci(o){let d=[];if(o<0)throw new RangeError("ECI assignment value out of range");if(o<128)i(o,8,d);else if(o<16384)i(2,2,d),i(o,14,d);else if(o<1e6)i(6,3,d),i(o,21,d);else throw new RangeError("ECI assignment value out of range");return new le(le.Mode.ECI,0,d)}static isNumeric(o){return le.NUMERIC_REGEX.test(o)}static isAlphanumeric(o){return le.ALPHANUMERIC_REGEX.test(o)}getData(){return this.bitData.slice()}static getTotalBits(o,d){let u=0;for(const v of o){const m=v.mode.numCharCountBits(d);if(v.numChars>=1<<m)return 1/0;u+=4+m+v.bitData.length}return u}static toUtf8ByteArray(o){o=encodeURI(o);let d=[];for(let u=0;u<o.length;u++)o.charAt(u)!="%"?d.push(o.charCodeAt(u)):(d.push(parseInt(o.substring(u+1,u+3),16)),u+=2);return d}};l.NUMERIC_REGEX=/^[0-9]*$/,l.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,l.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let r=l;e.QrSegment=l})(ua||(ua={}));(e=>{(t=>{const i=class{constructor(s,l){this.ordinal=s,this.formatBits=l}};i.LOW=new i(0,1),i.MEDIUM=new i(1,0),i.QUARTILE=new i(2,3),i.HIGH=new i(3,2),t.Ecc=i})(e.QrCode||(e.QrCode={}))})(ua||(ua={}));(e=>{(t=>{const i=class{constructor(s,l){this.modeBits=s,this.numBitsCharCount=l}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};i.NUMERIC=new i(1,[10,12,14]),i.ALPHANUMERIC=new i(2,[9,11,13]),i.BYTE=new i(4,[8,16,16]),i.KANJI=new i(8,[8,10,12]),i.ECI=new i(7,[0,0,0]),t.Mode=i})(e.QrSegment||(e.QrSegment={}))})(ua||(ua={}));var Da=ua;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var jv={L:Da.QrCode.Ecc.LOW,M:Da.QrCode.Ecc.MEDIUM,Q:Da.QrCode.Ecc.QUARTILE,H:Da.QrCode.Ecc.HIGH},om=128,cm="L",dm="#FFFFFF",um="#000000",mm=!1,pm=1,wv=4,bv=0,kv=.1;function hm(e,t=0){const i=[];return e.forEach(function(n,s){let l=null;n.forEach(function(r,c){if(!r&&l!==null){i.push(`M${l+t} ${s+t}h${c-l}v1H${l+t}z`),l=null;return}if(c===n.length-1){if(!r)return;l===null?i.push(`M${c+t},${s+t} h1v1H${c+t}z`):i.push(`M${l+t},${s+t} h${c+1-l}v1H${l+t}z`);return}r&&l===null&&(l=c)})}),i.join("")}function fm(e,t){return e.slice().map((i,n)=>n<t.y||n>=t.y+t.h?i:i.map((s,l)=>l<t.x||l>=t.x+t.w?s:!1))}function Cv(e,t,i,n){if(n==null)return null;const s=e.length+i*2,l=Math.floor(t*kv),r=s/t,c=(n.width||l)*r,o=(n.height||l)*r,d=n.x==null?e.length/2-c/2:n.x*r,u=n.y==null?e.length/2-o/2:n.y*r,v=n.opacity==null?1:n.opacity;let m=null;if(n.excavate){let g=Math.floor(d),y=Math.floor(u),N=Math.ceil(c+d-g),_=Math.ceil(o+u-y);m={x:g,y,w:N,h:_}}const f=n.crossOrigin;return{x:d,y:u,h:o,w:c,excavation:m,opacity:v,crossOrigin:f}}function Sv(e,t){return t!=null?Math.max(Math.floor(t),0):e?wv:bv}function vm({value:e,level:t,minVersion:i,includeMargin:n,marginSize:s,imageSettings:l,size:r,boostLevel:c}){let o=ue.useMemo(()=>{const g=(Array.isArray(e)?e:[e]).reduce((y,N)=>(y.push(...Da.QrSegment.makeSegments(N)),y),[]);return Da.QrCode.encodeSegments(g,jv[t],i,void 0,void 0,c)},[e,t,i,c]);const{cells:d,margin:u,numCells:v,calculatedImageSettings:m}=ue.useMemo(()=>{let f=o.getModules();const g=Sv(n,s),y=f.length+g*2,N=Cv(f,r,g,l);return{cells:f,margin:g,numCells:y,calculatedImageSettings:N}},[o,r,l,n,s]);return{qrcode:o,margin:u,cells:d,numCells:v,calculatedImageSettings:m}}var Iv=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),Ev=ue.forwardRef(function(t,i){const n=t,{value:s,size:l=om,level:r=cm,bgColor:c=dm,fgColor:o=um,includeMargin:d=mm,minVersion:u=pm,boostLevel:v,marginSize:m,imageSettings:f}=n,y=Vl(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:N}=y,_=Vl(y,["style"]),p=f==null?void 0:f.src,h=ue.useRef(null),x=ue.useRef(null),w=ue.useCallback(V=>{h.current=V,typeof i=="function"?i(V):i&&(i.current=V)},[i]),[b,P]=ue.useState(!1),{margin:k,cells:M,numCells:F,calculatedImageSettings:I}=vm({value:s,level:r,minVersion:u,boostLevel:v,includeMargin:d,marginSize:m,imageSettings:f,size:l});ue.useEffect(()=>{if(h.current!=null){const V=h.current,S=V.getContext("2d");if(!S)return;let U=M;const O=x.current,C=I!=null&&O!==null&&O.complete&&O.naturalHeight!==0&&O.naturalWidth!==0;C&&I.excavation!=null&&(U=fm(M,I.excavation));const D=window.devicePixelRatio||1;V.height=V.width=l*D;const R=l/F*D;S.scale(R,R),S.fillStyle=c,S.fillRect(0,0,F,F),S.fillStyle=o,Iv?S.fill(new Path2D(hm(U,k))):M.forEach(function(G,Y){G.forEach(function(Q,Se){Q&&S.fillRect(Se+k,Y+k,1,1)})}),I&&(S.globalAlpha=I.opacity),C&&S.drawImage(O,I.x+k,I.y+k,I.w,I.h)}}),ue.useEffect(()=>{P(!1)},[p]);const A=Bl({height:l,width:l},N);let $=null;return p!=null&&($=ue.createElement("img",{src:p,key:p,style:{display:"none"},onLoad:()=>{P(!0)},ref:x,crossOrigin:I==null?void 0:I.crossOrigin})),ue.createElement(ue.Fragment,null,ue.createElement("canvas",Bl({style:A,height:l,width:l,ref:w,role:"img"},_)),$)});Ev.displayName="QRCodeCanvas";var gm=ue.forwardRef(function(t,i){const n=t,{value:s,size:l=om,level:r=cm,bgColor:c=dm,fgColor:o=um,includeMargin:d=mm,minVersion:u=pm,boostLevel:v,title:m,marginSize:f,imageSettings:g}=n,y=Vl(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:N,cells:_,numCells:p,calculatedImageSettings:h}=vm({value:s,level:r,minVersion:u,boostLevel:v,includeMargin:d,marginSize:f,imageSettings:g,size:l});let x=_,w=null;g!=null&&h!=null&&(h.excavation!=null&&(x=fm(_,h.excavation)),w=ue.createElement("image",{href:g.src,height:h.h,width:h.w,x:h.x+N,y:h.y+N,preserveAspectRatio:"none",opacity:h.opacity,crossOrigin:h.crossOrigin}));const b=hm(x,N);return ue.createElement("svg",Bl({height:l,width:l,viewBox:`0 0 ${p} ${p}`,ref:i,role:"img"},y),!!m&&ue.createElement("title",null,m),ue.createElement("path",{fill:c,d:`M0,0 h${p}v${p}H0z`,shapeRendering:"crispEdges"}),ue.createElement("path",{fill:o,d:b,shapeRendering:"crispEdges"}),w)});gm.displayName="QRCodeSVG";function Dv({comparison:e,patronId:t,patronEmail:i,patronName:n,onClose:s}){const[l,r]=j.useState(!1);if(!e)return null;const{currentTier:c,upgradeTier:o,upgradePrice:d,priceDifference:u,improvements:v,newPerks:m}=e,f=`https://pay.fever.co/upgrade/${t}/${o.toLowerCase().replace(/\s+/g,"-")}`,g=p=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(p);j.useEffect(()=>{const p=h=>{h.key==="Escape"&&s()};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[s]),j.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}),[]);const y=p=>{p.target===p.currentTarget&&s()},N=async()=>{try{await navigator.clipboard.writeText(f),r(!0),setTimeout(()=>r(!1),2e3)}catch(p){console.error("Failed to copy link:",p)}},_=()=>{const p=encodeURIComponent(`Upgrade your membership to ${o}`),h=encodeURIComponent(`Hi ${n},

You're eligible to upgrade your membership from ${c} to ${o}!

New benefits include:
${(m==null?void 0:m.map(x=>` ${x}`).join(`
`))||" Enhanced membership benefits"}

Upgrade price: ${g(d)}/year
${u>0?`Additional cost: ${g(u)}`:""}

Click the link below to complete your upgrade:
${f}

If you have any questions, please don't hesitate to reach out.

Best regards`);window.open(`mailto:${i}?subject=${p}&body=${h}`,"_blank")};return a.jsx("div",{className:"upgrade-modal__overlay",onClick:y,children:a.jsxs("div",{className:"upgrade-modal",children:[a.jsxs("div",{className:"upgrade-modal__header",children:[a.jsxs("div",{className:"upgrade-modal__header-content",children:[a.jsx("h2",{className:"upgrade-modal__title",children:"Upgrade Membership"}),a.jsxs("p",{className:"upgrade-modal__subtitle",children:[a.jsx("span",{className:"upgrade-modal__tier upgrade-modal__tier--current",children:c}),a.jsx("i",{className:"fa-solid fa-arrow-right upgrade-modal__arrow"}),a.jsx("span",{className:"upgrade-modal__tier upgrade-modal__tier--upgrade",children:o})]})]}),a.jsx("button",{className:"upgrade-modal__close",onClick:s,children:a.jsx("i",{className:"fa-solid fa-xmark"})})]}),a.jsxs("div",{className:"upgrade-modal__body",children:[v&&v.length>0&&a.jsxs("div",{className:"upgrade-modal__section",children:[a.jsxs("h3",{className:"upgrade-modal__section-title",children:[a.jsx("i",{className:"fa-solid fa-arrow-up"}),"Enhanced Features"]}),a.jsx("div",{className:"upgrade-modal__improvements",children:v.map((p,h)=>a.jsxs("div",{className:"upgrade-modal__improvement",children:[a.jsx("span",{className:"upgrade-modal__improvement-feature",children:p.feature}),a.jsxs("div",{className:"upgrade-modal__improvement-values",children:[a.jsx("span",{className:"upgrade-modal__improvement-current",children:p.current}),a.jsx("i",{className:"fa-solid fa-arrow-right upgrade-modal__improvement-arrow"}),a.jsx("span",{className:"upgrade-modal__improvement-upgrade",children:p.upgrade})]})]},h))})]}),m&&m.length>0&&a.jsxs("div",{className:"upgrade-modal__section",children:[a.jsxs("h3",{className:"upgrade-modal__section-title",children:[a.jsx("i",{className:"fa-solid fa-plus"}),"New Benefits"]}),a.jsx("ul",{className:"upgrade-modal__new-perks",children:m.map((p,h)=>a.jsxs("li",{className:"upgrade-modal__new-perk",children:[a.jsx("i",{className:"fa-solid fa-check upgrade-modal__new-perk-icon"}),a.jsx("span",{children:p})]},h))})]})]}),a.jsxs("div",{className:"upgrade-modal__footer",children:[a.jsxs("div",{className:"upgrade-modal__price-summary",children:[a.jsxs("div",{className:"upgrade-modal__price-row",children:[a.jsxs("span",{className:"upgrade-modal__price-label",children:[o," Membership"]}),a.jsxs("span",{className:"upgrade-modal__price-value",children:[g(d),"/year"]})]}),u>0&&a.jsxs("div",{className:"upgrade-modal__price-row upgrade-modal__price-row--difference",children:[a.jsx("span",{className:"upgrade-modal__price-label",children:"Additional cost"}),a.jsxs("span",{className:"upgrade-modal__price-difference",children:["+",g(u)]})]})]}),a.jsxs("div",{className:"upgrade-modal__payment-link",children:[a.jsx("label",{className:"upgrade-modal__payment-link-label",children:"Payment Link"}),a.jsxs("div",{className:"upgrade-modal__payment-link-input-wrapper",children:[a.jsx("input",{type:"text",className:"upgrade-modal__payment-link-input",value:f,readOnly:!0,onClick:p=>p.target.select()}),a.jsxs("button",{className:`upgrade-modal__copy-btn ${l?"upgrade-modal__copy-btn--copied":""}`,onClick:N,children:[a.jsx("i",{className:`fa-solid ${l?"fa-check":"fa-copy"}`}),l?"Copied!":"Copy"]})]})]}),a.jsxs("div",{className:"upgrade-modal__actions",children:[a.jsx("button",{className:"upgrade-modal__btn upgrade-modal__btn--secondary",onClick:s,children:"Close"}),a.jsxs("button",{className:"upgrade-modal__btn upgrade-modal__btn--primary",onClick:_,children:[a.jsx("i",{className:"fa-solid fa-envelope"}),"Send payment link via email"]})]})]})]})})}const rn={access:{label:"Access",order:1,colorClass:"access"},discount:{label:"Discounts",order:2,colorClass:"discount"},complimentary:{label:"Complimentary",order:3,colorClass:"complimentary"}},_c={visa:"fa-cc-visa",mastercard:"fa-cc-mastercard",amex:"fa-cc-amex",default:"fa-credit-card"};function Pv({membership:e,patronName:t,patronEmail:i,patronPhoto:n,isPrimary:s=!0}){var y,N,_,p;const[l,r]=j.useState(!1);if(!(e!=null&&e.programme)||!(e!=null&&e.benefits))return a.jsxs("div",{className:"membership-overview wrapper-card",children:[a.jsx("div",{className:"membership-overview__header",children:a.jsx("h4",{className:"membership-overview__title",children:"Overview"})}),a.jsxs("div",{className:"membership-overview__empty",children:[a.jsx("i",{className:"fa-solid fa-id-card"}),a.jsx("p",{children:"Membership details not available"}),a.jsxs("span",{className:"membership-overview__empty-tier",children:[(e==null?void 0:e.tier)||"Unknown"," Member"]})]})]});const c=`${e.patronId}-${e.membershipId}`,o=((y=e.usageAnalytics)==null?void 0:y.overallPercentage)||0,d=e.daysToRenewal<=30&&!e.autoRenewal&&o<50,u=()=>{const h=[];return e.daysToRenewal<=30&&h.push("Renewal approaching"),e.autoRenewal||h.push("Auto-renewal OFF"),o<50&&h.push(`Low usage (${o}%)`),h},v=h=>_c[h]||_c.default,m=()=>{var x;const h={};return(x=e.benefits)==null||x.forEach(w=>{const b=w.category||"other";h[b]||(h[b]=[]),h[b].push(w)}),Object.entries(h).sort(([w],[b])=>{var P,k;return(((P=rn[w])==null?void 0:P.order)||99)-(((k=rn[b])==null?void 0:k.order)||99)})},g=(()=>{if(!e.periodStart||!e.validUntil)return 0;const h=new Date(e.periodStart),x=new Date(e.validUntil),w=new Date,b=(x-h)/(1e3*60*60*24),P=(w-h)/(1e3*60*60*24);return Math.min(Math.max(P/b*100,0),100)})();return a.jsxs("div",{className:"membership-overview wrapper-card",children:[a.jsxs("div",{className:"membership-overview__header",children:[a.jsx("h4",{className:"membership-overview__title",children:"Overview"}),a.jsx("button",{className:"membership-overview__menu",children:a.jsx("i",{className:"fa-solid fa-ellipsis-vertical"})})]}),a.jsx("div",{className:"membership-overview__content",children:a.jsxs("div",{className:"membership-overview__two-col",children:[a.jsxs("div",{className:"membership-overview__card-col",children:[a.jsxs("div",{className:"membership-overview__card",style:{backgroundColor:((N=e.cardStyle)==null?void 0:N.backgroundColor)||"#4a4a4a",color:((_=e.cardStyle)==null?void 0:_.textColor)||"#ffffff"},children:[a.jsxs("div",{className:"membership-overview__card-header",children:[a.jsx("div",{className:"membership-overview__card-photo",children:n?a.jsx("img",{src:n,alt:t}):a.jsx("div",{className:"membership-overview__card-photo-placeholder"})}),a.jsx("p",{className:"membership-overview__patron-name",children:t})]}),a.jsxs("div",{className:"membership-overview__card-content",children:[a.jsxs("div",{className:"membership-overview__card-info",children:[a.jsx("span",{className:"membership-overview__tier-tag",children:e.tier}),a.jsxs("p",{className:"membership-overview__card-id",children:["ID: ",e.patronId]}),a.jsxs("p",{className:"membership-overview__card-valid",children:["Valid until: ",oe(e.validUntil)]})]}),a.jsx("div",{className:"membership-overview__qr-container",children:a.jsx(gm,{value:c,size:200,bgColor:"transparent",fgColor:((p=e.cardStyle)==null?void 0:p.textColor)||"#ffffff",level:"M",style:{width:"100%",height:"100%"}})})]})]}),a.jsxs("div",{className:"membership-overview__period-progress",children:[a.jsxs("div",{className:"membership-overview__period-bar",children:[a.jsx("div",{className:"membership-overview__period-fill",style:{width:`${g}%`}}),a.jsx("div",{className:"membership-overview__period-marker",style:{left:`${g}%`}})]}),a.jsxs("div",{className:"membership-overview__period-dates",children:[a.jsx("span",{children:oe(e.periodStart)}),a.jsx("span",{children:oe(e.validUntil)})]})]}),s&&e.upgradeEligible&&e.upgradeComparison&&a.jsxs("button",{className:"membership-overview__upgrade-cta",onClick:()=>r(!0),children:[a.jsx("i",{className:"fa-solid fa-sparkles"}),"Upgrade to ",e.upgradeTier]}),a.jsxs("div",{className:"membership-overview__renewal-info",children:[a.jsxs("div",{className:"membership-overview__auto-renewal-row",children:[a.jsx("span",{className:"membership-overview__renewal-label",children:"Auto-renewal"}),a.jsx("span",{className:`membership-overview__auto-renewal membership-overview__auto-renewal--${e.autoRenewal?"on":"off"}`,children:e.autoRenewal?"ON":"OFF"}),e.paymentMethod&&a.jsxs("div",{className:"membership-overview__payment-method",children:[a.jsx("i",{className:`fa-brands ${v(e.paymentMethod.type)}`}),a.jsxs("span",{children:[" ",e.paymentMethod.last4]})]})]}),d&&a.jsxs("div",{className:"membership-overview__risk-alert",children:[a.jsxs("div",{className:"membership-overview__risk-badge",children:[a.jsx("i",{className:"fa-solid fa-triangle-exclamation"}),a.jsx("span",{children:"At Risk"})]}),a.jsx("ul",{className:"membership-overview__risk-reasons",children:u().map((h,x)=>a.jsx("li",{children:h},x))})]})]})]}),a.jsx("div",{className:"membership-overview__benefits-col",children:a.jsx("div",{className:"membership-overview__benefits-list",children:m().map(([h,x])=>{var w;return a.jsxs("div",{className:"membership-overview__benefit-category",children:[a.jsx("h6",{className:"membership-overview__category-label",children:((w=rn[h])==null?void 0:w.label)||h}),x.map((b,P)=>{var V,S,U;const k=b.usage&&b.usage.used>0,M=b.usage&&b.usage.limit!==null&&b.usage.limit!==void 0,F=M&&((V=b.usage)==null?void 0:V.used)>=((S=b.usage)==null?void 0:S.limit);M&&!F&&b.usage.limit-b.usage.used<=1;const I=((U=rn[h])==null?void 0:U.colorClass)||"access",$=k?F?{type:"redeemed"}:M?{type:"count",text:`${b.usage.used}/${b.usage.limit}`}:{type:"count",text:`${b.usage.used}x`}:null;return a.jsxs("div",{className:"membership-overview__benefit-card",children:[a.jsx("div",{className:`membership-overview__benefit-icon membership-overview__benefit-icon--${I}`,children:a.jsx("i",{className:`fa-solid ${b.icon||"fa-check"}`})}),a.jsx("div",{className:"membership-overview__benefit-content",children:a.jsxs("p",{className:"membership-overview__benefit-text",children:[a.jsx("strong",{children:b.title}),b.description&&` ${b.description}`]})}),$&&a.jsx("span",{className:`membership-overview__usage-pill membership-overview__usage-pill--${I}`,children:$.type==="redeemed"?a.jsx("i",{className:"fa-solid fa-check"}):$.text})]},P)})]},h)})})})]})}),l&&a.jsx(Dv,{comparison:e.upgradeComparison,patronId:e.patronId,patronEmail:i,patronName:t,onClose:()=>r(!1)})]})}function Av({events:e}){const[t,i]=j.useState("all");if(!e)return null;const{earlyAccess:n=[],memberOnly:s=[]}=e,l=[...n.map(d=>({...d,type:"early-access"})),...s.map(d=>({...d,type:"member-only"}))].sort((d,u)=>new Date(d.date)-new Date(u.date)),r=t==="all"?l:l.filter(d=>d.type===t),c=d=>{const u=new Date(d),m=Math.ceil((u-new Date)/(24*60*60*1e3));return m<0?"Past":m===0?"Today":m===1?"Tomorrow":`In ${m} days`},o=d=>{if(d.type!=="early-access")return null;const u=new Date,v=new Date(d.memberAccess),m=d.publicAccess?new Date(d.publicAccess):null;return u<v?{status:"upcoming",label:`Early access in ${Math.ceil((v-u)/864e5)} days`}:m&&u<m?{status:"unlocked",label:"Member access open"}:{status:"public",label:"Public sale live"}};return a.jsxs("div",{className:"member-events wrapper-card",children:[a.jsxs("div",{className:"member-events__header",children:[a.jsx("h4",{className:"member-events__title",children:"Member Events"}),a.jsxs("span",{className:"member-events__count",children:[l.length," events"]})]}),a.jsxs("div",{className:"member-events__filters",children:[a.jsxs("button",{className:`member-events__filter ${t==="all"?"member-events__filter--active":""}`,onClick:()=>i("all"),children:["All (",l.length,")"]}),a.jsxs("button",{className:`member-events__filter ${t==="early-access"?"member-events__filter--active":""}`,onClick:()=>i("early-access"),children:["Early Access (",n.length,")"]}),a.jsxs("button",{className:`member-events__filter ${t==="member-only"?"member-events__filter--active":""}`,onClick:()=>i("member-only"),children:["Exclusive (",s.length,")"]})]}),a.jsx("div",{className:"member-events__list",children:r.length===0?a.jsx("p",{className:"member-events__empty",children:"No events in this category"}):r.map(d=>{const u=o(d);return a.jsxs("div",{className:"member-events__item",children:[a.jsxs("div",{className:"member-events__image",children:[d.image?a.jsx("img",{src:d.image,alt:d.name}):a.jsx("div",{className:"member-events__image-placeholder",children:a.jsx("i",{className:"fa-solid fa-calendar"})}),a.jsx("span",{className:`member-events__type-badge member-events__type-badge--${d.type}`,children:d.type==="member-only"?a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"fa-solid fa-star"}),"Exclusive"]}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"fa-solid fa-clock"}),"Early Access"]})})]}),a.jsxs("div",{className:"member-events__details",children:[a.jsx("h5",{className:"member-events__name",children:d.name}),a.jsxs("div",{className:"member-events__meta",children:[a.jsxs("span",{className:"member-events__date",children:[a.jsx("i",{className:"fa-regular fa-calendar"}),oe(d.date)]}),a.jsx("span",{className:"member-events__countdown",children:c(d.date)})]}),u&&a.jsxs("div",{className:`member-events__access member-events__access--${u.status}`,children:[u.status==="unlocked"&&a.jsx("i",{className:"fa-solid fa-unlock"}),u.status==="upcoming"&&a.jsx("i",{className:"fa-solid fa-hourglass-half"}),u.status==="public"&&a.jsx("i",{className:"fa-solid fa-globe"}),u.label]}),d.type==="early-access"&&d.publicAccess&&a.jsxs("div",{className:"member-events__timeline",children:[a.jsxs("div",{className:"member-events__timeline-item member-events__timeline-item--member",children:[a.jsx("span",{className:"member-events__timeline-label",children:"Member access"}),a.jsx("span",{className:"member-events__timeline-date",children:oe(d.memberAccess)})]}),a.jsx("div",{className:"member-events__timeline-arrow",children:a.jsx("i",{className:"fa-solid fa-arrow-right"})}),a.jsxs("div",{className:"member-events__timeline-item member-events__timeline-item--public",children:[a.jsx("span",{className:"member-events__timeline-label",children:"Public access"}),a.jsx("span",{className:"member-events__timeline-date",children:oe(d.publicAccess)})]})]})]})]},d.id)})})]})}const yc={"Primary Member":"fa-star","Additional Adult":"fa-user",Dependent:"fa-child",Primary:"fa-star",default:"fa-user"},Tv={Spouse:"Additional Adult",Partner:"Additional Adult",Child:"Dependent",Daughter:"Dependent",Son:"Dependent",Guest:"Additional Adult",Parent:"Additional Adult",Sibling:"Additional Adult"};function Mv({beneficiaries:e,currentPatronId:t,isPrimary:i=!0,slotInfo:n,onNavigateToPatron:s,onAddBeneficiary:l,onRemoveBeneficiary:r}){if(!e||e.length===0)return null;const c=f=>yc[f]||yc.default,o=f=>f?f.split(" ").map(g=>g.charAt(0)).join("").toUpperCase().substring(0,2):"??",d=e.map(f=>{var y;if(f.patron)return{id:f.id,patronId:f.patronId,name:f.patron.name||`${f.patron.firstName} ${f.patron.lastName}`,email:f.patron.email,photo:f.patron.photo,role:f.role,roleLabel:f.roleLabel,isCurrentPatron:f.patronId===t,isPrimaryRole:f.role==="primary"};const g=Tv[f.role]||f.role;return{id:f.id,patronId:null,name:f.name,email:null,photo:f.avatar,role:((y=f.role)==null?void 0:y.toLowerCase())==="primary"?"primary":"additional_adult",roleLabel:g,isCurrentPatron:!1,isPrimaryRole:f.role==="Primary"}}),u=f=>{f.patronId&&s&&s(f.patronId)},v=(f,g)=>{f.stopPropagation(),r&&r(g)},m=n?`${n.used}/${n.limit==="unlimited"?"":n.limit} slots`:`${e.length} people`;return a.jsxs("div",{className:"beneficiaries wrapper-card",children:[a.jsxs("div",{className:"beneficiaries__header",children:[a.jsx("h4",{className:"beneficiaries__title",children:"Beneficiaries"}),a.jsx("span",{className:"beneficiaries__count",children:m})]}),a.jsx("ul",{className:"beneficiaries__list",children:d.map(f=>a.jsxs("li",{className:`beneficiaries__item ${f.patronId?"beneficiaries__item--clickable":""}`,onClick:()=>u(f),children:[a.jsx("div",{className:"beneficiaries__avatar",children:f.photo?a.jsx("img",{src:f.photo,alt:f.name}):a.jsx("span",{className:"beneficiaries__initials",children:o(f.name)})}),a.jsxs("div",{className:"beneficiaries__info",children:[a.jsxs("span",{className:"beneficiaries__name",children:[f.name,f.isCurrentPatron&&a.jsx("span",{className:"beneficiaries__viewing-badge",children:"Viewing"})]}),a.jsxs("span",{className:"beneficiaries__role",children:[a.jsx("i",{className:`fa-solid ${c(f.roleLabel)}`}),f.roleLabel]})]}),a.jsxs("div",{className:"beneficiaries__actions",children:[f.patronId&&!f.isCurrentPatron&&a.jsx("span",{className:"beneficiaries__chevron",children:a.jsx("i",{className:"fa-solid fa-chevron-right"})}),i&&!f.isPrimaryRole&&r&&a.jsx("button",{className:"beneficiaries__remove-btn",onClick:g=>v(g,f),title:"Remove beneficiary",children:a.jsx("i",{className:"fa-solid fa-xmark"})})]})]},f.id))}),i&&a.jsxs("button",{className:"beneficiaries__add",onClick:l,disabled:n&&!n.canAdd,children:[a.jsx("i",{className:"fa-solid fa-user-plus"}),"Add Beneficiary",n&&!n.canAdd&&a.jsx("span",{className:"beneficiaries__add-limit",children:" (limit reached)"})]})]})}const xc={Joined:{icon:"fa-user-plus",color:"success"},Upgraded:{icon:"fa-arrow-up",color:"primary"},Downgraded:{icon:"fa-arrow-down",color:"warning"},Renewed:{icon:"fa-rotate",color:"success"},Cancelled:{icon:"fa-xmark",color:"error"},Lapsed:{icon:"fa-clock",color:"warning"},Reactivated:{icon:"fa-play",color:"success"},default:{icon:"fa-circle",color:"neutral"}};function Fv({history:e}){if(!e||e.length===0)return null;const t=[...e].sort((s,l)=>new Date(l.date)-new Date(s.date)),i=s=>xc[s]||xc.default,n=s=>{const l=new Date(s),c=Math.floor((new Date-l)/(365.25*24*60*60*1e3));return c===0?"This year":c===1?"1 year ago":`${c} years ago`};return a.jsxs("div",{className:"membership-history wrapper-card",children:[a.jsx("div",{className:"membership-history__header",children:a.jsx("h4",{className:"membership-history__title",children:"Membership History"})}),a.jsx("div",{className:"membership-history__timeline",children:t.map((s,l)=>{const r=i(s.event),c=l===t.length-1;return a.jsxs("div",{className:"membership-history__item",children:[a.jsxs("div",{className:"membership-history__connector",children:[a.jsx("div",{className:`membership-history__dot membership-history__dot--${r.color}`,children:a.jsx("i",{className:`fa-solid ${r.icon}`})}),!c&&a.jsx("div",{className:"membership-history__line"})]}),a.jsxs("div",{className:"membership-history__content",children:[a.jsxs("div",{className:"membership-history__event-header",children:[a.jsx("span",{className:`membership-history__event membership-history__event--${r.color}`,children:s.event}),a.jsx("span",{className:"membership-history__tier",children:s.tier})]}),a.jsx("span",{className:"membership-history__programme",children:s.programme}),a.jsxs("div",{className:"membership-history__date",children:[a.jsx("span",{children:oe(s.date)}),a.jsx("span",{className:"membership-history__ago",children:n(s.date)})]})]})]},l)})})]})}function Rv({membership:e,patronId:t,patronName:i,patronEmail:n,onNavigateToPatron:s,onAddBeneficiary:l,onRemoveBeneficiary:r}){const c=j.useMemo(()=>{if(t){const y=vs(t);if(y.length>0){const N=y[0],_=Lf(N.id),p=gs(N.id),h=am(N.id);return{membership:N,beneficiaries:_,primaryPatron:p,slotInfo:h,isPrimary:N.patronRole==="primary",patronRole:N.patronRole,patronRoleLabel:N.patronRoleLabel}}}return e?{membership:e,beneficiaries:e.beneficiaries||[],primaryPatron:null,slotInfo:null,isPrimary:!0,patronRole:"primary",patronRoleLabel:"Primary"}:null},[t,e]);if(!c)return a.jsx("div",{className:"memberships-tab",children:a.jsxs("div",{className:"memberships-tab__empty",children:[a.jsx("i",{className:"fa-solid fa-id-card"}),a.jsx("h3",{children:"No Membership"}),a.jsx("p",{children:"This patron is not currently a member."})]})});const{membership:o,beneficiaries:d,primaryPatron:u,slotInfo:v,isPrimary:m,patronRoleLabel:f}=c,g=t?Wt(t):null;return a.jsxs("div",{className:"memberships-tab",children:[!m&&a.jsxs("div",{className:"memberships-tab__role-banner",children:[a.jsxs("div",{className:"memberships-tab__role-banner-content",children:[a.jsx("i",{className:"fa-solid fa-user-group"}),a.jsxs("div",{className:"memberships-tab__role-banner-text",children:[a.jsxs("span",{className:"memberships-tab__role-banner-title",children:["This patron is ",/^[aeiou]/i.test(f||"")?"an":"a"," ",(f==null?void 0:f.toLowerCase())||"beneficiary"," on this membership"]}),u&&a.jsxs("span",{className:"memberships-tab__role-banner-primary",children:["Primary account holder: "," ",a.jsxs("button",{className:"memberships-tab__role-banner-link",onClick:()=>s&&s(u.id),children:[u.name,a.jsx("i",{className:"fa-solid fa-arrow-right"})]})]})]})]}),a.jsxs("div",{className:"memberships-tab__role-banner-info",children:[a.jsx("i",{className:"fa-solid fa-info-circle"}),"Membership changes must be made from the primary member's profile."]})]}),a.jsxs("div",{className:"memberships-tab__main",children:[a.jsxs("div",{className:"memberships-tab__left",children:[a.jsx(Pv,{membership:o,patronName:i||(g?`${g.firstName} ${g.lastName}`:""),patronEmail:n||(g==null?void 0:g.email),patronPhoto:g==null?void 0:g.photo,isPrimary:m}),o.memberEvents&&a.jsx(Av,{events:o.memberEvents})]}),a.jsxs("div",{className:"memberships-tab__right",children:[a.jsx(Mv,{beneficiaries:d,currentPatronId:t,isPrimary:m,slotInfo:v,onNavigateToPatron:s,onAddBeneficiary:l,onRemoveBeneficiary:r}),a.jsx(Fv,{history:o.membershipHistory||o.history})]})]})]})}function Lv({patron:e,organization:t,receipts:i,totalAmount:n,totalDeductible:s,selectedYear:l,onYearChange:r}){const[c,o]=j.useState(!1),[d,u]=j.useState(!1),v=new Date().getFullYear(),m=[v-1,v-2,v-3],f=()=>{const _=`https://documents.fever.co/tax/${e.id}/${l}`;navigator.clipboard.writeText(_),o(!0),setTimeout(()=>o(!1),2e3)},g=()=>{u(!0),setTimeout(()=>u(!1),3e3)},y=_=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(_),N=i.filter(_=>_.type==="membership");return i.filter(_=>_.type==="donation"),a.jsxs("div",{className:"tax-summary",children:[a.jsxs("div",{className:"tax-summary__header",children:[a.jsxs("div",{className:"tax-summary__header-left",children:[a.jsx("h3",{className:"tax-summary__title",children:"Year-End Tax Summary"}),a.jsx("p",{className:"tax-summary__subtitle",children:"Generate and send tax documentation to patron"})]}),a.jsx("div",{className:"tax-summary__header-right",children:a.jsx("select",{className:"tax-summary__year-select",value:l,onChange:_=>r(Number(_.target.value)),children:m.map(_=>a.jsx("option",{value:_,children:_},_))})})]}),a.jsxs("div",{className:"tax-summary__preview",children:[a.jsxs("div",{className:"tax-summary__org-info",children:[a.jsx("div",{className:"tax-summary__org-logo",children:a.jsx("i",{className:"fa-solid fa-building-columns"})}),a.jsxs("div",{className:"tax-summary__org-details",children:[a.jsx("h4",{className:"tax-summary__org-name",children:t.name}),a.jsxs("p",{className:"tax-summary__org-ein",children:["EIN: ",t.ein]}),a.jsx("p",{className:"tax-summary__org-address",children:t.address})]})]}),a.jsx("div",{className:"tax-summary__divider"}),a.jsxs("div",{className:"tax-summary__patron-info",children:[a.jsx("p",{className:"tax-summary__patron-label",children:"Tax Summary For:"}),a.jsxs("p",{className:"tax-summary__patron-name",children:[e.firstName," ",e.lastName]}),a.jsx("p",{className:"tax-summary__patron-address",children:e.address})]}),a.jsx("div",{className:"tax-summary__divider"}),a.jsxs("div",{className:"tax-summary__contributions",children:[a.jsxs("h5",{className:"tax-summary__section-title",children:[l," Tax-Deductible Contributions"]}),i.length>0?a.jsxs(a.Fragment,{children:[a.jsxs("table",{className:"tax-summary__table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Date"}),a.jsx("th",{children:"Description"}),a.jsx("th",{children:"Campaign"}),a.jsx("th",{className:"text-right",children:"Amount"}),a.jsx("th",{className:"text-right",children:"Tax Deductible"})]})}),a.jsx("tbody",{children:i.map((_,p)=>a.jsxs("tr",{children:[a.jsx("td",{children:oe(_.date)}),a.jsxs("td",{children:[a.jsx("span",{className:`tax-summary__type-badge tax-summary__type-badge--${_.type}`,children:_.type==="membership"?"Membership":"Donation"}),_.description]}),a.jsx("td",{children:a.jsxs("div",{className:"tax-summary__campaign-cell",children:[a.jsx("span",{className:"tax-summary__campaign-name",children:_.campaign||""}),_.appeal&&a.jsx("span",{className:"tax-summary__appeal-name",children:_.appeal})]})}),a.jsx("td",{className:"text-right",children:y(_.amount)}),a.jsx("td",{className:"text-right",children:y(_.deductible)})]},p))}),a.jsx("tfoot",{children:a.jsxs("tr",{children:[a.jsx("td",{colSpan:"3",children:a.jsx("strong",{children:"Total"})}),a.jsx("td",{className:"text-right",children:a.jsx("strong",{children:y(n)})}),a.jsx("td",{className:"text-right",children:a.jsx("strong",{children:y(s)})})]})})]}),N.length>0&&a.jsxs("p",{className:"tax-summary__benefits-note",children:[a.jsx("i",{className:"fa-solid fa-circle-info"}),"Membership contributions are partially deductible. The tax-deductible amount excludes the fair market value of benefits received."]})]}):a.jsxs("div",{className:"tax-summary__empty",children:[a.jsx("i",{className:"fa-solid fa-file-circle-xmark"}),a.jsxs("p",{children:["No tax-deductible contributions found for ",l]})]})]}),a.jsx("div",{className:"tax-summary__divider"}),a.jsx("div",{className:"tax-summary__legal",children:a.jsxs("p",{children:[t.name," is a 501(c)(3) nonprofit organization. Contributions are tax deductible to the extent allowed by law. No goods or services were provided in exchange for donations listed above."]})})]}),a.jsxs("div",{className:"tax-summary__actions",children:[a.jsxs("button",{className:"tax-summary__action tax-summary__action--secondary",onClick:f,children:[a.jsx("i",{className:`fa-solid ${c?"fa-check":"fa-link"}`}),c?"Link Copied!":"Copy Link"]}),a.jsxs("button",{className:"tax-summary__action tax-summary__action--secondary",children:[a.jsx("i",{className:"fa-solid fa-download"}),"Download PDF"]}),a.jsxs("button",{className:"tax-summary__action tax-summary__action--primary",onClick:g,disabled:i.length===0,children:[a.jsx("i",{className:`fa-solid ${d?"fa-check":"fa-envelope"}`}),d?"Email Sent!":"Send via Email"]})]})]})}function $v({summaries:e,receipts:t,inKindDonations:i}){const[n,s]=j.useState("history"),[l,r]=j.useState("all"),c=d=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(d),o=l==="all"?t:t.filter(d=>d.type===l);return a.jsxs("div",{className:"document-history",children:[a.jsxs("div",{className:"document-history__tabs",children:[a.jsxs("button",{className:`document-history__tab ${n==="history"?"document-history__tab--active":""}`,onClick:()=>s("history"),children:[a.jsx("i",{className:"fa-solid fa-clock-rotate-left"}),"History"]}),a.jsxs("button",{className:`document-history__tab ${n==="receipts"?"document-history__tab--active":""}`,onClick:()=>s("receipts"),children:[a.jsx("i",{className:"fa-solid fa-receipt"}),"Receipts"]}),i.length>0&&a.jsxs("button",{className:`document-history__tab ${n==="inkind"?"document-history__tab--active":""}`,onClick:()=>s("inkind"),children:[a.jsx("i",{className:"fa-solid fa-gift"}),"In-Kind"]})]}),n==="history"&&a.jsxs("div",{className:"document-history__content",children:[a.jsx("div",{className:"document-history__section-header",children:a.jsx("h4",{className:"document-history__section-title",children:"Generated Documents"})}),e.length>0?a.jsx("div",{className:"document-history__list",children:e.map((d,u)=>a.jsxs("div",{className:"document-history__item",children:[a.jsx("div",{className:"document-history__item-icon",children:a.jsx("i",{className:"fa-solid fa-file-invoice"})}),a.jsxs("div",{className:"document-history__item-content",children:[a.jsxs("p",{className:"document-history__item-title",children:[d.year," Year-End Tax Summary"]}),a.jsxs("p",{className:"document-history__item-meta",children:["Generated ",oe(d.generated)]})]}),a.jsx("div",{className:"document-history__item-status",children:d.sent?a.jsxs("span",{className:"document-history__status-badge document-history__status-badge--sent",children:[a.jsx("i",{className:"fa-solid fa-check"}),"Sent ",oe(d.sentDate)]}):a.jsx("span",{className:"document-history__status-badge document-history__status-badge--pending",children:"Not sent"})}),a.jsxs("div",{className:"document-history__item-actions",children:[a.jsx("button",{className:"document-history__action-btn",title:"View",children:a.jsx("i",{className:"fa-solid fa-eye"})}),a.jsx("button",{className:"document-history__action-btn",title:"Download",children:a.jsx("i",{className:"fa-solid fa-download"})}),a.jsx("button",{className:"document-history__action-btn",title:"Resend",children:a.jsx("i",{className:"fa-solid fa-paper-plane"})})]})]},u))}):a.jsxs("div",{className:"document-history__empty",children:[a.jsx("i",{className:"fa-solid fa-folder-open"}),a.jsx("p",{children:"No documents generated yet"}),a.jsx("span",{children:"Generate a tax summary to see it here"})]})]}),n==="receipts"&&a.jsxs("div",{className:"document-history__content",children:[a.jsxs("div",{className:"document-history__section-header",children:[a.jsx("h4",{className:"document-history__section-title",children:"Transaction Receipts"}),a.jsxs("select",{className:"document-history__filter",value:l,onChange:d=>r(d.target.value),children:[a.jsx("option",{value:"all",children:"All Types"}),a.jsx("option",{value:"membership",children:"Membership"}),a.jsx("option",{value:"donation",children:"Donation"})]})]}),o.length>0?a.jsx("div",{className:"document-history__receipts-list",children:o.map(d=>a.jsxs("div",{className:"document-history__receipt",children:[a.jsxs("div",{className:"document-history__receipt-main",children:[a.jsx("div",{className:"document-history__receipt-icon",children:a.jsx("i",{className:`fa-solid ${d.type==="donation"?"fa-hand-holding-heart":"fa-id-card"}`})}),a.jsxs("div",{className:"document-history__receipt-details",children:[a.jsx("p",{className:"document-history__receipt-desc",children:d.description}),a.jsxs("p",{className:"document-history__receipt-meta",children:[a.jsx("span",{className:`document-history__receipt-type document-history__receipt-type--${d.type}`,children:d.type==="membership"?"Membership":"Donation"}),a.jsx("span",{className:"document-history__receipt-date",children:oe(d.date)})]})]})]}),a.jsxs("div",{className:"document-history__receipt-amounts",children:[a.jsx("p",{className:"document-history__receipt-amount",children:c(d.amount)}),a.jsx("p",{className:"document-history__receipt-deductible",children:d.deductible>0?a.jsxs(a.Fragment,{children:[c(d.deductible)," deductible"]}):a.jsx("span",{className:"document-history__receipt-non-deductible",children:"Non-deductible"})})]}),a.jsx("button",{className:"document-history__receipt-view",title:"View Receipt",children:a.jsx("i",{className:"fa-solid fa-file-pdf"})})]},d.id))}):a.jsxs("div",{className:"document-history__empty",children:[a.jsx("i",{className:"fa-solid fa-receipt"}),a.jsx("p",{children:"No receipts found"}),a.jsx("span",{children:"Transactions will appear here"})]})]}),n==="inkind"&&a.jsxs("div",{className:"document-history__content",children:[a.jsx("div",{className:"document-history__section-header",children:a.jsx("h4",{className:"document-history__section-title",children:"In-Kind Donations"})}),a.jsxs("div",{className:"document-history__inkind-note",children:[a.jsx("i",{className:"fa-solid fa-circle-info"}),a.jsx("p",{children:"In-kind donations require the donor to determine fair market value for tax purposes. Acknowledgement letters confirm receipt only."})]}),i.length>0?a.jsx("div",{className:"document-history__inkind-list",children:i.map((d,u)=>a.jsxs("div",{className:"document-history__inkind-item",children:[a.jsx("div",{className:"document-history__inkind-icon",children:a.jsx("i",{className:"fa-solid fa-gift"})}),a.jsxs("div",{className:"document-history__inkind-details",children:[a.jsx("p",{className:"document-history__inkind-desc",children:d.description}),a.jsx("p",{className:"document-history__inkind-date",children:oe(d.date)})]}),d.acknowledged&&a.jsxs("span",{className:"document-history__inkind-badge",children:[a.jsx("i",{className:"fa-solid fa-check"}),"Acknowledged"]})]},u))}):a.jsxs("div",{className:"document-history__empty",children:[a.jsx("i",{className:"fa-solid fa-gift"}),a.jsx("p",{children:"No in-kind donations"}),a.jsx("span",{children:"Non-monetary gifts will appear here"})]})]})]})}function Ov({patron:e}){const[t,i]=j.useState(2025),n=e.taxDocuments||{organization:{name:"",ein:"",address:""},yearEndSummaries:[],receipts:[],inKindDonations:[]},s=n.receipts.filter(c=>c.date.includes(t.toString())),l=s.reduce((c,o)=>c+o.amount,0),r=s.reduce((c,o)=>c+o.deductible,0);return a.jsx("div",{className:"documents-tab",children:a.jsxs("div",{className:"documents-tab__main",children:[a.jsx("div",{className:"documents-tab__left",children:a.jsx(Lv,{patron:e,organization:n.organization,receipts:s,totalAmount:l,totalDeductible:r,selectedYear:t,onYearChange:i})}),a.jsx("div",{className:"documents-tab__right",children:a.jsx($v,{summaries:n.yearEndSummaries,receipts:n.receipts,inKindDonations:n.inKindDonations})})]})})}function Ur({isOpen:e,onClose:t,onSuccess:i,patronId:n=null,patronName:s=null,defaultAssignedTo:l=null,defaultStage:r=null}){const[c,o]=j.useState({name:"",askAmount:"",campaignId:"",expectedClose:"",probability:50,stage:r||"identification",nextAction:"",assignedToId:l||""}),[d,u]=j.useState({}),[v,m]=j.useState(!1),[f,g]=j.useState(""),[y,N]=j.useState([]),[_,p]=j.useState(null),[h,x]=j.useState(!1),w=j.useRef(null),b=j.useRef(null),P=$r(),k=ms(),M=Ye.filter(D=>D.id!=="stewardship");if(j.useEffect(()=>{e&&(o({name:"",askAmount:"",campaignId:"",expectedClose:"",probability:50,stage:r||"identification",nextAction:"",assignedToId:l||""}),u({}),g(""),N([]),p(null),x(!1))},[e,l,r]),j.useEffect(()=>{const D=R=>{b.current&&!b.current.contains(R.target)&&w.current&&!w.current.contains(R.target)&&x(!1)};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]),j.useEffect(()=>{const D=R=>{R.key==="Escape"&&e&&t()};return document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[e,t]),j.useEffect(()=>(e&&(document.body.style.overflow="hidden"),()=>{document.body.style.overflow=""}),[e]),!e)return null;const F=D=>{D.target===D.currentTarget&&t()},I=D=>{const{name:R,value:G}=D.target;o(Y=>({...Y,[R]:G})),d[R]&&u(Y=>({...Y,[R]:null}))},A=D=>{const R=D.target.value;if(g(R),d.patron&&u(G=>({...G,patron:null})),R.length>=2){const G=im(R);N(G),x(!0)}else N([]),x(!1)},$=D=>{p(D),g(D.name),x(!1),N([]),d.patron&&u(R=>({...R,patron:null}))},V=()=>{p(null),g(""),N([]),x(!1)},S=n||(_?_.id:null),U=s||(_?_.name:null),O=()=>{const D={};return!n&&!_&&(D.patron="Please select a patron"),c.name.trim()||(D.name="Opportunity name is required"),(!c.askAmount||parseFloat(c.askAmount)<=0)&&(D.askAmount="Ask amount must be greater than 0"),c.campaignId||(D.campaignId="Please select a campaign"),c.expectedClose||(D.expectedClose="Expected close date is required"),c.assignedToId||(D.assignedToId="Please assign to a staff member"),u(D),Object.keys(D).length===0},C=async D=>{if(D.preventDefault(),!!O()){m(!0);try{const R=P.find(Q=>Q.id===c.campaignId),G={patronId:S,patronName:U,name:c.name.trim(),askAmount:parseFloat(c.askAmount),campaignId:c.campaignId,fundId:R?R.fund.id:null,expectedClose:c.expectedClose,probability:parseInt(c.probability),stage:c.stage,nextAction:c.nextAction.trim(),assignedToId:c.assignedToId},Y=Hu(G);await new Promise(Q=>setTimeout(Q,300)),i&&i(Y),t()}catch(R){console.error("Failed to create opportunity:",R),u({submit:"Failed to create opportunity. Please try again."})}finally{m(!1)}}};return a.jsx("div",{className:"opportunity-modal__overlay",onClick:F,children:a.jsxs("div",{className:"opportunity-modal",children:[a.jsxs("div",{className:"opportunity-modal__header",children:[a.jsx("div",{className:"opportunity-modal__header-content",children:a.jsx("h2",{className:"opportunity-modal__title",children:"Create opportunity"})}),a.jsx("button",{className:"opportunity-modal__close",onClick:t,children:a.jsx("i",{className:"fa-solid fa-xmark"})})]}),a.jsxs("form",{className:"opportunity-modal__body",onSubmit:C,children:[n?s&&a.jsxs("div",{className:"opportunity-modal__field",children:[a.jsx("label",{className:"opportunity-modal__label",children:"Patron"}),a.jsxs("div",{className:"opportunity-modal__patron-locked",children:[a.jsx("i",{className:"fa-solid fa-user"}),a.jsx("span",{children:s}),a.jsx("i",{className:"fa-solid fa-lock opportunity-modal__patron-lock-icon"})]})]}):a.jsxs("div",{className:"opportunity-modal__field",children:[a.jsxs("label",{className:"opportunity-modal__label",htmlFor:"opp-patron",children:["Patron ",a.jsx("span",{className:"opportunity-modal__required",children:"*"})]}),_?a.jsxs("div",{className:"opportunity-modal__patron-selected",children:[_.photo&&a.jsx("img",{src:_.photo,alt:"",className:"opportunity-modal__patron-avatar"}),!_.photo&&a.jsx("div",{className:"opportunity-modal__patron-avatar opportunity-modal__patron-avatar--placeholder",children:a.jsx("i",{className:"fa-solid fa-user"})}),a.jsxs("div",{className:"opportunity-modal__patron-info",children:[a.jsx("span",{className:"opportunity-modal__patron-name",children:_.name}),_.email&&a.jsx("span",{className:"opportunity-modal__patron-email",children:_.email})]}),a.jsx("button",{type:"button",className:"opportunity-modal__patron-clear",onClick:V,children:a.jsx("i",{className:"fa-solid fa-xmark"})})]}):a.jsxs("div",{className:"opportunity-modal__patron-search-wrapper",children:[a.jsxs("div",{className:"opportunity-modal__input-prefix",children:[a.jsx("span",{className:"opportunity-modal__prefix",children:a.jsx("i",{className:"fa-solid fa-search"})}),a.jsx("input",{ref:w,id:"opp-patron",type:"text",className:`opportunity-modal__input opportunity-modal__input--currency ${d.patron?"opportunity-modal__input--error":""}`,placeholder:"Search by name or email...",value:f,onChange:A,onFocus:()=>{y.length>0&&x(!0)},autoComplete:"off"})]}),h&&y.length>0&&a.jsx("div",{className:"opportunity-modal__patron-dropdown",ref:b,children:y.map(D=>a.jsxs("button",{type:"button",className:"opportunity-modal__patron-option",onClick:()=>$(D),children:[D.photo?a.jsx("img",{src:D.photo,alt:"",className:"opportunity-modal__patron-avatar--sm"}):a.jsx("div",{className:"opportunity-modal__patron-avatar--sm opportunity-modal__patron-avatar--placeholder",children:a.jsx("i",{className:"fa-solid fa-user"})}),a.jsxs("div",{className:"opportunity-modal__patron-option-info",children:[a.jsx("span",{className:"opportunity-modal__patron-option-name",children:D.name}),D.email&&a.jsx("span",{className:"opportunity-modal__patron-option-email",children:D.email})]})]},D.id))}),h&&f.length>=2&&y.length===0&&a.jsx("div",{className:"opportunity-modal__patron-dropdown",children:a.jsx("div",{className:"opportunity-modal__patron-no-results",children:"No patrons found"})})]}),d.patron&&a.jsx("span",{className:"opportunity-modal__error",children:d.patron})]}),a.jsxs("div",{className:"opportunity-modal__field",children:[a.jsxs("label",{className:"opportunity-modal__label",htmlFor:"opp-name",children:["Opportunity Name ",a.jsx("span",{className:"opportunity-modal__required",children:"*"})]}),a.jsx("input",{id:"opp-name",type:"text",name:"name",className:`opportunity-modal__input ${d.name?"opportunity-modal__input--error":""}`,placeholder:"e.g., Annual Fund Major Gift",value:c.name,onChange:I}),d.name&&a.jsx("span",{className:"opportunity-modal__error",children:d.name})]}),a.jsxs("div",{className:"opportunity-modal__field",children:[a.jsxs("label",{className:"opportunity-modal__label",htmlFor:"opp-amount",children:["Ask Amount ",a.jsx("span",{className:"opportunity-modal__required",children:"*"})]}),a.jsxs("div",{className:"opportunity-modal__input-prefix",children:[a.jsx("span",{className:"opportunity-modal__prefix",children:"$"}),a.jsx("input",{id:"opp-amount",type:"number",name:"askAmount",className:`opportunity-modal__input opportunity-modal__input--currency ${d.askAmount?"opportunity-modal__input--error":""}`,placeholder:"25,000",min:"0",step:"100",value:c.askAmount,onChange:I})]}),d.askAmount&&a.jsx("span",{className:"opportunity-modal__error",children:d.askAmount})]}),a.jsxs("div",{className:"opportunity-modal__field",children:[a.jsxs("label",{className:"opportunity-modal__label",htmlFor:"opp-campaign",children:["Campaign ",a.jsx("span",{className:"opportunity-modal__required",children:"*"})]}),a.jsxs("select",{id:"opp-campaign",name:"campaignId",className:`opportunity-modal__select ${d.campaignId?"opportunity-modal__select--error":""}`,value:c.campaignId,onChange:I,children:[a.jsx("option",{value:"",children:"Select a campaign..."}),P.map(D=>a.jsxs("option",{value:D.id,children:[D.name," (",D.fund.name,")"]},D.id))]}),d.campaignId&&a.jsx("span",{className:"opportunity-modal__error",children:d.campaignId})]}),a.jsxs("div",{className:"opportunity-modal__row",children:[a.jsxs("div",{className:"opportunity-modal__field opportunity-modal__field--half",children:[a.jsxs("label",{className:"opportunity-modal__label",htmlFor:"opp-close",children:["Expected Close ",a.jsx("span",{className:"opportunity-modal__required",children:"*"})]}),a.jsx("input",{id:"opp-close",type:"date",name:"expectedClose",className:`opportunity-modal__input ${d.expectedClose?"opportunity-modal__input--error":""}`,value:c.expectedClose,onChange:I}),d.expectedClose&&a.jsx("span",{className:"opportunity-modal__error",children:d.expectedClose})]}),a.jsxs("div",{className:"opportunity-modal__field opportunity-modal__field--half",children:[a.jsx("label",{className:"opportunity-modal__label",htmlFor:"opp-probability",children:"Probability"}),a.jsx("select",{id:"opp-probability",name:"probability",className:"opportunity-modal__select",value:c.probability,onChange:I,children:sf.map(D=>a.jsx("option",{value:D.value,children:D.label},D.value))})]})]}),a.jsxs("div",{className:"opportunity-modal__row",children:[a.jsxs("div",{className:"opportunity-modal__field opportunity-modal__field--half",children:[a.jsx("label",{className:"opportunity-modal__label",htmlFor:"opp-stage",children:"Initial Stage"}),a.jsx("select",{id:"opp-stage",name:"stage",className:"opportunity-modal__select",value:c.stage,onChange:I,children:M.map(D=>a.jsx("option",{value:D.id,children:D.label},D.id))})]}),a.jsxs("div",{className:"opportunity-modal__field opportunity-modal__field--half",children:[a.jsxs("label",{className:"opportunity-modal__label",htmlFor:"opp-assigned",children:["Assigned To ",a.jsx("span",{className:"opportunity-modal__required",children:"*"})]}),a.jsxs("select",{id:"opp-assigned",name:"assignedToId",className:`opportunity-modal__select ${d.assignedToId?"opportunity-modal__select--error":""}`,value:c.assignedToId,onChange:I,children:[a.jsx("option",{value:"",children:"Select staff..."}),k.map(D=>a.jsx("option",{value:D.id,children:D.name},D.id))]}),d.assignedToId&&a.jsx("span",{className:"opportunity-modal__error",children:d.assignedToId})]})]}),a.jsxs("div",{className:"opportunity-modal__field",children:[a.jsx("label",{className:"opportunity-modal__label",htmlFor:"opp-next-action",children:"Next Action"}),a.jsx("input",{id:"opp-next-action",type:"text",name:"nextAction",className:"opportunity-modal__input",placeholder:"e.g., Schedule introductory call",value:c.nextAction,onChange:I})]}),d.submit&&a.jsxs("div",{className:"opportunity-modal__submit-error",children:[a.jsx("i",{className:"fa-solid fa-exclamation-circle"}),d.submit]})]}),a.jsxs("div",{className:"opportunity-modal__footer",children:[a.jsx("button",{type:"button",className:"opportunity-modal__btn opportunity-modal__btn--secondary",onClick:t,disabled:v,children:"Cancel"}),a.jsx("button",{type:"submit",className:"opportunity-modal__btn opportunity-modal__btn--primary",onClick:C,disabled:v,children:v?a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"fa-solid fa-spinner fa-spin"}),"Creating..."]}):a.jsx(a.Fragment,{children:"Create opportunity"})})]})]})})}function zv({isOpen:e,onClose:t,onSuccess:i,patronId:n,patronName:s,prefillData:l=null}){const[r,c]=j.useState({amount:"",date:new Date().toISOString().split("T")[0],giftType:"check",fundId:"",campaignId:"",appealId:"",paymentReference:"",notes:"",solicitor:"",influencer:""}),[o,d]=j.useState({}),[u,v]=j.useState(!1),[m,f]=j.useState(!1),g=mf(),y=$r(),N=ms(),_=r.fundId?y.filter(k=>k.fund.id===r.fundId):y,p=r.campaignId?ff(r.campaignId):[];if(j.useEffect(()=>{var k,M;e&&(l?(c({amount:l.amount||"",date:new Date().toISOString().split("T")[0],giftType:"check",fundId:((k=l.fund)==null?void 0:k.id)||"",campaignId:((M=l.campaign)==null?void 0:M.id)||"",appealId:"",paymentReference:"",notes:l.notes||"",solicitor:l.assignedToId?qe(l.assignedToId):"",influencer:""}),f(!!l.assignedToId)):(c({amount:"",date:new Date().toISOString().split("T")[0],giftType:"check",fundId:"",campaignId:"",appealId:"",paymentReference:"",notes:"",solicitor:"",influencer:""}),f(!1)),d({}))},[e,l]),j.useEffect(()=>{const k=M=>{M.key==="Escape"&&e&&t()};return document.addEventListener("keydown",k),()=>document.removeEventListener("keydown",k)},[e,t]),j.useEffect(()=>(e&&(document.body.style.overflow="hidden"),()=>{document.body.style.overflow=""}),[e]),!e)return null;const h=k=>{k.target===k.currentTarget&&t()},x=k=>{const{name:M,value:F}=k.target;c(I=>{const A={...I,[M]:F};return M==="fundId"&&I.fundId!==F&&(A.campaignId="",A.appealId=""),M==="campaignId"&&I.campaignId!==F&&(A.appealId=""),A}),o[M]&&d(I=>({...I,[M]:null}))},w=()=>{const k={};return(!r.amount||parseFloat(r.amount)<=0)&&(k.amount="Amount must be greater than 0"),r.date||(k.date="Date is required"),r.fundId||(k.fundId="Please select a fund"),r.campaignId||(k.campaignId="Please select a campaign"),d(k),Object.keys(k).length===0},b=async k=>{if(k.preventDefault(),!!w()){v(!0);try{const M=g.find(S=>S.id===r.fundId),F=y.find(S=>S.id===r.campaignId),I=p.find(S=>S.id===r.appealId),A=[];r.solicitor&&A.push({patronId:null,name:qe(r.solicitor),type:"solicitor"}),r.influencer&&A.push({patronId:null,name:qe(r.influencer),type:"influencer"});const V={...Xu({patronId:n,amount:parseFloat(r.amount),date:r.date,type:"donation",description:r.notes||`${r.giftType} gift`,fundId:r.fundId||null,campaignId:r.campaignId||null,appealId:r.appealId||null,deductible:parseFloat(r.amount),benefitsValue:0,softCredits:A}),patronName:s,giftType:r.giftType,fund:M?{id:M.id,name:M.name}:null,campaign:F?{id:F.id,name:F.name}:null,appeal:I?{id:I.id,name:I.name}:null,paymentReference:r.paymentReference,notes:r.notes};await new Promise(S=>setTimeout(S,300)),i&&i(V),t()}catch(M){console.error("Failed to record gift:",M),d({submit:"Failed to record gift. Please try again."})}finally{v(!1)}}},P=k=>{if(!k)return"$0";const M=parseFloat(k);return isNaN(M)?"$0":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(M)};return a.jsx("div",{className:"gift-modal__overlay",onClick:h,children:a.jsxs("div",{className:"gift-modal",children:[a.jsxs("div",{className:"gift-modal__header",children:[a.jsxs("div",{className:"gift-modal__header-content",children:[a.jsx("h2",{className:"gift-modal__title",children:"Record Gift"}),s&&a.jsxs("p",{className:"gift-modal__subtitle",children:[a.jsx("i",{className:"fa-solid fa-user"}),s]})]}),a.jsx("button",{className:"gift-modal__close",onClick:t,children:a.jsx("i",{className:"fa-solid fa-xmark"})})]}),a.jsxs("form",{className:"gift-modal__body",onSubmit:b,children:[a.jsxs("div",{className:"gift-modal__row",children:[a.jsxs("div",{className:"gift-modal__field gift-modal__field--half",children:[a.jsxs("label",{className:"gift-modal__label",children:["Amount ",a.jsx("span",{className:"gift-modal__required",children:"*"})]}),a.jsxs("div",{className:"gift-modal__input-prefix",children:[a.jsx("span",{className:"gift-modal__prefix",children:"$"}),a.jsx("input",{type:"number",name:"amount",className:`gift-modal__input gift-modal__input--currency ${o.amount?"gift-modal__input--error":""}`,placeholder:"1,000",min:"0",step:"0.01",value:r.amount,onChange:x})]}),o.amount&&a.jsx("span",{className:"gift-modal__error",children:o.amount})]}),a.jsxs("div",{className:"gift-modal__field gift-modal__field--half",children:[a.jsxs("label",{className:"gift-modal__label",children:["Date ",a.jsx("span",{className:"gift-modal__required",children:"*"})]}),a.jsx("input",{type:"date",name:"date",className:`gift-modal__input ${o.date?"gift-modal__input--error":""}`,value:r.date,onChange:x}),o.date&&a.jsx("span",{className:"gift-modal__error",children:o.date})]})]}),a.jsxs("div",{className:"gift-modal__field",children:[a.jsx("label",{className:"gift-modal__label",children:"Gift Type"}),a.jsx("div",{className:"gift-modal__type-grid",children:uf.map(k=>a.jsxs("label",{className:`gift-modal__type-option ${r.giftType===k.id?"gift-modal__type-option--selected":""}`,children:[a.jsx("input",{type:"radio",name:"giftType",value:k.id,checked:r.giftType===k.id,onChange:x}),a.jsx("span",{children:k.name})]},k.id))})]}),a.jsxs("div",{className:"gift-modal__field",children:[a.jsxs("label",{className:"gift-modal__label",children:["Fund ",a.jsx("span",{className:"gift-modal__required",children:"*"})]}),a.jsxs("select",{name:"fundId",className:`gift-modal__select ${o.fundId?"gift-modal__select--error":""}`,value:r.fundId,onChange:x,children:[a.jsx("option",{value:"",children:"Select a fund..."}),g.map(k=>a.jsx("option",{value:k.id,children:k.name},k.id))]}),o.fundId&&a.jsx("span",{className:"gift-modal__error",children:o.fundId})]}),a.jsxs("div",{className:"gift-modal__field",children:[a.jsxs("label",{className:"gift-modal__label",children:["Campaign ",a.jsx("span",{className:"gift-modal__required",children:"*"})]}),a.jsxs("select",{name:"campaignId",className:`gift-modal__select ${o.campaignId?"gift-modal__select--error":""}`,value:r.campaignId,onChange:x,children:[a.jsx("option",{value:"",children:"Select a campaign..."}),_.map(k=>a.jsx("option",{value:k.id,children:k.name},k.id))]}),o.campaignId&&a.jsx("span",{className:"gift-modal__error",children:o.campaignId})]}),p.length>0&&a.jsxs("div",{className:"gift-modal__field",children:[a.jsx("label",{className:"gift-modal__label",children:"Appeal (Optional)"}),a.jsxs("select",{name:"appealId",className:"gift-modal__select",value:r.appealId,onChange:x,children:[a.jsx("option",{value:"",children:"No specific appeal"}),p.map(k=>a.jsx("option",{value:k.id,children:k.name},k.id))]})]}),a.jsxs("div",{className:"gift-modal__field",children:[a.jsx("label",{className:"gift-modal__label",children:"Payment Reference"}),a.jsx("input",{type:"text",name:"paymentReference",className:"gift-modal__input",placeholder:"Check #, Transaction ID, etc.",value:r.paymentReference,onChange:x})]}),a.jsxs("div",{className:"gift-modal__field",children:[a.jsx("label",{className:"gift-modal__label",children:"Notes"}),a.jsx("textarea",{name:"notes",className:"gift-modal__textarea",placeholder:"Additional notes about this gift...",rows:"2",value:r.notes,onChange:x})]}),a.jsxs("div",{className:"gift-modal__section",children:[a.jsxs("button",{type:"button",className:"gift-modal__section-toggle",onClick:()=>f(!m),children:[a.jsx("i",{className:`fa-solid fa-chevron-${m?"down":"right"}`}),"Soft Credits"]}),m&&a.jsx("div",{className:"gift-modal__section-content",children:a.jsxs("div",{className:"gift-modal__row",children:[a.jsxs("div",{className:"gift-modal__field gift-modal__field--half",children:[a.jsx("label",{className:"gift-modal__label",children:"Solicitor"}),a.jsxs("select",{name:"solicitor",className:"gift-modal__select",value:r.solicitor,onChange:x,children:[a.jsx("option",{value:"",children:"None"}),N.map(k=>a.jsx("option",{value:k.name,children:k.name},k.id))]})]}),a.jsxs("div",{className:"gift-modal__field gift-modal__field--half",children:[a.jsx("label",{className:"gift-modal__label",children:"Influencer"}),a.jsxs("select",{name:"influencer",className:"gift-modal__select",value:r.influencer,onChange:x,children:[a.jsx("option",{value:"",children:"None"}),N.map(k=>a.jsx("option",{value:k.name,children:k.name},k.id))]})]})]})})]}),o.submit&&a.jsxs("div",{className:"gift-modal__submit-error",children:[a.jsx("i",{className:"fa-solid fa-exclamation-circle"}),o.submit]})]}),a.jsxs("div",{className:"gift-modal__footer",children:[a.jsxs("div",{className:"gift-modal__summary",children:[a.jsx("span",{className:"gift-modal__summary-label",children:"Gift Total:"}),a.jsx("span",{className:"gift-modal__summary-amount",children:P(r.amount)})]}),a.jsxs("div",{className:"gift-modal__actions",children:[a.jsx("button",{type:"button",className:"gift-modal__btn gift-modal__btn--secondary",onClick:t,disabled:u,children:"Cancel"}),a.jsx("button",{type:"submit",className:"gift-modal__btn gift-modal__btn--primary",onClick:b,disabled:u,children:u?a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"fa-solid fa-spinner fa-spin"}),"Recording..."]}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"fa-solid fa-check"}),"Record gift"]})})]})]})]})})}const Nc=[{id:"phone",name:"Phone Call",icon:"fa-phone"},{id:"email",name:"Email",icon:"fa-envelope"},{id:"meeting",name:"Meeting",icon:"fa-handshake"},{id:"note",name:"Note",icon:"fa-sticky-note"}];function _m({isOpen:e,onClose:t,onSuccess:i,patronId:n,patronName:s,opportunityId:l=null,opportunityName:r=null}){var h;const[c,o]=j.useState({activityType:"phone",date:new Date().toISOString().split("T")[0],subject:"",description:"",relatedOpportunityId:l||"",setFollowUp:!1,nextAction:"",nextActionDate:""}),[d,u]=j.useState({}),[v,m]=j.useState(!1),f=n?nf(n):[];if(j.useEffect(()=>{e&&(o({activityType:"phone",date:new Date().toISOString().split("T")[0],subject:"",description:"",relatedOpportunityId:l||"",setFollowUp:!1,nextAction:"",nextActionDate:""}),u({}))},[e,l]),j.useEffect(()=>{const x=w=>{w.key==="Escape"&&e&&t()};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[e,t]),j.useEffect(()=>(e&&(document.body.style.overflow="hidden"),()=>{document.body.style.overflow=""}),[e]),!e)return null;const g=x=>{x.target===x.currentTarget&&t()},y=x=>{const{name:w,value:b,type:P,checked:k}=x.target;o(M=>({...M,[w]:P==="checkbox"?k:b})),d[w]&&u(M=>({...M,[w]:null}))},N=()=>{const x={};return c.subject.trim()||(x.subject="Subject is required"),c.date||(x.date="Date is required"),c.setFollowUp&&!c.nextAction.trim()&&(x.nextAction="Next action is required when setting follow-up"),u(x),Object.keys(x).length===0},_=async x=>{if(x.preventDefault(),!!N()){m(!0);try{const w={id:`activity-${Date.now()}`,type:c.activityType,date:c.date,subject:c.subject.trim(),description:c.description.trim(),patronId:n,patronName:s,opportunityId:c.relatedOpportunityId||null};if(c.relatedOpportunityId){const b=c.setFollowUp?c.nextAction.trim():null;df(c.relatedOpportunityId,c.date,b)}await new Promise(b=>setTimeout(b,300)),i&&i(w),t()}catch(w){console.error("Failed to log activity:",w),u({submit:"Failed to log activity. Please try again."})}finally{m(!1)}}},p=Nc.find(x=>x.id===c.activityType);return a.jsx("div",{className:"activity-modal__overlay",onClick:g,children:a.jsxs("div",{className:"activity-modal",children:[a.jsxs("div",{className:"activity-modal__header",children:[a.jsxs("div",{className:"activity-modal__header-content",children:[a.jsx("h2",{className:"activity-modal__title",children:"Log activity"}),s&&a.jsxs("p",{className:"activity-modal__subtitle",children:[a.jsx("i",{className:"fa-solid fa-user"}),s]})]}),a.jsx("button",{className:"activity-modal__close",onClick:t,children:a.jsx("i",{className:"fa-solid fa-xmark"})})]}),a.jsxs("form",{className:"activity-modal__body",onSubmit:_,children:[a.jsxs("div",{className:"activity-modal__field",children:[a.jsx("label",{className:"activity-modal__label",children:"Activity Type"}),a.jsx("div",{className:"activity-modal__type-grid",children:Nc.map(x=>a.jsxs("label",{className:`activity-modal__type-option ${c.activityType===x.id?"activity-modal__type-option--selected":""}`,children:[a.jsx("input",{type:"radio",name:"activityType",value:x.id,checked:c.activityType===x.id,onChange:y}),a.jsx("i",{className:`fa-solid ${x.icon}`}),a.jsx("span",{children:x.name})]},x.id))})]}),a.jsxs("div",{className:"activity-modal__field",children:[a.jsxs("label",{className:"activity-modal__label",children:["Date ",a.jsx("span",{className:"activity-modal__required",children:"*"})]}),a.jsx("input",{type:"date",name:"date",className:`activity-modal__input ${d.date?"activity-modal__input--error":""}`,value:c.date,onChange:y}),d.date&&a.jsx("span",{className:"activity-modal__error",children:d.date})]}),a.jsxs("div",{className:"activity-modal__field",children:[a.jsxs("label",{className:"activity-modal__label",children:["Subject ",a.jsx("span",{className:"activity-modal__required",children:"*"})]}),a.jsx("input",{type:"text",name:"subject",className:`activity-modal__input ${d.subject?"activity-modal__input--error":""}`,placeholder:`e.g., ${(p==null?void 0:p.name)||"Activity"} with ${s||"patron"}`,value:c.subject,onChange:y}),d.subject&&a.jsx("span",{className:"activity-modal__error",children:d.subject})]}),a.jsxs("div",{className:"activity-modal__field",children:[a.jsx("label",{className:"activity-modal__label",children:"Description"}),a.jsx("textarea",{name:"description",className:"activity-modal__textarea",placeholder:"Notes about this interaction...",rows:"3",value:c.description,onChange:y})]}),f.length>0&&a.jsxs("div",{className:"activity-modal__field",children:[a.jsx("label",{className:"activity-modal__label",children:"Related Opportunity"}),a.jsxs("select",{name:"relatedOpportunityId",className:"activity-modal__select",value:c.relatedOpportunityId,onChange:y,children:[a.jsx("option",{value:"",children:"No related opportunity"}),f.map(x=>a.jsxs("option",{value:x.id,children:[x.name," ($",x.askAmount.toLocaleString(),")"]},x.id))]})]}),a.jsxs("div",{className:"activity-modal__follow-up",children:[a.jsxs("label",{className:"activity-modal__checkbox-label",children:[a.jsx("input",{type:"checkbox",name:"setFollowUp",checked:c.setFollowUp,onChange:y}),a.jsxs("span",{className:"activity-modal__checkbox-text",children:[a.jsx("i",{className:"fa-solid fa-calendar-plus"}),"Set follow-up action"]})]}),c.setFollowUp&&a.jsxs("div",{className:"activity-modal__follow-up-fields",children:[a.jsxs("div",{className:"activity-modal__field",children:[a.jsxs("label",{className:"activity-modal__label",children:["Next Action ",a.jsx("span",{className:"activity-modal__required",children:"*"})]}),a.jsx("input",{type:"text",name:"nextAction",className:`activity-modal__input ${d.nextAction?"activity-modal__input--error":""}`,placeholder:"e.g., Send follow-up email",value:c.nextAction,onChange:y}),d.nextAction&&a.jsx("span",{className:"activity-modal__error",children:d.nextAction})]}),a.jsxs("div",{className:"activity-modal__field",children:[a.jsx("label",{className:"activity-modal__label",children:"Due Date"}),a.jsx("input",{type:"date",name:"nextActionDate",className:"activity-modal__input",value:c.nextActionDate,onChange:y})]})]})]}),d.submit&&a.jsxs("div",{className:"activity-modal__submit-error",children:[a.jsx("i",{className:"fa-solid fa-exclamation-circle"}),d.submit]})]}),a.jsxs("div",{className:"activity-modal__footer",children:[a.jsx("button",{type:"button",className:"activity-modal__btn activity-modal__btn--secondary",onClick:t,disabled:v,children:"Cancel"}),a.jsx("button",{type:"submit",className:"activity-modal__btn activity-modal__btn--primary",onClick:_,disabled:v,children:v?a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"fa-solid fa-spinner fa-spin"}),"Logging..."]}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:`fa-solid ${(p==null?void 0:p.icon)||"fa-plus"}`}),"Log ",((h=p==null?void 0:p.name)==null?void 0:h.toLowerCase())||"activity"]})})]})]})})}const Uv=[{id:"additional_adult",label:"Additional Adult"},{id:"dependent",label:"Dependent"}],jc=[{id:"spouse",label:"Spouse / Partner"},{id:"child",label:"Child"},{id:"parent",label:"Parent"},{id:"sibling",label:"Sibling"},{id:"other",label:"Other"}];function Bv({isOpen:e,onClose:t,membershipId:i,primaryPatronName:n,onSuccess:s}){const[l,r]=j.useState("search"),[c,o]=j.useState(""),[d,u]=j.useState([]),[v,m]=j.useState(null),[f,g]=j.useState(""),[y,N]=j.useState(""),[_,p]=j.useState(""),[h,x]=j.useState(!0),[w,b]=j.useState(!1),[P,k]=j.useState(""),[M,F]=j.useState({firstName:"",lastName:"",email:"",dateOfBirth:""}),I=j.useRef(null);j.useEffect(()=>{e&&(r("search"),o(""),u([]),m(null),g(""),N(""),p(""),x(!0),k(""),F({firstName:"",lastName:"",email:"",dateOfBirth:""}),setTimeout(()=>{var C;(C=I.current)==null||C.focus()},100))},[e]),j.useEffect(()=>{if(c.length>=2){const C=im(c);u(C)}else u([])},[c]);const A=C=>{m(C),r("assign"),k("")},$=()=>{r("create"),k("")},V=()=>{r("search"),m(null),k("")},S=()=>{if(!M.firstName.trim()||!M.lastName.trim()){k("First name and last name are required");return}const C=Qu(M);m({id:C.id,firstName:C.firstName,lastName:C.lastName,name:`${C.firstName} ${C.lastName}`,email:C.email}),r("assign"),k("")},U=()=>{var R;if(!f){k("Please select a membership role");return}if(h&&!y){k("Please select a relationship type or uncheck the household relationship option");return}b(!0),k("");const C=h?{type:y==="other"?_:((R=jc.find(G=>G.id===y))==null?void 0:R.label.split(" /")[0])||y}:null,D=$f(i,v.id,f,C);b(!1),D.success?(s&&s(D.beneficiary),t()):k(D.error||"Failed to add beneficiary")};if(!e)return null;const O=C=>C?C.split(" ").map(D=>D.charAt(0)).join("").toUpperCase().substring(0,2):"??";return a.jsx("div",{className:"add-beneficiary-modal__overlay",onClick:t,children:a.jsxs("div",{className:"add-beneficiary-modal",onClick:C=>C.stopPropagation(),children:[a.jsxs("div",{className:"add-beneficiary-modal__header",children:[a.jsxs("h2",{className:"add-beneficiary-modal__title",children:[l==="search"&&"Add Beneficiary",l==="create"&&"Create New Patron",l==="assign"&&"Assign Role"]}),a.jsx("button",{className:"add-beneficiary-modal__close",onClick:t,children:a.jsx("i",{className:"fa-solid fa-xmark"})})]}),a.jsxs("div",{className:"add-beneficiary-modal__content",children:[l==="search"&&a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"add-beneficiary-modal__description",children:"Search for an existing patron or create a new one."}),a.jsxs("div",{className:"add-beneficiary-modal__search",children:[a.jsx("i",{className:"fa-solid fa-magnifying-glass"}),a.jsx("input",{ref:I,type:"text",placeholder:"Search by name or email...",value:c,onChange:C=>o(C.target.value)})]}),d.length>0&&a.jsxs("div",{className:"add-beneficiary-modal__results",children:[a.jsx("div",{className:"add-beneficiary-modal__results-label",children:"Results"}),a.jsx("ul",{className:"add-beneficiary-modal__results-list",children:d.map(C=>a.jsxs("li",{className:"add-beneficiary-modal__result-item",onClick:()=>A(C),children:[a.jsx("div",{className:"add-beneficiary-modal__result-avatar",children:C.photo?a.jsx("img",{src:C.photo,alt:C.name}):a.jsx("span",{children:O(C.name)})}),a.jsxs("div",{className:"add-beneficiary-modal__result-info",children:[a.jsx("span",{className:"add-beneficiary-modal__result-name",children:C.name}),a.jsxs("span",{className:"add-beneficiary-modal__result-meta",children:[C.email||"No email",C.hasMembership&&"  Has membership"]})]}),a.jsx("button",{className:"add-beneficiary-modal__result-add",children:"Add"})]},C.id))})]}),c.length>=2&&d.length===0&&a.jsx("div",{className:"add-beneficiary-modal__no-results",children:a.jsxs("p",{children:['No patrons found matching "',c,'"']})}),a.jsx("div",{className:"add-beneficiary-modal__divider",children:a.jsx("span",{children:"or"})}),a.jsx("button",{className:"add-beneficiary-modal__create-btn",onClick:$,children:"Create new patron"})]}),l==="create"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{className:"add-beneficiary-modal__back",onClick:V,children:[a.jsx("i",{className:"fa-solid fa-arrow-left"}),"Back to search"]}),a.jsxs("div",{className:"add-beneficiary-modal__form",children:[a.jsxs("div",{className:"add-beneficiary-modal__form-row",children:[a.jsxs("div",{className:"add-beneficiary-modal__form-field",children:[a.jsx("label",{children:"First Name *"}),a.jsx("input",{type:"text",value:M.firstName,onChange:C=>F({...M,firstName:C.target.value}),placeholder:"First name"})]}),a.jsxs("div",{className:"add-beneficiary-modal__form-field",children:[a.jsx("label",{children:"Last Name *"}),a.jsx("input",{type:"text",value:M.lastName,onChange:C=>F({...M,lastName:C.target.value}),placeholder:"Last name"})]})]}),a.jsxs("div",{className:"add-beneficiary-modal__form-row",children:[a.jsxs("div",{className:"add-beneficiary-modal__form-field",children:[a.jsx("label",{children:"Email"}),a.jsx("input",{type:"email",value:M.email,onChange:C=>F({...M,email:C.target.value}),placeholder:"email@example.com"})]}),a.jsxs("div",{className:"add-beneficiary-modal__form-field",children:[a.jsx("label",{children:"Date of Birth"}),a.jsx("input",{type:"date",value:M.dateOfBirth,onChange:C=>F({...M,dateOfBirth:C.target.value})}),a.jsx("span",{className:"add-beneficiary-modal__field-hint",children:"Used for age-out tracking"})]})]})]}),P&&a.jsxs("div",{className:"add-beneficiary-modal__error",children:[a.jsx("i",{className:"fa-solid fa-exclamation-circle"}),P]}),a.jsxs("div",{className:"add-beneficiary-modal__actions",children:[a.jsx("button",{className:"add-beneficiary-modal__cancel",onClick:t,children:"Cancel"}),a.jsx("button",{className:"add-beneficiary-modal__submit",onClick:S,children:"Continue"})]})]}),l==="assign"&&v&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{className:"add-beneficiary-modal__back",onClick:V,children:[a.jsx("i",{className:"fa-solid fa-arrow-left"}),"Back to search"]}),a.jsxs("div",{className:"add-beneficiary-modal__selected",children:[a.jsx("div",{className:"add-beneficiary-modal__selected-avatar",children:v.photo?a.jsx("img",{src:v.photo,alt:v.name}):a.jsx("span",{children:O(v.name)})}),a.jsxs("div",{className:"add-beneficiary-modal__selected-info",children:[a.jsx("span",{className:"add-beneficiary-modal__selected-label",children:"Adding:"}),a.jsx("span",{className:"add-beneficiary-modal__selected-name",children:v.name}),v.email&&a.jsx("span",{className:"add-beneficiary-modal__selected-email",children:v.email})]})]}),a.jsxs("div",{className:"add-beneficiary-modal__role-section",children:[a.jsx("label",{className:"add-beneficiary-modal__role-label",children:"Add as:"}),a.jsx("div",{className:"add-beneficiary-modal__role-options",children:Uv.map(C=>a.jsxs("label",{className:"add-beneficiary-modal__role-option",children:[a.jsx("input",{type:"radio",name:"membershipRole",value:C.id,checked:f===C.id,onChange:D=>g(D.target.value)}),a.jsx("span",{children:C.label})]},C.id))})]}),a.jsxs("label",{className:"add-beneficiary-modal__checkbox",children:[a.jsx("input",{type:"checkbox",checked:h,onChange:C=>x(C.target.checked)}),a.jsxs("span",{className:"add-beneficiary-modal__checkbox-text",children:[a.jsx("strong",{children:"Also create household relationship"}),a.jsx("small",{children:"Links these patrons in CRM for gift crediting"})]})]}),h&&a.jsxs("div",{className:"add-beneficiary-modal__role-section",children:[a.jsxs("label",{className:"add-beneficiary-modal__role-label",children:["Relationship to ",n||"primary member",":"]}),a.jsx("div",{className:"add-beneficiary-modal__role-options",children:jc.map(C=>a.jsxs("label",{className:"add-beneficiary-modal__role-option",children:[a.jsx("input",{type:"radio",name:"relationship",value:C.id,checked:y===C.id,onChange:D=>N(D.target.value)}),a.jsx("span",{children:C.label})]},C.id))}),y==="other"&&a.jsx("input",{type:"text",className:"add-beneficiary-modal__custom-role",placeholder:"Enter relationship type",value:_,onChange:C=>p(C.target.value)})]}),P&&a.jsxs("div",{className:"add-beneficiary-modal__error",children:[a.jsx("i",{className:"fa-solid fa-exclamation-circle"}),P]}),a.jsxs("div",{className:"add-beneficiary-modal__actions",children:[a.jsx("button",{className:"add-beneficiary-modal__cancel",onClick:t,children:"Cancel"}),a.jsx("button",{className:"add-beneficiary-modal__submit",onClick:U,disabled:w,children:w?"Adding...":"Add as beneficiary"})]})]})]})]})})}function Vv({isOpen:e,onClose:t,membershipId:i,beneficiary:n,onSuccess:s}){const[l,r]=j.useState(!1),[c,o]=j.useState(!1),[d,u]=j.useState(""),v=()=>{o(!0),u("");const f=Of(i,n.patronId||n.id,l);o(!1),f.success?(s&&s(),t()):u(f.error||"Failed to remove beneficiary")};if(!e||!n)return null;const m=n.name||(n.patron?`${n.patron.firstName} ${n.patron.lastName}`:"this person");return a.jsx("div",{className:"remove-beneficiary-modal__overlay",onClick:t,children:a.jsxs("div",{className:"remove-beneficiary-modal",onClick:f=>f.stopPropagation(),children:[a.jsxs("div",{className:"remove-beneficiary-modal__header",children:[a.jsx("h2",{className:"remove-beneficiary-modal__title",children:"Remove Beneficiary"}),a.jsx("button",{className:"remove-beneficiary-modal__close",onClick:t,children:a.jsx("i",{className:"fa-solid fa-xmark"})})]}),a.jsxs("div",{className:"remove-beneficiary-modal__content",children:[a.jsxs("div",{className:"remove-beneficiary-modal__warning",children:[a.jsx("i",{className:"fa-solid fa-triangle-exclamation"}),a.jsxs("span",{children:["Remove ",a.jsx("strong",{children:m})," from this membership?"]})]}),a.jsxs("p",{className:"remove-beneficiary-modal__description",children:[m," will no longer be able to use membership benefits. Their patron record will be preserved for historical tracking."]}),a.jsxs("label",{className:"remove-beneficiary-modal__checkbox",children:[a.jsx("input",{type:"checkbox",checked:l,onChange:f=>r(f.target.checked)}),a.jsxs("span",{className:"remove-beneficiary-modal__checkbox-text",children:[a.jsx("strong",{children:"Also remove household relationship"}),a.jsx("small",{children:"Uncheck if still family, just not on this membership"})]})]}),d&&a.jsxs("div",{className:"remove-beneficiary-modal__error",children:[a.jsx("i",{className:"fa-solid fa-exclamation-circle"}),d]}),a.jsxs("div",{className:"remove-beneficiary-modal__actions",children:[a.jsx("button",{className:"remove-beneficiary-modal__cancel",onClick:t,children:"Cancel"}),a.jsx("button",{className:"remove-beneficiary-modal__submit",onClick:v,disabled:c,children:c?"Removing...":"Remove"})]})]})]})})}const Gv=[{id:"summary",label:"Summary"},{id:"giving",label:"Giving"},{id:"memberships",label:"Memberships"},{id:"profile",label:"Profile"},{id:"timeline",label:"Timeline"},{id:"relationships",label:"Relationships"},{id:"documents",label:"Documents"}],Hv={id:"anderson-collingwood",firstName:"Anderson",lastName:"Collingwood",photo:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",household:{name:"Collingwood Family",verified:!0},category:"Member",email:"collingander@gmail.com",phone:"(555) 123-4567",address:"789 Pine Rd, Austin, TX 73301",assignedToId:"lj",engagement:{level:"on-fire",visits:54,lastVisit:"2025-11-19",activityHistory:[{month:"2025-02",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"attendance",count:2}]},{activities:[{type:"purchase",count:1,value:35}]}]},{month:"2025-03",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[{type:"donation",count:1,value:750}]},{activities:[{type:"attendance",count:2},{type:"purchase",count:1,value:45}]}]},{month:"2025-04",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-05",weeks:[{activities:[]},{activities:[{type:"attendance",count:2}]},{activities:[{type:"attendance",count:1},{type:"purchase",count:2,value:78}]},{activities:[]}]},{month:"2025-06",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[{type:"donation",count:1,value:500},{type:"attendance",count:3}]},{activities:[{type:"attendance",count:2}]},{activities:[{type:"purchase",count:1,value:25}]}]},{month:"2025-07",weeks:[{activities:[]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]}]},{month:"2025-08",weeks:[{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[]},{activities:[{type:"attendance",count:2}]}]},{month:"2025-09",weeks:[{activities:[{type:"attendance",count:1}]},{activities:[{type:"purchase",count:1,value:42}]},{activities:[{type:"attendance",count:2}]},{activities:[{type:"attendance",count:1}]}]},{month:"2025-10",weeks:[{activities:[{type:"attendance",count:2}]},{activities:[{type:"attendance",count:1},{type:"purchase",count:1,value:55}]},{activities:[{type:"attendance",count:3}]},{activities:[{type:"donation",count:1,value:200}]}]},{month:"2025-11",weeks:[{activities:[{type:"attendance",count:2},{type:"purchase",count:1,value:45}]},{activities:[]},{activities:[{type:"attendance",count:1}]},{activities:[{type:"attendance",count:4},{type:"purchase",count:2,value:89}]}]},{month:"2025-12",weeks:[{activities:[{type:"membership",count:1,value:145.99}]},{activities:[{type:"attendance",count:2}]},{activities:[{type:"donation",count:1,value:1e3},{type:"attendance",count:3}]},{activities:[{type:"attendance",count:4},{type:"purchase",count:3,value:156}]}]},{month:"2026-01",weeks:[{activities:[{type:"attendance",count:2}]},{activities:[]},{activities:[{type:"attendance",count:1},{type:"purchase",count:1,value:32}]},{activities:[{type:"attendance",count:3},{type:"donation",count:1,value:250}]}]}]},giving:{lifetimeValue:3222.5,donations:1975,revenue:1247.5,giftCount:6,averageGift:329.17,byFund:{"annual-operating":{name:"Annual Operating",total:1895.99,count:3},education:{name:"Education Programs",total:500,count:1},"capital-building":{name:"Capital Building",total:750,count:1}},byCampaign:{"annual-2026":{name:"2026 Annual Fund",total:2145.99,count:3,goal:5e5},"building-future":{name:"Building the Future",total:750,count:1,goal:5e7},"annual-2025":{name:"2025 Annual Fund",total:250,count:1,goal:45e4}},byYear:{2025:{total:2895.99,count:4},2024:{total:250,count:1}},firstTransaction:{amount:250,date:"2024-11-18"},lastTransaction:{amount:1e3,date:"2025-12-15"},largestTransaction:{amount:1e3,date:"2025-12-15"}},wealthInsights:{propensityScore:"DSI-3",description:"Real Estate holdings of 1.2 million, business executive at a firm with revenues of $1-5 million."},taxDocuments:{organization:{name:"Paradox Museum",ein:"12-3456789",address:"123 Museum Way, Austin, TX 78701"},yearEndSummaries:[{year:2025,generated:"2026-01-15",sent:!0,sentDate:"2026-01-15",method:"email"},{year:2024,generated:"2025-01-12",sent:!0,sentDate:"2025-01-12",method:"email"}],receipts:[{id:1,date:"2025-12-15",type:"donation",description:"Year-End Major Gift",amount:1e3,deductible:1e3,benefitsValue:0,campaign:"2026 Annual Fund",appeal:"Year-End Direct Mail"},{id:2,date:"2025-06-15",type:"donation",description:"Spring Gala Donation",amount:500,deductible:400,benefitsValue:100,campaign:"2026 Annual Fund",appeal:"Spring Gala 2025"},{id:3,date:"2025-12-02",type:"membership",description:"Gold Membership Renewal",amount:145.99,deductible:95.99,benefitsValue:50,campaign:"2026 Annual Fund",appeal:"Membership Renewal"},{id:4,date:"2025-03-22",type:"donation",description:"Building Campaign Gift",amount:750,deductible:750,benefitsValue:0,campaign:"Building the Future",appeal:"Capital Campaign Appeal"},{id:5,date:"2024-11-18",type:"donation",description:"Online Donation",amount:250,deductible:250,benefitsValue:0,campaign:"2025 Annual Fund",appeal:"Website Donate Button"}],inKindDonations:[]}};function Wv({patronId:e,onBack:t,onSelectOpportunity:i,onSelectPatron:n}){const[s,l]=j.useState("summary"),[r,c]=j.useState(!1),[o,d]=j.useState(!1),[u,v]=j.useState(!1),[m,f]=j.useState(!1),[g,y]=j.useState(!1),[N,_]=j.useState(!1),[p,h]=j.useState(null),x=j.useMemo(()=>{if(e){const Q=Wt(e);if(Q)return Q}return Hv},[e]),w=na(x),b=`${x.firstName} ${x.lastName}`,P=j.useMemo(()=>{const Q=vs(x.id);if(Q.length>0){const Se=Q[0],bt=gs(Se.id);return{membershipId:Se.id,primaryPatronName:bt?bt.name:b}}return null},[x.id,b]),k=()=>c(!0),M=()=>d(!0),F=()=>v(!0),I=()=>f(!0),A=Q=>{console.log("Created opportunity:",Q)},$=Q=>{console.log("Recorded gift:",Q)},V=Q=>{console.log("Logged activity:",Q)},S=Q=>{console.log("Assigned to portfolio:",Q)},U=()=>{kf(x.id),console.log("Archived patron:",x.id),t&&t()},O=()=>{Cf(x.id),console.log("Restored patron:",x.id),window.location.reload()},C=Q=>{Sf(x.id,Q),console.log("Updated tags:",Q),window.location.reload()},D=()=>y(!0),R=Q=>{h(Q),_(!0)},G=()=>{console.log("Beneficiary updated"),window.location.reload()},Y=()=>{switch(s){case"summary":return a.jsx(cc,{patron:x,onSelectOpportunity:i,onCreateOpportunity:k,onRecordGift:M,onLogActivity:F,onNavigateToPatron:n});case"giving":return a.jsx(xv,{patronId:x.id});case"memberships":return a.jsx(Rv,{patronId:x.id,patronName:b,patronEmail:x.email,onNavigateToPatron:n,onAddBeneficiary:D,onRemoveBeneficiary:R});case"profile":return a.jsxs("div",{className:"empty-state",children:[a.jsx("i",{className:"fa-solid fa-user-pen empty-state__icon"}),a.jsx("h3",{className:"empty-state__title",children:"Profile Details"}),a.jsx("p",{className:"empty-state__text",children:"Extended profile information, preferences, and custom fields will appear here."})]});case"timeline":return a.jsx(sm,{gifts:hs(x.id),activities:em(x.id),onAddActivity:F,onRecordGift:M,variant:"full"});case"relationships":return a.jsxs("div",{className:"empty-state",children:[a.jsx("i",{className:"fa-solid fa-people-arrows empty-state__icon"}),a.jsx("h3",{className:"empty-state__title",children:"No Relationships Mapped"}),a.jsx("p",{className:"empty-state__text",children:"Household members, organizational affiliations, and other patron relationships will appear here."})]});case"documents":return a.jsx(Ov,{patron:x});default:return a.jsx(cc,{patron:x,onCreateOpportunity:k,onRecordGift:M,onLogActivity:F,onNavigateToPatron:n})}};return a.jsxs("div",{className:"patron-profile",children:[a.jsxs("div",{className:"patron-profile__header",children:[a.jsxs("div",{className:"patron-profile__breadcrumb",children:[a.jsx("span",{className:"patron-profile__breadcrumb-section",children:"Fundraising"}),a.jsx("i",{className:"fa-solid fa-chevron-right patron-profile__breadcrumb-separator"}),t&&a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"patron-profile__breadcrumb-link",onClick:t,children:"Patrons"}),a.jsx("i",{className:"fa-solid fa-chevron-right patron-profile__breadcrumb-separator"})]})]}),a.jsxs("div",{className:"patron-profile__title-row",children:[a.jsxs("h1",{className:"patron-profile__title",children:[a.jsx("span",{className:"patron-profile__first-name",children:x.firstName})," ",a.jsx("span",{className:"patron-profile__last-name",children:x.lastName})]}),w&&a.jsxs("span",{className:"patron-profile__badge patron-profile__badge--managed",children:[a.jsx("i",{className:"fa-solid fa-user-tie"}),"Managed Prospect"]}),!w&&a.jsxs("span",{className:"patron-profile__badge patron-profile__badge--general",children:[a.jsx("i",{className:"fa-solid fa-user"}),"General Constituent"]})]})]}),a.jsxs("div",{className:"patron-profile__container",children:[a.jsx(Kf,{patron:x,isManaged:w,onCreateOpportunity:k,onAddActivity:F,onArchive:U,onRestore:O,onUpdateTags:C}),a.jsxs("div",{className:"patron-profile__tabs-wrapper",children:[a.jsx(qf,{tabs:Gv,activeTab:s,onTabChange:l,assignedToId:x.assignedToId,onAssign:I}),a.jsx("div",{className:"patron-profile__tab-content",children:Y()})]})]}),a.jsx(Ur,{isOpen:r,onClose:()=>c(!1),onSuccess:A,patronId:x.id,patronName:b,defaultAssignedTo:x.assignedToId}),a.jsx(zv,{isOpen:o,onClose:()=>d(!1),onSuccess:$,patronId:x.id,patronName:b}),a.jsx(_m,{isOpen:u,onClose:()=>v(!1),onSuccess:V,patronId:x.id,patronName:b}),a.jsx(nm,{isOpen:m,onClose:()=>f(!1),onSuccess:S,patronId:x.id,patronName:b}),P&&a.jsxs(a.Fragment,{children:[a.jsx(Bv,{isOpen:g,onClose:()=>y(!1),membershipId:P.membershipId,primaryPatronName:P.primaryPatronName,onSuccess:G}),a.jsx(Vv,{isOpen:N,onClose:()=>{_(!1),h(null)},membershipId:P.membershipId,beneficiary:p,onSuccess:G})]})]})}const Qv=()=>us,Yv=vf(),ii=e=>e>=1e6?`$${(e/1e6).toFixed(1)}M`:e>=1e3?`$${(e/1e3).toFixed(0)}K`:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),wc=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),bc=(e,t)=>t===0?"":(e/t).toFixed(1)+"x";function Kv(){const[e,t]=j.useState("all"),[i,n]=j.useState("all"),[s,l]=j.useState(null),r=Qv(),c=Yv.filter(y=>!(e!=="all"&&y.status!==e||i!=="all"&&y.fund.id!==i)),o=c.filter(y=>y.status==="active"),d=c.filter(y=>y.status==="completed"),u=c.reduce((y,N)=>y+N.goal,0),v=c.reduce((y,N)=>y+N.raised,0),m=u>0?v/u*100:0,f=y=>{l(s===y?null:y)},g=y=>{const N=y.raised/y.goal*100,_=s===y.id,p=N>=100;return a.jsxs("div",{className:`campaign-card ${_?"campaign-card--expanded":""}`,children:[a.jsxs("div",{className:"campaign-card__header",children:[a.jsxs("div",{className:"campaign-card__title-row",children:[a.jsx("h3",{className:"campaign-card__name",children:y.name}),p&&a.jsxs("span",{className:"campaign-card__badge campaign-card__badge--success",children:[a.jsx("i",{className:"fa-solid fa-check"})," Goal Met"]})]}),a.jsx("span",{className:"campaign-card__fund",children:y.fund.name})]}),a.jsxs("div",{className:"campaign-card__progress",children:[a.jsxs("div",{className:"campaign-card__progress-header",children:[a.jsx("span",{className:"campaign-card__raised",children:wc(y.raised)}),a.jsxs("span",{className:"campaign-card__goal",children:["of ",wc(y.goal)," goal"]})]}),a.jsx("div",{className:"campaign-card__progress-bar",children:a.jsx("div",{className:`campaign-card__progress-fill ${p?"campaign-card__progress-fill--success":""}`,style:{width:`${Math.min(N,100)}%`}})}),a.jsxs("span",{className:"campaign-card__progress-percent",children:[N.toFixed(1),"%"]})]}),a.jsxs("div",{className:"campaign-card__stats",children:[a.jsxs("div",{className:"campaign-card__stat",children:[a.jsx("span",{className:"campaign-card__stat-value",children:y.donorCount}),a.jsx("span",{className:"campaign-card__stat-label",children:"Donors"})]}),a.jsxs("div",{className:"campaign-card__stat",children:[a.jsx("span",{className:"campaign-card__stat-value",children:y.giftCount}),a.jsx("span",{className:"campaign-card__stat-label",children:"Gifts"})]}),a.jsxs("div",{className:"campaign-card__stat",children:[a.jsx("span",{className:"campaign-card__stat-value",children:ii(y.avgGift)}),a.jsx("span",{className:"campaign-card__stat-label",children:"Avg Gift"})]})]}),a.jsxs("div",{className:"campaign-card__meta",children:[a.jsxs("div",{className:"campaign-card__dates",children:[a.jsx("i",{className:"fa-solid fa-calendar"}),a.jsxs("span",{children:[oe(y.startDate),"  ",oe(y.endDate)]})]}),a.jsxs("div",{className:"campaign-card__manager",children:[a.jsx("i",{className:"fa-solid fa-user"}),a.jsx("span",{children:y.manager})]})]}),a.jsxs("button",{className:"campaign-card__expand-btn",onClick:()=>f(y.id),children:[a.jsx("span",{children:_?"Hide Appeals":`View Appeals (${y.appeals.length})`}),a.jsx("i",{className:`fa-solid fa-chevron-${_?"up":"down"}`})]}),_&&a.jsxs("div",{className:"campaign-card__appeals",children:[a.jsxs("div",{className:"campaign-card__appeals-header",children:[a.jsx("span",{children:"Appeal"}),a.jsx("span",{children:"Raised"}),a.jsx("span",{children:"Cost"}),a.jsx("span",{children:"ROI"})]}),y.appeals.map(h=>a.jsxs("div",{className:"campaign-card__appeal",children:[a.jsxs("span",{className:"campaign-card__appeal-name",children:[a.jsx("i",{className:"fa-solid fa-paper-plane"}),h.name]}),a.jsx("span",{className:"campaign-card__appeal-raised",children:ii(h.raised)}),a.jsx("span",{className:"campaign-card__appeal-cost",children:ii(h.cost)}),a.jsx("span",{className:`campaign-card__appeal-roi ${parseFloat(bc(h.raised,h.cost))>=5?"campaign-card__appeal-roi--good":""}`,children:bc(h.raised,h.cost)})]},h.id))]})]},y.id)};return a.jsxs("div",{className:"campaign-management",children:[a.jsxs("div",{className:"campaign-management__header",children:[a.jsxs("div",{className:"campaign-management__breadcrumb",children:[a.jsx("span",{className:"campaign-management__breadcrumb-section",children:"Fundraising"}),a.jsx("i",{className:"fa-solid fa-chevron-right campaign-management__breadcrumb-separator"})]}),a.jsx("h1",{className:"campaign-management__title",children:"Campaigns"})]}),a.jsxs("div",{className:"campaign-management__container",children:[a.jsxs("div",{className:"campaign-management__toolbar",children:[a.jsxs("div",{className:"campaign-management__totals",children:[a.jsxs("div",{className:"campaign-management__total-item",children:[a.jsx("span",{className:"campaign-management__total-label",children:"Total Goal"}),a.jsx("span",{className:"campaign-management__total-value",children:ii(u)})]}),a.jsxs("div",{className:"campaign-management__total-item",children:[a.jsx("span",{className:"campaign-management__total-label",children:"Raised"}),a.jsx("span",{className:"campaign-management__total-value campaign-management__total-value--primary",children:ii(v)})]}),a.jsxs("div",{className:"campaign-management__total-item",children:[a.jsx("span",{className:"campaign-management__total-label",children:"Progress"}),a.jsxs("span",{className:"campaign-management__total-value",children:[m.toFixed(1),"%"]})]})]}),a.jsxs("div",{className:"campaign-management__filters",children:[a.jsxs("div",{className:"campaign-management__filter",children:[a.jsx("label",{className:"campaign-management__filter-label",children:"Status"}),a.jsxs("select",{className:"campaign-management__filter-select",value:e,onChange:y=>t(y.target.value),children:[a.jsx("option",{value:"all",children:"All Campaigns"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"completed",children:"Completed"})]})]}),a.jsxs("div",{className:"campaign-management__filter",children:[a.jsx("label",{className:"campaign-management__filter-label",children:"Fund"}),a.jsxs("select",{className:"campaign-management__filter-select",value:i,onChange:y=>n(y.target.value),children:[a.jsx("option",{value:"all",children:"All Funds"}),r.map(y=>a.jsx("option",{value:y.id,children:y.name},y.id))]})]}),a.jsx("button",{className:"campaign-management__add-btn",children:"New campaign"})]})]}),o.length>0&&a.jsxs("div",{className:"campaign-management__group",children:[a.jsxs("h2",{className:"campaign-management__group-title",children:[a.jsx("span",{className:"campaign-management__group-status campaign-management__group-status--active"}),"Active Campaigns",a.jsx("span",{className:"campaign-management__group-count",children:o.length})]}),a.jsx("div",{className:"campaign-management__grid",children:o.map(y=>g(y))})]}),d.length>0&&a.jsxs("div",{className:"campaign-management__group",children:[a.jsxs("h2",{className:"campaign-management__group-title",children:[a.jsx("span",{className:"campaign-management__group-status campaign-management__group-status--completed"}),"Completed Campaigns",a.jsx("span",{className:"campaign-management__group-count",children:d.length})]}),a.jsx("div",{className:"campaign-management__grid",children:d.map(y=>g(y))})]}),c.length===0&&a.jsxs("div",{className:"campaign-management__empty",children:[a.jsx("i",{className:"fa-solid fa-bullseye"}),a.jsx("h3",{children:"No campaigns found"}),a.jsx("p",{children:"Try adjusting your filters or create a new campaign."})]})]})]})}const kc=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e);function qv({onNavigateToPatron:e,onSelectOpportunity:t,embedded:i=!1}){const[n,s]=j.useState(ke.filter(S=>S.status==="open")),[l,r]=j.useState("all"),[c,o]=j.useState("all"),[d,u]=j.useState(null),[v,m]=j.useState(!1),[f,g]=j.useState(null),y=Gu(),N=Vu(),_=j.useMemo(()=>y.map(S=>Or(S)).filter(Boolean),[y]),p=j.useMemo(()=>N.map(S=>({id:S,name:ha(S)})),[N]),h=n.filter(S=>!(l!=="all"&&S.assignedToId!==l||c!=="all"&&S.campaignId!==c)),x=S=>h.filter(U=>U.stage===S),w=S=>x(S).reduce((U,O)=>U+O.askAmount,0),b=()=>h.reduce((S,U)=>S+U.askAmount,0),P=(S,U)=>{u(U),S.dataTransfer.effectAllowed="move"},k=S=>{S.preventDefault(),S.dataTransfer.dropEffect="move"},M=(S,U)=>{S.preventDefault(),d&&d.stage!==U&&s(O=>O.map(C=>C.id===d.id?{...C,stage:U}:C)),u(null)},F=()=>{u(null)},I=S=>{t&&t(S.id)},A=S=>{e&&e(S)},$=(S=null)=>{g(S),m(!0)},V=S=>{S.status==="open"&&s(U=>[...U,S])};return a.jsxs("div",{className:`moves-management ${i?"moves-management--embedded":""}`,children:[!i&&a.jsxs("div",{className:"moves-management__header",children:[a.jsxs("div",{className:"moves-management__breadcrumb",children:[a.jsx("span",{className:"moves-management__breadcrumb-section",children:"Fundraising"}),a.jsx("i",{className:"fa-solid fa-chevron-right moves-management__breadcrumb-separator"})]}),a.jsx("h1",{className:"moves-management__title",children:"Pipeline"})]}),a.jsxs("div",{className:"moves-management__container",children:[a.jsxs("div",{className:"moves-management__toolbar",children:[a.jsxs("div",{className:"moves-management__total",children:["Total Pipeline: ",a.jsx("strong",{children:kc(b())}),a.jsxs("span",{className:"moves-management__total-count",children:["(",h.length," opportunities)"]})]}),a.jsxs("div",{className:"moves-management__filters",children:[a.jsxs("label",{className:"moves-management__filter-label",children:[a.jsx("i",{className:"fa-solid fa-user"}),"Assigned To:"]}),a.jsxs("select",{className:"moves-management__filter-select",value:l,onChange:S=>r(S.target.value),children:[a.jsx("option",{value:"all",children:"All Staff"}),_.map(S=>a.jsxs("option",{value:S.id,children:[S.name," (",S.initials,")"]},S.id))]}),a.jsxs("label",{className:"moves-management__filter-label",children:[a.jsx("i",{className:"fa-solid fa-bullhorn"}),"Campaign:"]}),a.jsxs("select",{className:"moves-management__filter-select",value:c,onChange:S=>o(S.target.value),children:[a.jsx("option",{value:"all",children:"All Campaigns"}),p.map(S=>a.jsx("option",{value:S.id,children:S.name},S.id))]}),a.jsx("button",{className:"moves-management__create-btn",onClick:()=>$(),children:"Create opportunity"})]})]}),a.jsx("div",{className:"moves-management__board",children:Ye.map(S=>a.jsxs("div",{className:`moves-management__column ${d?"moves-management__column--droppable":""}`,onDragOver:k,onDrop:U=>M(U,S.id),children:[a.jsxs("div",{className:"moves-management__column-header",children:[a.jsxs("div",{className:"moves-management__column-title",children:[a.jsxs("div",{className:"moves-management__column-title-left",children:[a.jsx("span",{className:"moves-management__column-name",children:S.label}),a.jsx("span",{className:"moves-management__column-count",children:x(S.id).length})]}),S.id!=="stewardship"&&a.jsx("button",{className:"moves-management__column-add",onClick:()=>$(S.id),title:`Create opportunity in ${S.label}`,children:a.jsx("i",{className:"fa-solid fa-plus"})})]}),a.jsx("div",{className:"moves-management__column-value",children:kc(w(S.id))})]}),a.jsxs("div",{className:"moves-management__cards",children:[x(S.id).map(U=>a.jsx("div",{className:`moves-management__card-wrapper ${(d==null?void 0:d.id)===U.id?"moves-management__card-wrapper--dragging":""}`,draggable:!0,onDragStart:O=>P(O,U),onDragEnd:F,children:a.jsx(Wn,{opportunity:U,variant:"kanban",onClick:I,onPatronClick:A,showPatronName:!0})},U.id)),x(S.id).length===0&&a.jsx("div",{className:"moves-management__empty",children:"No opportunities"})]})]},S.id))})]}),a.jsx(Ur,{isOpen:v,onClose:()=>m(!1),onSuccess:V,defaultStage:f})]})}const Cc=e=>e?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e):"$0";function Xv({onSelectOpportunity:e,onSelectPatron:t,embedded:i=!1}){const[n,s]=j.useState("all"),[l,r]=j.useState("all"),[c,o]=j.useState("all"),[d,u]=j.useState("open"),[v,m]=j.useState(""),[f,g]=j.useState(!1),[y,N]=j.useState(0),_=Vu(),p=Gu(),h=j.useMemo(()=>p.map(I=>Or(I)).filter(Boolean),[p]),x=j.useMemo(()=>_.map(I=>({id:I,name:ha(I)})),[_]),w=j.useMemo(()=>ke.filter(I=>{if(d==="open"&&I.status!=="open"||d==="closed"&&I.status==="open"||n!=="all"&&I.stage!==n||l!=="all"&&I.campaignId!==l||c!=="all"&&I.assignedToId!==c)return!1;if(v){const A=v.toLowerCase(),$=Wt(I.patronId),V=$?Ga($):"";return I.name.toLowerCase().includes(A)||V.toLowerCase().includes(A)||I.description&&I.description.toLowerCase().includes(A)}return!0}),[n,l,c,d,v,y]),b=j.useMemo(()=>{const I=Bu();return{total:I.length,totalValue:I.reduce((A,$)=>A+$.askAmount,0),weightedValue:I.reduce((A,$)=>A+$.askAmount*($.probability||50)/100,0),byStage:Ye.reduce((A,$)=>{const V=I.filter(S=>S.stage===$.id);return A[$.id]={count:V.length,value:V.reduce((S,U)=>S+U.askAmount,0)},A},{})}},[y]),P=I=>{e&&e(I.id)},k=I=>{t&&t(I)},M=()=>{g(!0)},F=I=>{N(A=>A+1)};return a.jsxs("div",{className:`opportunities-list ${i?"opportunities-list--embedded":""}`,children:[!i&&a.jsxs("div",{className:"opportunities-list__header",children:[a.jsxs("div",{className:"opportunities-list__breadcrumb",children:[a.jsx("span",{className:"opportunities-list__breadcrumb-section",children:"Fundraising"}),a.jsx("i",{className:"fa-solid fa-chevron-right opportunities-list__breadcrumb-separator"})]}),a.jsx("h1",{className:"opportunities-list__title",children:"Opportunities"})]}),a.jsxs("div",{className:"opportunities-list__container",children:[a.jsxs("div",{className:"opportunities-list__toolbar",children:[a.jsxs("div",{className:"opportunities-list__search",children:[a.jsx("i",{className:"fa-solid fa-search opportunities-list__search-icon"}),a.jsx("input",{type:"text",className:"opportunities-list__search-input",placeholder:"Search by name, patron, or description",value:v,onChange:I=>m(I.target.value)})]}),a.jsxs("div",{className:"opportunities-list__actions",children:[a.jsxs("div",{className:"opportunities-list__filter-group",children:[a.jsxs("select",{value:d,onChange:I=>u(I.target.value),className:"opportunities-list__filter",children:[a.jsx("option",{value:"open",children:"Open"}),a.jsx("option",{value:"closed",children:"Closed"}),a.jsx("option",{value:"all",children:"All Status"})]}),a.jsxs("select",{value:n,onChange:I=>s(I.target.value),className:"opportunities-list__filter",children:[a.jsx("option",{value:"all",children:"All Stages"}),Ye.map(I=>a.jsx("option",{value:I.id,children:I.label},I.id))]}),a.jsxs("select",{value:l,onChange:I=>r(I.target.value),className:"opportunities-list__filter",children:[a.jsx("option",{value:"all",children:"All Campaigns"}),x.map(I=>a.jsx("option",{value:I.id,children:I.name},I.id))]}),a.jsxs("select",{value:c,onChange:I=>o(I.target.value),className:"opportunities-list__filter",children:[a.jsx("option",{value:"all",children:"All Assignees"}),h.map(I=>a.jsx("option",{value:I.id,children:I.name},I.id))]})]}),a.jsx("button",{className:"opportunities-list__create-btn",onClick:M,children:"Create opportunity"})]})]}),a.jsxs("div",{className:"opportunities-list__stats",children:[a.jsxs("div",{className:"opportunities-list__stat",children:[a.jsx("span",{className:"opportunities-list__stat-value opportunities-list__stat-value--highlight",children:b.total}),a.jsx("span",{className:"opportunities-list__stat-label",children:"Open"})]}),a.jsx("div",{className:"opportunities-list__stat-divider"}),a.jsxs("div",{className:"opportunities-list__stat",children:[a.jsx("span",{className:"opportunities-list__stat-value",children:Cc(b.totalValue)}),a.jsx("span",{className:"opportunities-list__stat-label",children:"Total Pipeline"})]}),a.jsx("div",{className:"opportunities-list__stat-divider"}),a.jsxs("div",{className:"opportunities-list__stat",children:[a.jsx("span",{className:"opportunities-list__stat-value",children:Cc(b.weightedValue)}),a.jsx("span",{className:"opportunities-list__stat-label",children:"Weighted"})]})]}),a.jsx("div",{className:"opportunities-list__stages",children:Ye.map(I=>{var A;return a.jsxs("button",{className:`opportunities-list__stage ${n===I.id?"opportunities-list__stage--active":""}`,onClick:()=>s(n===I.id?"all":I.id),children:[a.jsx("span",{className:"opportunities-list__stage-label",children:I.label}),a.jsx("span",{className:"opportunities-list__stage-count",children:((A=b.byStage[I.id])==null?void 0:A.count)||0})]},I.id)})}),a.jsxs("div",{className:"opportunities-list__table-header",children:[a.jsx("span",{children:"Opportunity"}),a.jsx("span",{children:"Amount"}),a.jsx("span",{children:"Stage"}),a.jsx("span",{children:"Prob."}),a.jsx("span",{children:"Expected Close"}),a.jsx("span",{children:"Assigned To"})]}),a.jsx("div",{className:"opportunities-list__content",children:w.length===0?a.jsxs("div",{className:"opportunities-list__empty",children:[a.jsx("i",{className:"fa-solid fa-bullseye"}),a.jsx("p",{children:"No opportunities match your filters"}),a.jsx("button",{onClick:()=>{s("all"),r("all"),o("all"),u("open"),m("")},children:"Clear Filters"})]}):w.map(I=>a.jsx(Wn,{opportunity:I,variant:"full",onClick:P,onPatronClick:k,showPatronName:!0},I.id))}),a.jsxs("div",{className:"opportunities-list__footer",children:["Showing ",w.length," of ",ke.length," opportunities"]})]}),a.jsx(Ur,{isOpen:f,onClose:()=>g(!1),onSuccess:F})]})}function Jv({onSelectOpportunity:e,onSelectPatron:t}){const[i,n]=j.useState("pipeline");return a.jsxs("div",{className:"opportunities",children:[a.jsxs("div",{className:"opportunities__header",children:[a.jsxs("div",{className:"opportunities__breadcrumb",children:[a.jsx("span",{className:"opportunities__breadcrumb-section",children:"Fundraising"}),a.jsx("i",{className:"fa-solid fa-chevron-right opportunities__breadcrumb-separator"})]}),a.jsx("h1",{className:"opportunities__title",children:"Opportunities"})]}),a.jsx("div",{className:"opportunities__container",children:a.jsxs("div",{className:"opportunities__tabs-wrapper",children:[a.jsx("div",{className:"opportunities__tab-nav",children:a.jsxs("div",{className:"opportunities__tabs",children:[a.jsx("button",{className:`opportunities__tab ${i==="pipeline"?"opportunities__tab--active":""}`,onClick:()=>n("pipeline"),children:"Pipeline"}),a.jsx("button",{className:`opportunities__tab ${i==="list"?"opportunities__tab--active":""}`,onClick:()=>n("list"),children:"List"})]})}),a.jsx("div",{className:"opportunities__tab-content",children:i==="pipeline"?a.jsx(qv,{onNavigateToPatron:t,onSelectOpportunity:e,embedded:!0}):a.jsx(Xv,{onSelectOpportunity:e,onSelectPatron:t,embedded:!0})})]})})]})}function Zv({isOpen:e,onClose:t,onSuccess:i,opportunityId:n}){var h,x;const[s,l]=j.useState(null),[r,c]=j.useState(""),[o,d]=j.useState(""),[u,v]=j.useState(!1),[m,f]=j.useState(null);if(j.useEffect(()=>{var w;if(e&&n){const b=Jt(n);l(b),c(((w=b==null?void 0:b.askAmount)==null?void 0:w.toString())||""),d(""),f(null)}},[e,n]),j.useEffect(()=>{const w=b=>{b.key==="Escape"&&e&&t()};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[e,t]),j.useEffect(()=>(e&&(document.body.style.overflow="hidden"),()=>{document.body.style.overflow=""}),[e]),!e||!s)return null;const g=w=>{w.target===w.currentTarget&&t()},y=w=>{const b=parseFloat(w);return isNaN(b)?"$0":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(b)},N=async()=>{const w=parseFloat(r);if(isNaN(w)||w<=0){f("Please enter a valid gift amount");return}v(!0),f(null);try{const b=of(n,w,o||null);b.gift&&Xu(b.gift),await new Promise(P=>setTimeout(P,500)),i&&i(b),t()}catch(b){console.error("Failed to close opportunity:",b),f("Failed to close opportunity. Please try again.")}finally{v(!1)}},_=parseFloat(r)-s.askAmount,p=!isNaN(_)&&_!==0;return a.jsx("div",{className:"close-won-modal__overlay",onClick:g,children:a.jsxs("div",{className:"close-won-modal",children:[a.jsxs("div",{className:"close-won-modal__header",children:[a.jsx("div",{className:"close-won-modal__header-icon",children:a.jsx("i",{className:"fa-solid fa-trophy"})}),a.jsxs("div",{className:"close-won-modal__header-content",children:[a.jsx("h2",{className:"close-won-modal__title",children:"Close as Won"}),a.jsx("p",{className:"close-won-modal__subtitle",children:"Congratulations! Record the gift for this opportunity."})]}),a.jsx("button",{className:"close-won-modal__close",onClick:t,children:a.jsx("i",{className:"fa-solid fa-xmark"})})]}),a.jsxs("div",{className:"close-won-modal__body",children:[a.jsxs("div",{className:"close-won-modal__summary",children:[a.jsxs("div",{className:"close-won-modal__summary-row",children:[a.jsx("span",{className:"close-won-modal__summary-label",children:"Opportunity"}),a.jsx("span",{className:"close-won-modal__summary-value",children:s.name})]}),a.jsxs("div",{className:"close-won-modal__summary-row",children:[a.jsx("span",{className:"close-won-modal__summary-label",children:"Patron"}),a.jsx("span",{className:"close-won-modal__summary-value",children:(()=>{const w=Wt(s.patronId);return w?Ga(w):"Unknown"})()})]}),a.jsxs("div",{className:"close-won-modal__summary-row",children:[a.jsx("span",{className:"close-won-modal__summary-label",children:"Campaign"}),a.jsx("span",{className:"close-won-modal__summary-value",children:((h=s.campaign)==null?void 0:h.name)||""})]}),a.jsxs("div",{className:"close-won-modal__summary-row",children:[a.jsx("span",{className:"close-won-modal__summary-label",children:"Original Ask"}),a.jsx("span",{className:"close-won-modal__summary-value close-won-modal__summary-value--amount",children:y(s.askAmount)})]})]}),a.jsxs("div",{className:"close-won-modal__field",children:[a.jsx("label",{className:"close-won-modal__label",children:"Actual Gift Amount"}),a.jsxs("div",{className:"close-won-modal__amount-input",children:[a.jsx("span",{className:"close-won-modal__prefix",children:"$"}),a.jsx("input",{type:"number",className:"close-won-modal__input",value:r,onChange:w=>c(w.target.value),min:"0",step:"100"})]}),p&&a.jsxs("div",{className:`close-won-modal__difference ${_>0?"close-won-modal__difference--positive":"close-won-modal__difference--negative"}`,children:[a.jsx("i",{className:`fa-solid ${_>0?"fa-arrow-up":"fa-arrow-down"}`}),_>0?"+":"",y(_)," from original ask"]})]}),a.jsxs("div",{className:"close-won-modal__field",children:[a.jsx("label",{className:"close-won-modal__label",children:"Notes (Optional)"}),a.jsx("textarea",{className:"close-won-modal__textarea",placeholder:"Any notes about this gift...",rows:"2",value:o,onChange:w=>d(w.target.value)})]}),a.jsxs("div",{className:"close-won-modal__info",children:[a.jsx("i",{className:"fa-solid fa-info-circle"}),a.jsxs("span",{children:["This will create a gift record for ",y(r)," attributed to ",a.jsx("strong",{children:(x=s.campaign)==null?void 0:x.name})," and move the opportunity to Stewardship."]})]}),m&&a.jsxs("div",{className:"close-won-modal__error",children:[a.jsx("i",{className:"fa-solid fa-exclamation-circle"}),m]})]}),a.jsxs("div",{className:"close-won-modal__footer",children:[a.jsx("button",{className:"close-won-modal__btn close-won-modal__btn--secondary",onClick:t,disabled:u,children:"Cancel"}),a.jsx("button",{className:"close-won-modal__btn close-won-modal__btn--primary",onClick:N,disabled:u,children:u?a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"fa-solid fa-spinner fa-spin"}),"Processing..."]}):a.jsxs(a.Fragment,{children:[a.jsx("i",{className:"fa-solid fa-check"}),"Confirm & create gift"]})})]})]})})}const Sc=e=>e?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e):"$0",eg=e=>{if(!e)return null;const t=new Date(e);return Math.floor((new Date-t)/(1e3*60*60*24))};function tg({opportunityId:e,onBack:t,onNavigateToPatron:i}){var U;const[n,s]=j.useState(()=>Jt(e)),[l,r]=j.useState(!1),[c,o]=j.useState((n==null?void 0:n.askAmount)||0),[d,u]=j.useState((n==null?void 0:n.probability)||50),[v,m]=j.useState((n==null?void 0:n.expectedClose)||""),[f,g]=j.useState((n==null?void 0:n.nextAction)||""),[y,N]=j.useState(!1),[_,p]=j.useState(!1);if(!n)return a.jsxs("div",{className:"opportunity-detail",children:[a.jsx("div",{className:"opportunity-detail__header",children:a.jsxs("button",{className:"opportunity-detail__back",onClick:t,children:[a.jsx("i",{className:"fa-solid fa-arrow-left"}),"Back to Opportunities"]})}),a.jsxs("div",{className:"opportunity-detail__not-found",children:[a.jsx("i",{className:"fa-solid fa-bullseye"}),a.jsx("h2",{children:"Opportunity Not Found"}),a.jsx("p",{children:"The opportunity you're looking for doesn't exist."})]})]});const h=Ye.findIndex(O=>O.id===n.stage),x=eg(n.lastContact),w=n.status==="won"||n.status==="lost",b=Wt(n.patronId),P=b?Ga(b):n.patronId,k=()=>{console.log("Saving:",{askAmount:c,probability:d,expectedClose:v,nextAction:f}),r(!1),alert("Changes saved (mock - no real persistence)")},M=()=>{if(h<Ye.length-1){const O=Ye[h+1];rf(e,O.id),s(Jt(e))}},F=()=>{p(!0)},I=O=>{console.log("Closed as won:",O),s(Jt(e))},A=()=>{const O=prompt("Why was this opportunity lost?","Not interested at this time");O&&(cf(e,O),s(Jt(e)))},$=()=>{N(!0)},V=O=>{console.log("Logged activity:",O),s(Jt(e))},S=()=>{i&&i(n.patronId)};return a.jsxs("div",{className:"opportunity-detail",children:[a.jsxs("div",{className:"opportunity-detail__header",children:[a.jsxs("button",{className:"opportunity-detail__back",onClick:t,children:[a.jsx("i",{className:"fa-solid fa-arrow-left"}),"Back to Opportunities"]}),a.jsx("div",{className:"opportunity-detail__actions",children:!w&&a.jsx(a.Fragment,{children:l?a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"opportunity-detail__btn opportunity-detail__btn--secondary",onClick:()=>r(!1),children:"Cancel"}),a.jsx("button",{className:"opportunity-detail__btn opportunity-detail__btn--primary",onClick:k,children:"Save Changes"})]}):a.jsxs("button",{className:"opportunity-detail__btn opportunity-detail__btn--secondary",onClick:()=>r(!0),children:[a.jsx("i",{className:"fa-solid fa-pen"}),"Edit"]})})})]}),a.jsxs("div",{className:"opportunity-detail__content",children:[a.jsxs("div",{className:"opportunity-detail__main",children:[a.jsxs("div",{className:"opportunity-detail__title-section",children:[a.jsxs("div",{className:"opportunity-detail__title-row",children:[a.jsx("h1",{className:"opportunity-detail__title",children:n.name}),w&&a.jsx("span",{className:`opportunity-detail__status opportunity-detail__status--${n.status}`,children:n.status==="won"?"Closed Won":"Closed Lost"})]}),a.jsxs("p",{className:"opportunity-detail__patron",onClick:S,children:[a.jsx("i",{className:"fa-solid fa-user"}),P]}),n.description&&a.jsx("p",{className:"opportunity-detail__description",children:n.description})]}),a.jsx("div",{className:"opportunity-detail__stepper",children:Ye.map((O,C)=>{const D=C<h,R=C===h,G=C>h;return a.jsxs("div",{className:`opportunity-detail__stage ${D?"opportunity-detail__stage--completed":""} ${R?"opportunity-detail__stage--current":""} ${G?"opportunity-detail__stage--future":""}`,children:[a.jsx("div",{className:"opportunity-detail__stage-circle",children:D?a.jsx("i",{className:"fa-solid fa-check"}):a.jsx("span",{children:C+1})}),a.jsx("span",{className:"opportunity-detail__stage-label",children:O.label})]},O.id)})}),a.jsxs("div",{className:"opportunity-detail__metrics",children:[a.jsxs("div",{className:"opportunity-detail__metric",children:[a.jsx("span",{className:"opportunity-detail__metric-label",children:"Ask Amount"}),l?a.jsx("input",{type:"number",value:c,onChange:O=>o(parseInt(O.target.value)||0),className:"opportunity-detail__input"}):a.jsx("span",{className:"opportunity-detail__metric-value opportunity-detail__metric-value--large",children:Sc(n.askAmount)})]}),a.jsxs("div",{className:"opportunity-detail__metric",children:[a.jsx("span",{className:"opportunity-detail__metric-label",children:"Probability"}),l?a.jsx("select",{value:d,onChange:O=>u(parseInt(O.target.value)),className:"opportunity-detail__input",children:[10,20,30,40,50,60,70,80,90,100].map(O=>a.jsxs("option",{value:O,children:[O,"%"]},O))}):a.jsxs("span",{className:"opportunity-detail__metric-value",children:[n.probability||50,"%"]})]}),a.jsxs("div",{className:"opportunity-detail__metric",children:[a.jsx("span",{className:"opportunity-detail__metric-label",children:"Expected Close"}),l?a.jsx("input",{type:"date",value:v,onChange:O=>m(O.target.value),className:"opportunity-detail__input"}):a.jsx("span",{className:"opportunity-detail__metric-value",children:oe(n.expectedClose)})]}),a.jsxs("div",{className:"opportunity-detail__metric",children:[a.jsx("span",{className:"opportunity-detail__metric-label",children:"Weighted Value"}),a.jsx("span",{className:"opportunity-detail__metric-value",children:Sc(n.askAmount*(n.probability||50)/100)})]})]}),a.jsxs("div",{className:"opportunity-detail__section",children:[a.jsxs("h3",{className:"opportunity-detail__section-title",children:[a.jsx("i",{className:"fa-solid fa-arrow-right"}),"Next Action"]}),l?a.jsx("textarea",{value:f,onChange:O=>g(O.target.value),className:"opportunity-detail__textarea",rows:3}):a.jsx("p",{className:"opportunity-detail__section-content",children:n.nextAction||"No next action set"})]}),a.jsxs("div",{className:"opportunity-detail__section",children:[a.jsxs("h3",{className:"opportunity-detail__section-title",children:[a.jsx("i",{className:"fa-solid fa-clock"}),"Contact"]}),a.jsxs("div",{className:"opportunity-detail__contact-info",children:[a.jsxs("span",{children:["Last contact: ",a.jsx("strong",{children:oe(n.lastContact)}),x!==null&&a.jsxs("span",{className:`opportunity-detail__days ${x>30?"opportunity-detail__days--overdue":x>14?"opportunity-detail__days--warning":""}`,children:["(",x," days ago)"]})]}),a.jsxs("button",{className:"opportunity-detail__log-contact-btn",onClick:$,children:[a.jsx("i",{className:"fa-solid fa-phone"}),"Log contact"]})]})]}),!w&&a.jsxs("div",{className:"opportunity-detail__close-actions",children:[h<Ye.length-1&&a.jsxs("button",{className:"opportunity-detail__btn opportunity-detail__btn--advance",onClick:M,children:[a.jsx("i",{className:"fa-solid fa-forward"}),"Advance to ",(U=Ye[h+1])==null?void 0:U.label.toLowerCase()]}),a.jsxs("button",{className:"opportunity-detail__btn opportunity-detail__btn--won",onClick:F,children:[a.jsx("i",{className:"fa-solid fa-check-circle"}),"Close as won"]}),a.jsxs("button",{className:"opportunity-detail__btn opportunity-detail__btn--lost",onClick:A,children:[a.jsx("i",{className:"fa-solid fa-times-circle"}),"Close as lost"]})]})]}),a.jsxs("div",{className:"opportunity-detail__sidebar",children:[a.jsxs("div",{className:"opportunity-detail__card",children:[a.jsx("h3",{className:"opportunity-detail__card-title",children:"Details"}),a.jsxs("dl",{className:"opportunity-detail__details",children:[a.jsxs("div",{className:"opportunity-detail__detail",children:[a.jsx("dt",{children:"Campaign"}),a.jsx("dd",{children:n.campaignId?ha(n.campaignId):""})]}),a.jsxs("div",{className:"opportunity-detail__detail",children:[a.jsx("dt",{children:"Fund"}),a.jsx("dd",{children:n.fundId?Ui(n.fundId):""})]}),a.jsxs("div",{className:"opportunity-detail__detail",children:[a.jsx("dt",{children:"Assigned To"}),a.jsx("dd",{children:qe(n.assignedToId)})]}),a.jsxs("div",{className:"opportunity-detail__detail",children:[a.jsx("dt",{children:"Created"}),a.jsx("dd",{children:oe(n.createdDate)})]}),n.closedDate&&a.jsxs("div",{className:"opportunity-detail__detail",children:[a.jsx("dt",{children:"Closed"}),a.jsx("dd",{children:oe(n.closedDate)})]}),n.closedReason&&a.jsxs("div",{className:"opportunity-detail__detail",children:[a.jsx("dt",{children:"Close Reason"}),a.jsx("dd",{children:n.closedReason})]})]})]}),a.jsxs("div",{className:"opportunity-detail__card",children:[a.jsx("h3",{className:"opportunity-detail__card-title",children:"Recent Activity"}),a.jsxs("div",{className:"opportunity-detail__activity-placeholder",children:[a.jsx("i",{className:"fa-solid fa-clipboard-list"}),a.jsx("p",{children:"No activity logged for this opportunity yet."}),a.jsx("span",{className:"opportunity-detail__activity-hint",children:'Use "Log contact" to record interactions.'})]})]})]})]}),a.jsx(_m,{isOpen:y,onClose:()=>N(!1),onSuccess:V,patronId:n==null?void 0:n.patronId,patronName:P,opportunityId:e,opportunityName:n==null?void 0:n.name}),a.jsx(Zv,{isOpen:_,onClose:()=>p(!1),onSuccess:I,opportunityId:e})]})}const Ic=[{id:"blackbaud",name:"Blackbaud Raiser's Edge",description:"Enterprise donor management and fundraising platform",icon:"fa-cloud",categories:["Constituents","Gifts","Memberships","Relationships","Activities","Opportunities"]},{id:"tessitura",name:"Tessitura",description:"Arts and cultural organization CRM",icon:"fa-theater-masks",categories:["Constituents","Contributions","Memberships","Relationships","Activities"]},{id:"csv",name:"CSV / Excel",description:"Universal spreadsheet import for any data source",icon:"fa-file-csv",categories:["Constituents","Gifts","Memberships","Relationships","Activities","Tags"]}],ag=[{sourceField:"CONSTITUENT_ID",feverField:"Patron ID",sample:"12345"},{sourceField:"FIRST_NAME",feverField:"First Name",sample:"Anderson"},{sourceField:"LAST_NAME",feverField:"Last Name",sample:"Collingwood"},{sourceField:"EMAIL_ADDRESS",feverField:"Email",sample:"anderson@collingwood.com"},{sourceField:"PHONE",feverField:"Phone",sample:"(555) 123-4567"},{sourceField:"ADDRESS_LINE1",feverField:"Address",sample:"123 Park Avenue"},{sourceField:"GIFT_AMOUNT",feverField:"Gift Amount",sample:"$1,000.00"},{sourceField:"GIFT_DATE",feverField:"Gift Date",sample:"12/15/2025"},{sourceField:"FUND_NAME",feverField:"Fund",sample:"Annual Operating"},{sourceField:"CAMPAIGN_NAME",feverField:"Campaign",sample:"2026 Annual Fund"}],Ec=[{id:"constituents",label:"Constituents",description:"Contacts, demographics, addresses"},{id:"giving",label:"Giving History",description:"Gifts, pledges, soft credits"},{id:"memberships",label:"Memberships",description:"Tiers, benefits, history"},{id:"relationships",label:"Relationships",description:"Households, employers"},{id:"activities",label:"Activities",description:"Notes, communications"},{id:"opportunities",label:"Opportunities",description:"Proposals, pipeline"},{id:"tags",label:"Tags/Attributes",description:"Custom fields, segments"}];function ig(){var I;const[e,t]=j.useState(null),[i,n]=j.useState(""),[s,l]=j.useState(""),[r,c]=j.useState(0),[o,d]=j.useState("tags"),[u,v]=j.useState(1),[m,f]=j.useState(null),[g,y]=j.useState(Ec.reduce((A,$)=>({...A,[$.id]:!0}),{})),N=()=>c(A=>A+1),_=Ee.filter(A=>A.system),p=Ee.filter(A=>!A.system),h=A=>{t(A.id),n(A.label)},x=()=>{i.trim()&&e&&(If(e,i.trim()),t(null),n(""),N())},w=()=>{t(null),n("")},b=A=>{const $=ec(A.id),V=$>0?`This tag is used by ${$} patron${$>1?"s":""}. Are you sure you want to delete "${A.label}"?`:`Are you sure you want to delete "${A.label}"?`;window.confirm(V)&&(Ef(A.id),N())},P=()=>{s.trim()&&(Yu(s.trim()),l(""),N())},k=A=>{A.key==="Enter"?x():A.key==="Escape"&&w()},M=A=>{A.key==="Enter"&&P()},F=(A,$=!1)=>{const V=ec(A.id),S=e===A.id;return a.jsx("div",{className:"settings__tag-row",children:S?a.jsxs("div",{className:"settings__tag-edit",children:[a.jsx("input",{type:"text",className:"settings__tag-input",value:i,onChange:U=>n(U.target.value),onKeyDown:k,autoFocus:!0}),a.jsxs("div",{className:"settings__tag-edit-actions",children:[a.jsx("button",{className:"settings__tag-btn settings__tag-btn--save",onClick:x,children:a.jsx("i",{className:"fa-solid fa-check"})}),a.jsx("button",{className:"settings__tag-btn settings__tag-btn--cancel",onClick:w,children:a.jsx("i",{className:"fa-solid fa-xmark"})})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"settings__tag-info",children:[a.jsx("span",{className:"settings__tag-label",children:A.label}),$&&a.jsx("span",{className:"settings__tag-badge",children:"System"})]}),a.jsxs("div",{className:"settings__tag-meta",children:[a.jsxs("span",{className:"settings__tag-usage",children:[V," patron",V!==1?"s":""]}),a.jsxs("div",{className:"settings__tag-actions",children:[a.jsx("button",{className:"settings__tag-btn settings__tag-btn--edit",onClick:()=>h(A),title:"Edit tag",children:a.jsx("i",{className:"fa-solid fa-pen"})}),!$&&a.jsx("button",{className:"settings__tag-btn settings__tag-btn--delete",onClick:()=>b(A),title:"Delete tag",children:a.jsx("i",{className:"fa-solid fa-trash"})})]})]})]})},A.id)};return a.jsxs("div",{className:"settings",children:[a.jsxs("div",{className:"settings__header",children:[a.jsxs("div",{className:"settings__breadcrumb",children:[a.jsx("span",{className:"settings__breadcrumb-section",children:"Fundraising"}),a.jsx("i",{className:"fa-solid fa-chevron-right settings__breadcrumb-separator"})]}),a.jsx("h1",{className:"settings__title",children:"Settings"})]}),a.jsx("div",{className:"settings__container",children:a.jsxs("div",{className:"settings__wrapper",children:[a.jsxs("nav",{className:"settings__nav",children:[a.jsx("button",{className:`settings__nav-item ${o==="tags"?"settings__nav-item--active":""}`,onClick:()=>d("tags"),children:"Tags"}),a.jsx("button",{className:`settings__nav-item ${o==="import"?"settings__nav-item--active":""}`,onClick:()=>{d("import"),v(1),f(null)},children:"Import Data"}),a.jsx("button",{className:"settings__nav-item settings__nav-item--disabled",disabled:!0,children:"General"}),a.jsx("button",{className:"settings__nav-item settings__nav-item--disabled",disabled:!0,children:"Users"}),a.jsx("button",{className:"settings__nav-item settings__nav-item--disabled",disabled:!0,children:"Integrations"})]}),a.jsxs("div",{className:"settings__content",children:[o==="tags"&&a.jsxs("section",{id:"tags",className:"settings__section",children:[a.jsx("div",{className:"settings__section-header",children:a.jsxs("div",{children:[a.jsx("h2",{className:"settings__section-title",children:"Tags"}),a.jsx("p",{className:"settings__section-description",children:"Manage tags used for patron segmentation. System tags are predefined and cannot be deleted."})]})}),a.jsxs("div",{className:"settings__create-tag",children:[a.jsx("input",{type:"text",className:"settings__create-input",placeholder:"Enter new tag name...",value:s,onChange:A=>l(A.target.value),onKeyDown:M}),a.jsx("button",{className:"settings__create-btn",onClick:P,disabled:!s.trim(),children:"Create tag"})]}),a.jsxs("div",{className:"settings__tag-group",children:[a.jsxs("h3",{className:"settings__tag-group-title",children:["System Tags",a.jsx("span",{className:"settings__tag-group-count",children:_.length})]}),a.jsx("div",{className:"settings__tag-list",children:_.map(A=>F(A,!0))})]}),a.jsxs("div",{className:"settings__tag-group",children:[a.jsxs("h3",{className:"settings__tag-group-title",children:["Custom Tags",a.jsx("span",{className:"settings__tag-group-count",children:p.length})]}),p.length>0?a.jsx("div",{className:"settings__tag-list",children:p.map(A=>F(A,!1))}):a.jsx("div",{className:"settings__tag-empty",children:a.jsx("p",{children:"No custom tags yet. Create one above to get started."})})]})]}),o==="import"&&a.jsxs("section",{id:"import",className:"settings__section",children:[a.jsxs("div",{className:"settings__wizard-steps",children:[a.jsxs("div",{className:`settings__wizard-step ${u>=1?"settings__wizard-step--active":""} ${u>1?"settings__wizard-step--completed":""}`,children:[a.jsx("span",{className:"settings__wizard-step-number",children:"1"}),a.jsx("span",{className:"settings__wizard-step-label",children:"Select Source"})]}),a.jsx("div",{className:"settings__wizard-step-connector"}),a.jsxs("div",{className:`settings__wizard-step ${u>=2?"settings__wizard-step--active":""} ${u>2?"settings__wizard-step--completed":""}`,children:[a.jsx("span",{className:"settings__wizard-step-number",children:"2"}),a.jsx("span",{className:"settings__wizard-step-label",children:"Upload & Map"})]}),a.jsx("div",{className:"settings__wizard-step-connector"}),a.jsxs("div",{className:`settings__wizard-step ${u>=3?"settings__wizard-step--active":""}`,children:[a.jsx("span",{className:"settings__wizard-step-number",children:"3"}),a.jsx("span",{className:"settings__wizard-step-label",children:"Preview & Confirm"})]})]}),u===1&&a.jsxs("div",{className:"settings__import-step",children:[a.jsx("div",{className:"settings__section-header",children:a.jsxs("div",{children:[a.jsx("h2",{className:"settings__section-title",children:"Select Import Source"}),a.jsx("p",{className:"settings__section-description",children:"Choose the system you want to import data from. We'll help you map your fields to Fever's data model."})]})}),a.jsx("div",{className:"settings__import-sources",children:Ic.map(A=>a.jsxs("div",{className:`settings__source-card ${m===A.id?"settings__source-card--selected":""}`,onClick:()=>f(A.id),children:[a.jsxs("div",{className:"settings__source-card-header",children:[a.jsx("div",{className:"settings__source-card-icon",children:a.jsx("i",{className:`fa-solid ${A.icon}`})}),a.jsxs("div",{className:"settings__source-card-info",children:[a.jsx("h3",{className:"settings__source-card-name",children:A.name}),a.jsx("p",{className:"settings__source-card-description",children:A.description})]}),m===A.id&&a.jsx("div",{className:"settings__source-card-check",children:a.jsx("i",{className:"fa-solid fa-check-circle"})})]}),a.jsxs("div",{className:"settings__source-card-categories",children:[a.jsx("span",{className:"settings__source-card-categories-label",children:"Supported data:"}),a.jsx("div",{className:"settings__source-card-tags",children:A.categories.map($=>a.jsx("span",{className:"settings__source-card-tag",children:$},$))})]})]},A.id))}),m&&a.jsxs("div",{className:"settings__import-categories",children:[a.jsx("h3",{className:"settings__import-categories-title",children:"Select data to import"}),a.jsx("div",{className:"settings__import-categories-grid",children:Ec.map(A=>a.jsxs("label",{className:"settings__import-category",children:[a.jsx("input",{type:"checkbox",checked:g[A.id],onChange:$=>y({...g,[A.id]:$.target.checked})}),a.jsxs("div",{className:"settings__import-category-info",children:[a.jsx("span",{className:"settings__import-category-label",children:A.label}),a.jsx("span",{className:"settings__import-category-description",children:A.description})]})]},A.id))})]}),a.jsx("div",{className:"settings__import-actions",children:a.jsxs("button",{className:"settings__import-btn settings__import-btn--primary",disabled:!m,onClick:()=>v(2),children:["Continue",a.jsx("i",{className:"fa-solid fa-arrow-right"})]})})]}),u===2&&a.jsxs("div",{className:"settings__import-step",children:[a.jsx("div",{className:"settings__section-header",children:a.jsxs("div",{children:[a.jsx("h2",{className:"settings__section-title",children:"Upload & Map Fields"}),a.jsx("p",{className:"settings__section-description",children:"Upload your export file and map the fields to Fever's data model."})]})}),a.jsxs("div",{className:"settings__upload-zone",children:[a.jsxs("div",{className:"settings__upload-zone-content",children:[a.jsx("i",{className:"fa-solid fa-cloud-arrow-up settings__upload-zone-icon"}),a.jsxs("p",{className:"settings__upload-zone-text",children:["Drag and drop your file here, or ",a.jsx("span",{className:"settings__upload-zone-link",children:"browse"})]}),a.jsxs("p",{className:"settings__upload-zone-hint",children:["Supports CSV, XLSX, or ",(I=Ic.find(A=>A.id===m))==null?void 0:I.name," export format"]})]}),a.jsxs("div",{className:"settings__upload-zone-file",children:[a.jsx("i",{className:"fa-solid fa-file-csv"}),a.jsx("span",{className:"settings__upload-zone-filename",children:"constituents_export_2026.csv"}),a.jsx("span",{className:"settings__upload-zone-filesize",children:"2.4 MB"}),a.jsx("button",{className:"settings__upload-zone-remove",children:a.jsx("i",{className:"fa-solid fa-xmark"})})]})]}),a.jsxs("div",{className:"settings__mapping",children:[a.jsx("h3",{className:"settings__mapping-title",children:"Field Mapping"}),a.jsx("p",{className:"settings__mapping-description",children:"We've automatically mapped fields where possible. Review and adjust as needed."}),a.jsxs("div",{className:"settings__mapping-table",children:[a.jsxs("div",{className:"settings__mapping-header",children:[a.jsx("span",{children:"Source Field"}),a.jsx("span",{}),a.jsx("span",{children:"Fever Field"}),a.jsx("span",{children:"Sample Data"})]}),ag.map((A,$)=>a.jsxs("div",{className:"settings__mapping-row",children:[a.jsx("span",{className:"settings__mapping-source",children:A.sourceField}),a.jsx("span",{className:"settings__mapping-arrow",children:a.jsx("i",{className:"fa-solid fa-arrow-right"})}),a.jsxs("select",{className:"settings__mapping-select",defaultValue:A.feverField,children:[a.jsx("option",{value:"",children:"-- Skip this field --"}),a.jsx("option",{value:"Patron ID",children:"Patron ID"}),a.jsx("option",{value:"First Name",children:"First Name"}),a.jsx("option",{value:"Last Name",children:"Last Name"}),a.jsx("option",{value:"Email",children:"Email"}),a.jsx("option",{value:"Phone",children:"Phone"}),a.jsx("option",{value:"Address",children:"Address"}),a.jsx("option",{value:"Gift Amount",children:"Gift Amount"}),a.jsx("option",{value:"Gift Date",children:"Gift Date"}),a.jsx("option",{value:"Fund",children:"Fund"}),a.jsx("option",{value:"Campaign",children:"Campaign"})]}),a.jsx("span",{className:"settings__mapping-sample",children:A.sample})]},$))]})]}),a.jsxs("div",{className:"settings__import-actions",children:[a.jsxs("button",{className:"settings__import-btn settings__import-btn--secondary",onClick:()=>v(1),children:[a.jsx("i",{className:"fa-solid fa-arrow-left"}),"Back"]}),a.jsxs("button",{className:"settings__import-btn settings__import-btn--primary",onClick:()=>v(3),children:["Preview Import",a.jsx("i",{className:"fa-solid fa-arrow-right"})]})]})]}),u===3&&a.jsxs("div",{className:"settings__import-step",children:[a.jsx("div",{className:"settings__section-header",children:a.jsxs("div",{children:[a.jsx("h2",{className:"settings__section-title",children:"Preview & Confirm"}),a.jsx("p",{className:"settings__section-description",children:"Review the import summary before proceeding. This action cannot be undone."})]})}),a.jsxs("div",{className:"settings__preview-stats",children:[a.jsxs("div",{className:"settings__preview-stat",children:[a.jsx("span",{className:"settings__preview-stat-value",children:"1,247"}),a.jsx("span",{className:"settings__preview-stat-label",children:"Total Records"})]}),a.jsxs("div",{className:"settings__preview-stat",children:[a.jsx("span",{className:"settings__preview-stat-value",children:"892"}),a.jsx("span",{className:"settings__preview-stat-label",children:"New Patrons"})]}),a.jsxs("div",{className:"settings__preview-stat",children:[a.jsx("span",{className:"settings__preview-stat-value",children:"355"}),a.jsx("span",{className:"settings__preview-stat-label",children:"Updates to Existing"})]}),a.jsxs("div",{className:"settings__preview-stat",children:[a.jsx("span",{className:"settings__preview-stat-value",children:"3,421"}),a.jsx("span",{className:"settings__preview-stat-label",children:"Gifts to Import"})]}),a.jsxs("div",{className:"settings__preview-stat",children:[a.jsx("span",{className:"settings__preview-stat-value",children:"234"}),a.jsx("span",{className:"settings__preview-stat-label",children:"Memberships"})]})]}),a.jsxs("div",{className:"settings__preview-warnings",children:[a.jsxs("div",{className:"settings__preview-warning",children:[a.jsx("i",{className:"fa-solid fa-triangle-exclamation"}),a.jsx("span",{children:"12 records are missing email addresses"})]}),a.jsxs("div",{className:"settings__preview-warning",children:[a.jsx("i",{className:"fa-solid fa-triangle-exclamation"}),a.jsx("span",{children:"3 records have invalid phone number formats"})]})]}),a.jsxs("div",{className:"settings__preview-table-container",children:[a.jsx("h3",{className:"settings__preview-table-title",children:"Sample Records"}),a.jsxs("table",{className:"settings__preview-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Name"}),a.jsx("th",{children:"Email"}),a.jsx("th",{children:"Lifetime Value"}),a.jsx("th",{children:"Status"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{children:"Anderson Collingwood"}),a.jsx("td",{children:"anderson@collingwood.com"}),a.jsx("td",{children:"$3,222.50"}),a.jsx("td",{children:a.jsx("span",{className:"settings__preview-badge settings__preview-badge--update",children:"Update"})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Margaret Williams"}),a.jsx("td",{children:"margaret.w@email.com"}),a.jsx("td",{children:"$15,750.00"}),a.jsx("td",{children:a.jsx("span",{className:"settings__preview-badge settings__preview-badge--new",children:"New"})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Robert Chen"}),a.jsx("td",{children:"rchen@business.com"}),a.jsx("td",{children:"$8,500.00"}),a.jsx("td",{children:a.jsx("span",{className:"settings__preview-badge settings__preview-badge--new",children:"New"})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Sarah Johnson"}),a.jsx("td",{children:"sarah.j@gmail.com"}),a.jsx("td",{children:"$2,100.00"}),a.jsx("td",{children:a.jsx("span",{className:"settings__preview-badge settings__preview-badge--update",children:"Update"})})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"David Park"}),a.jsx("td",{children:"dpark@company.org"}),a.jsx("td",{children:"$950.00"}),a.jsx("td",{children:a.jsx("span",{className:"settings__preview-badge settings__preview-badge--new",children:"New"})})]})]})]})]}),a.jsxs("div",{className:"settings__import-actions",children:[a.jsxs("button",{className:"settings__import-btn settings__import-btn--secondary",onClick:()=>v(2),children:[a.jsx("i",{className:"fa-solid fa-arrow-left"}),"Back"]}),a.jsxs("button",{className:"settings__import-btn settings__import-btn--primary settings__import-btn--success",onClick:()=>alert("Import preview complete. In production, this would begin the data import process."),children:[a.jsx("i",{className:"fa-solid fa-check"}),"Start Import"]})]})]})]})]})]})})]},r)}function ng(){const[e,t]=j.useState(!1),[i,n]=j.useState("dashboard"),[s,l]=j.useState(null),[r,c]=j.useState(null),o=f=>{l(f),n("patron")},d=()=>{l(null),n("patrons")},u=f=>{c(f),n("opportunity")},v=()=>{c(null),n("opportunities")},m=()=>{switch(i){case"dashboard":return a.jsx(ic,{onNavigateToPatron:o,onNavigateToOpportunity:u,onNavigateToPage:n});case"campaigns":return a.jsx(Kv,{});case"patrons":return a.jsx(Yf,{onSelectPatron:o});case"patron":return a.jsx(Wv,{patronId:s,onBack:d,onSelectOpportunity:u,onSelectPatron:o});case"opportunities":return a.jsx(Jv,{onSelectOpportunity:u,onSelectPatron:o});case"opportunity":return a.jsx(tg,{opportunityId:r,onBack:v,onNavigateToPatron:o});case"settings":return a.jsx(ig,{});default:return a.jsx(ic,{onNavigateToPatron:o,onNavigateToOpportunity:u,onNavigateToPage:n})}};return a.jsxs("div",{className:"app",children:[a.jsx(Jh,{onToggleSidebar:()=>t(!e)}),a.jsxs("div",{className:"app__body",children:[a.jsx(ef,{collapsed:e,activePage:i,onNavigate:n}),a.jsx("main",{className:`app__content ${e?"app__content--expanded":""}`,children:m()})]}),a.jsx(tf,{})]})}Ys.createRoot(document.getElementById("root")).render(a.jsx(ue.StrictMode,{children:a.jsx(ng,{})}));
